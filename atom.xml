<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Wheat</title>
  <subtitle>é‡‘æˆˆé“é©¬ï¼Œå†™æ„é£æµ</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https:guohuaden.com/"/>
  <updated>2017-02-11T05:16:22.000Z</updated>
  <id>https:guohuaden.com/</id>
  
  <author>
    <name>é’å·ä¸‰éƒ¨</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>èŠä¸€èŠWKWebView</title>
    <link href="https:guohuaden.com/2017/02/11/WKWebView/"/>
    <id>https:guohuaden.com/2017/02/11/WKWebView/</id>
    <published>2017-02-11T02:33:52.000Z</published>
    <updated>2017-02-11T05:16:22.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>ç”±äºä¹‹å‰ä¸€ç›´åœ¨ç”¨<code>UIWebView</code>,æ‰€ä»¥å¯¹äº<code>WKWebView</code>åªæ˜¯åœç•™åœ¨çŸ¥é“ï¼Œäº†è§£çš„çŠ¶æ€ï¼Œå¹¶æœªæ·±å…¥çš„å»ç ”ç©¶ã€‚å‰å¤©ä¸€ä¸ªé¡¹ç›®è¦æ±‚æ”¯æŒiOS8ä»¥ä¸Šï¼Œè¦åŠ å…¥ä¸€ä¸ªwebç•Œé¢ã€‚åœ¨ä¹ æƒ¯æ€§ä½¿ç”¨<code>UIWebView</code>å†™åˆ°ä¸€åŠçš„æ—¶å€™ï¼Œçªç„¶æƒ³ä½¿ç”¨<code>WKWebView</code>å»å®ç°ï¼Œæ‰€ä»¥ä¸“é—¨èŠ±è´¹äº†äº›æ—¶é—´å»ç ”ç©¶äº†ä¸€ä¸‹<code>WKWebView</code>ï¼Œå¾ˆæ˜¯å–œæ¬¢ã€‚</p>
<h3 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h3><p>æ¥ä¸‹æ¥çºªå½•ä¸€ä¸‹ä½¿ç”¨<code>WKWebView</code>çš„è¿‡ç¨‹ç»†èŠ‚ã€‚ä½†å…³äº<code>WKWebView</code>ä¸<code>js</code>äº’äº¤çš„éƒ¨åˆ†ä¿ç•™æ„è§ï¼Œå› ä¸ºå¹¶æ²¡æœ‰æ·±å…¥å»ç ”ç©¶è¿™ä¸€ç‚¹ã€‚</p>
<h3 id="1ã€å¼•å…¥WebKitåº“"><a href="#1ã€å¼•å…¥WebKitåº“" class="headerlink" title="1ã€å¼•å…¥WebKitåº“"></a>1ã€å¼•å…¥WebKitåº“</h3><p>Appleæ–¹é¢ä¸ºä½¿ç”¨<code>WKWebView</code>ä¸“é—¨æ·»åŠ äº†<code>WebKit</code>åº“ï¼Œåœ¨ä½¿ç”¨<code>WKWebView</code>æ—¶å€™å¿…é¡»å¼•å…¥<code>WebKit</code>åº“æ‰å¯ä»¥ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#import &lt;WebKit/WebKit.h&gt;</div></pre></td></tr></table></figure></p>
<h3 id="2ã€åˆå§‹åŒ–WKWebView"><a href="#2ã€åˆå§‹åŒ–WKWebView" class="headerlink" title="2ã€åˆå§‹åŒ–WKWebView"></a>2ã€åˆå§‹åŒ–WKWebView</h3><p>åœ¨æ–‡æ¡£ä¸­å¯ä»¥çœ‹å‡ºï¼Œ<code>WKWebView</code>çš„åˆå§‹åŒ–æ–¹æ³•æœ‰ä¸¤ç§ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">- (instancetype)initWithFrame:(CGRect)frame;</div><div class="line">- (instancetype)initWithFrame:(CGRect)frame configuration:(WKWebViewConfiguration *)configuration NS_DESIGNATED_INITIALIZER</div></pre></td></tr></table></figure>
<ul>
<li>æˆ‘ä»¬å¤§å¤šä½¿ç”¨ç¬¬ä¸€ç§æ–¹å¼ï¼Œè¿™ä¹Ÿæ˜¯æ–‡æ¡£ä¸­é»˜è®¤çš„ä¸€ç§æ–¹å¼ã€‚è¿™é‡Œä¸å†å¤šè¯´ã€‚</li>
<li>å…³äºç¬¬äºŒç§æ–¹å¼ï¼Œå…¶å®å°±æ˜¯åœ¨åˆå§‹åŒ–<code>WKWebView</code>æ—¶ï¼Œç»™<code>webView</code>åšä¸€ä¸ªé…ç½®ï¼Œæˆ‘è¿™é‡Œç»™å‡ºä¸€æ®µç®€å•çš„é…ç½®ä»£ç ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">WKWebViewConfiguration *config = [[WKWebViewConfiguration alloc]init];</div><div class="line">config.preferences = [WKPreferences new];</div><div class="line">config.preferences.minimumFontSize = 20.f;</div><div class="line">config.preferences.javaScriptEnabled = YES; //The default value is YES</div><div class="line">config.preferences.javaScriptCanOpenWindowsAutomatically = NO;//The default value is NO in iOS and YES in OS X.</div><div class="line">//config.preferences.javaEnabled = NO ; //The default value is NO .ä¸åœ¨iphoneä¸­ä½¿ç”¨çš„æ–¹æ³•</div><div class="line">config.userContentController = [WKUserContentController new];  </div><div class="line">self.webView = [[WKWebView alloc]initWithFrame:self.view.bounds configuration:config];</div></pre></td></tr></table></figure>
<p><strong>æ³¨ï¼š</strong>å…¶å®ç¬¬ä¸€ç§æ–¹å¼ï¼Œè™½ç„¶æˆ‘ä»¬å¹¶æ²¡æœ‰æŒ‡å®šåˆå§‹åŒ–çš„é…ç½®ï¼Œä½†Appleä¹Ÿä¸ºæˆ‘ä»¬æŒ‡å®šäº†ä¸€ä¸ªé»˜è®¤çš„é…ç½®ã€‚</p>
<h3 id="3ã€åŠ è½½ç½‘é¡µ"><a href="#3ã€åŠ è½½ç½‘é¡µ" class="headerlink" title="3ã€åŠ è½½ç½‘é¡µ"></a>3ã€åŠ è½½ç½‘é¡µ</h3><p>æ–¹æ³•æœ‰å‡ ç§ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„æ˜¯</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">NSURLRequest *request = [[NSURLRequest alloc]initWithURL:[NSURL URLWithString:@&quot;https://www.baidu.com&quot;]];</div><div class="line">[self.webView loadRequest:request];</div></pre></td></tr></table></figure>
<p>å‰©ä¸‹çš„å‡ ç§ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[self.webView loadHTMLString:(nonnull NSString *) baseURL:(nullable NSURL *)];</div><div class="line"></div><div class="line">[self.webView loadFileURL:(nonnull NSURL *) allowingReadAccessToURL:(nonnull NSURL *)];</div><div class="line"></div><div class="line">[self.webView loadData:(nonnull NSData *) MIMEType:(nonnull NSString *) characterEncodingName:(nonnull NSString *) baseURL:(nonnull NSURL *)];</div></pre></td></tr></table></figure>
<h3 id="4ã€åŠ è½½jsä»£ç "><a href="#4ã€åŠ è½½jsä»£ç " class="headerlink" title="4ã€åŠ è½½jsä»£ç "></a>4ã€åŠ è½½jsä»£ç </h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">// å›¾ç‰‡ç¼©æ”¾çš„jsä»£ç </div><div class="line">NSString *js = @&quot;var count = document.images.length;for (var i = 0; i &lt; count; i++) &#123;var image = document.images[i];image.style.width=500;image.style.height=600;&#125;;window.alert(&apos;æ‰¾åˆ°&apos; + count + &apos;å¼ å›¾&apos;);&quot;;</div><div class="line"></div><div class="line">// æ ¹æ®JSå­—ç¬¦ä¸²åˆå§‹åŒ–WKUserScriptå¯¹è±¡</div><div class="line">WKUserScript *script = [[WKUserScript alloc] initWithSource:js injectionTime:WKUserScriptInjectionTimeAtDocumentEnd forMainFrameOnly:YES];</div><div class="line"></div><div class="line">// æ ¹æ®ç”Ÿæˆçš„WKUserScriptå¯¹è±¡ï¼Œåˆå§‹åŒ–WKWebViewConfiguration</div><div class="line">WKWebViewConfiguration *config = [[WKWebViewConfiguration alloc] init];</div><div class="line"></div><div class="line">[config.userContentController addUserScript:script];</div><div class="line"></div><div class="line">_webView = [[WKWebView alloc] initWithFrame:self.view.bounds configuration:config];</div><div class="line"></div><div class="line">[_webView loadHTMLString:@&quot;&lt;head&gt;&lt;/head&gt;&lt;img src=&apos;http://og3hqoz3g.bkt.clouddn.com/%E5%B9%B8%E7%A6%8F%E9%82%AE%E5%B1%80.jpg&apos; /&gt;&quot;baseURL:nil];</div><div class="line"></div><div class="line">[self.view addSubview:_webView];</div></pre></td></tr></table></figure>
<h3 id="5ã€ä»£ç†"><a href="#5ã€ä»£ç†" class="headerlink" title="5ã€ä»£ç†"></a>5ã€ä»£ç†</h3><p><code>WKWebView</code>çš„ä»£ç†æœ‰ä¸¤ä¸ªï¼š<code>WKNavigationDelegate</code> å’Œ <code>WKUIDelegate</code></p>
<ul>
<li><strong>5.1ã€ WKNavigationDelegateï¼ˆåŠ è½½ç•Œé¢æ—¶è°ƒç”¨çš„åè®®æ–¹æ³•ï¼‰</strong></li>
</ul>
<p>è¿‡ç¨‹ï¼š</p>
<ol>
<li>åœ¨è¯·æ±‚å‘é€ä¹‹å‰ï¼Œå†³å®šæ˜¯å¦è·³è½¬</li>
<li>é¡µé¢å¼€å§‹åŠ è½½æ—¶è°ƒç”¨</li>
<li>åœ¨æ”¶åˆ°å“åº”åï¼Œå†³å®šæ˜¯å¦è·³è½¬</li>
<li>å†…å®¹å¼€å§‹åŠ è½½æ—¶è°ƒç”¨</li>
<li>æ¥æ”¶åˆ°æœåŠ¡å™¨è·³è½¬è¯·æ±‚ä¹‹åè°ƒç”¨ï¼ˆä¸ä¸€å®šè°ƒç”¨è¯¥æ–¹æ³•ï¼‰</li>
<li>é¡µé¢åŠ è½½å®Œæˆæ—¶è°ƒç”¨</li>
<li>è¯·æ±‚å¤±è´¥æ—¶è°ƒç”¨</li>
</ol>
<p>åè®®æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line">//é¡µé¢å¼€å§‹åŠ è½½æ—¶è°ƒç”¨</div><div class="line">- (void)webView:(WKWebView *)webView didStartProvisionalNavigation:(null_unspecified WKNavigation *)navigation</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;é¡µé¢å¼€å§‹åŠ è½½æ—¶è°ƒç”¨ã€‚   2&quot;);</div><div class="line">&#125;</div><div class="line">//å†…å®¹è¿”å›æ—¶è°ƒç”¨ï¼Œå¾—åˆ°è¯·æ±‚å†…å®¹æ—¶è°ƒç”¨(å†…å®¹å¼€å§‹åŠ è½½) -&gt; viewçš„è¿‡æ¸¡åŠ¨ç”»å¯åœ¨æ­¤æ–¹æ³•ä¸­åŠ è½½</div><div class="line">- (void)webView:(WKWebView *)webView didCommitNavigation:( WKNavigation *)navigation</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;å†…å®¹è¿”å›æ—¶è°ƒç”¨ï¼Œå¾—åˆ°è¯·æ±‚å†…å®¹æ—¶è°ƒç”¨ã€‚ 4&quot;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">//é¡µé¢åŠ è½½å®Œæˆæ—¶è°ƒç”¨</div><div class="line">- (void)webView:(WKWebView *)webView didFinishNavigation:( WKNavigation *)navigation</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;é¡µé¢åŠ è½½å®Œæˆæ—¶è°ƒç”¨ã€‚ 5&quot;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">//è¯·æ±‚å¤±è´¥æ—¶è°ƒç”¨</div><div class="line">- (void)webView:(WKWebView *)webView didFailProvisionalNavigation:(WKNavigation *)navigation withError:(NSError *)error</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;error1:%@&quot;,error);</div><div class="line">&#125;</div><div class="line"></div><div class="line">-(void)webView:(WKWebView *)webView didFailNavigation:(WKNavigation *)navigation withError:(NSError *)error</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;error2:%@&quot;,error);</div><div class="line">&#125;</div><div class="line"></div><div class="line">//åœ¨è¯·æ±‚å‘é€ä¹‹å‰ï¼Œå†³å®šæ˜¯å¦è·³è½¬ -&gt; è¯¥æ–¹æ³•å¦‚æœä¸å®ç°ï¼Œç³»ç»Ÿé»˜è®¤è·³è½¬ã€‚å¦‚æœå®ç°è¯¥æ–¹æ³•ï¼Œåˆ™éœ€è¦è®¾ç½®å…è®¸è·³è½¬ï¼Œä¸è®¾ç½®åˆ™æŠ¥é”™ã€‚</div><div class="line">//è¯¥æ–¹æ³•æ‰§è¡Œåœ¨åŠ è½½ç•Œé¢ä¹‹å‰</div><div class="line">//Terminating app due to uncaught exception &apos;NSInternalInconsistencyException&apos;, reason: &apos;Completion handler passed to -[ViewController webView:decidePolicyForNavigationAction:decisionHandler:] was not called&apos;</div><div class="line">- (void)webView:(WKWebView *)webView decidePolicyForNavigationAction:(WKNavigationAction *)navigationAction decisionHandler:(void (^)(WKNavigationActionPolicy))decisionHandler</div><div class="line">&#123;</div><div class="line">    //å…è®¸è·³è½¬</div><div class="line">    decisionHandler(WKNavigationActionPolicyAllow);</div><div class="line">    </div><div class="line">    //ä¸å…è®¸è·³è½¬</div><div class="line">//    decisionHandler(WKNavigationActionPolicyCancel);</div><div class="line">    NSLog(@&quot;åœ¨è¯·æ±‚å‘é€ä¹‹å‰ï¼Œå†³å®šæ˜¯å¦è·³è½¬ã€‚  1&quot;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">//åœ¨æ”¶åˆ°å“åº”åï¼Œå†³å®šæ˜¯å¦è·³è½¬ï¼ˆåŒä¸Šï¼‰</div><div class="line">//è¯¥æ–¹æ³•æ‰§è¡Œåœ¨å†…å®¹è¿”å›ä¹‹å‰</div><div class="line">- (void)webView:(WKWebView *)webView decidePolicyForNavigationResponse:(WKNavigationResponse *)navigationResponse decisionHandler:(void (^)(WKNavigationResponsePolicy))decisionHandler</div><div class="line">&#123;</div><div class="line">    //å…è®¸è·³è½¬</div><div class="line">    decisionHandler(WKNavigationResponsePolicyAllow);</div><div class="line">    //ä¸å…è®¸è·³è½¬</div><div class="line">//    decisionHandler(WKNavigationResponsePolicyCancel);</div><div class="line">    NSLog(@&quot;åœ¨æ”¶åˆ°å“åº”åï¼Œå†³å®šæ˜¯å¦è·³è½¬ã€‚ 3&quot;);</div><div class="line">    </div><div class="line">&#125;</div><div class="line"></div><div class="line">//æ¥æ”¶åˆ°æœåŠ¡å™¨è·³è½¬è¯·æ±‚ä¹‹åè°ƒç”¨</div><div class="line">- (void)webView:(WKWebView *)webView didReceiveServerRedirectForProvisionalNavigation:(null_unspecified WKNavigation *)navigation</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;æ¥æ”¶åˆ°æœåŠ¡å™¨è·³è½¬è¯·æ±‚ä¹‹åè°ƒç”¨&quot;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">-(void)webViewWebContentProcessDidTerminate:(WKWebView *)webView</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;webViewWebContentProcessDidTerminate&quot;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><strong>5.2ã€WKUIDelegate</strong></li>
</ul>
<p>è¿™æ–¹é¢åŒ…æ‹¬ï¼šåˆ›å»ºæ–°çš„WebViewã€ç•Œé¢å¼¹å‡ºæç¤ºæ¡†<br><strong><em>åˆ›å»ºæ–°çš„WebView</em></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">// åˆ›å»ºä¸€ä¸ªæ–°çš„WebView</div><div class="line">- (WKWebView *)webView:(WKWebView *)webView createWebViewWithConfiguration:(WKWebViewConfiguration *)configuration forNavigationAction:(WKNavigationAction *)navigationAction windowFeatures:(WKWindowFeatures *)windowFeatures;</div></pre></td></tr></table></figure>
<p><strong><em>ç•Œé¢å¼¹å‡ºæç¤ºæ¡†</em></strong></p>
<p>ç³»ç»Ÿæä¾›äº†ä¸‰ç§å¼¹å‡ºæç¤ºæ¡†çš„æ–¹æ³•ï¼šè­¦å‘Šæ¡†ã€ç¡®è®¤æ¡†ã€è¾“å…¥æ¡†</p>
<p>ç›´æ¥æŸ¥çœ‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line">//è­¦å‘Šæ¡†</div><div class="line">/**</div><div class="line"> webViewç•Œé¢ä¸­æœ‰å¼¹å‡ºè­¦å‘Šæ¡†æ—¶è°ƒç”¨</div><div class="line"></div><div class="line"> @param webView             webè§†å›¾è°ƒç”¨å§”æ‰˜æ–¹æ³•</div><div class="line"> @param message             è­¦å‘Šæ¡†æç¤ºå†…å®¹</div><div class="line"> @param frame               ä¸»çª—å£</div><div class="line"> @param completionHandler   è­¦å‘Šæ¡†æ¶ˆå¤±è°ƒç”¨</div><div class="line"> */</div><div class="line">- (void)webView:(WKWebView *)webView runJavaScriptAlertPanelWithMessage:(NSString *)message initiatedByFrame:(WKFrameInfo *)frame completionHandler:(void (^)(void))completionHandler</div><div class="line">&#123;</div><div class="line">    completionHandler();</div><div class="line">    NSLog(@&quot;è­¦å‘Šæ¡†&quot;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">//è¾“å…¥æ¡†</div><div class="line">/**</div><div class="line"> webç•Œé¢ä¸­å¼¹å‡ºè¾“å…¥æ¡†æ—¶è°ƒç”¨</div><div class="line"></div><div class="line"> @param webView             webè§†å›¾è°ƒç”¨å§”æ‰˜æ–¹æ³•</div><div class="line"> @param prompt              è¾“å…¥æ¶ˆæ¯çš„æ˜¾ç¤º</div><div class="line"> @param defaultText         åˆå§‹åŒ–æ—¶æ˜¾ç¤ºçš„è¾“å…¥æ–‡æœ¬</div><div class="line"> @param frame               ä¸»çª—å£</div><div class="line"> @param completionHandler   è¾“å…¥ç»“æŸåè°ƒç”¨</div><div class="line"> */</div><div class="line">-(void)webView:(WKWebView *)webView runJavaScriptTextInputPanelWithPrompt:(NSString *)prompt defaultText:(NSString *)defaultText initiatedByFrame:(WKFrameInfo *)frame completionHandler:(void (^)(NSString * _Nullable))completionHandler</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;è¾“å…¥æ¡†&quot;);</div><div class="line">    completionHandler(@&quot;http&quot;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">//ç¡®è®¤æ¡†</div><div class="line">/**</div><div class="line"> æ˜¾ç¤ºä¸€ä¸ªJavaScriptç¡®è®¤é¢æ¿</div><div class="line"></div><div class="line"> @param webView             webè§†å›¾è°ƒç”¨å§”æ‰˜æ–¹æ³•</div><div class="line"> @param message             æ˜¾ç¤ºçš„ä¿¡æ¯</div><div class="line"> @param frame               ä¸»çª—å£</div><div class="line"> @param completionHandler   ç¡®è®¤åå®Œæˆå¤„ç†ç¨‹åºè°ƒç”¨</div><div class="line"> */</div><div class="line">-(void)webView:(WKWebView *)webView runJavaScriptConfirmPanelWithMessage:(NSString *)message initiatedByFrame:(WKFrameInfo *)frame completionHandler:(void (^)(BOOL))completionHandler</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;ç¡®è®¤æ¡†&quot;);</div><div class="line">    completionHandler(YES);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><em>ä»¥ä¸Šå°±æ˜¯WKWebViewåŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼Œå…¶ä»–çš„ä¸åšæ‰©å±•å’Œè¡¥å……ã€‚ä¹Ÿè®¸ä»¥åå†æ·±å…¥ç ”ç©¶æ—¶ï¼Œä¼šæœ‰ä¸ä¸€æ ·çš„çœ‹æ³•ï¼Œåˆ°æ—¶å†åšæ¨ç¿»æˆ–è¡¥å……ã€‚</em></p>
<p>ä»¥ä¸‹æ˜¯ä¸ªäººçš„ä¸€ç‚¹çœ‹æ³•ï¼š</p>
<ol>
<li><code>WKWebView</code>æ˜¯åœ¨iOS8ä¹‹åå‡ºç°çš„æ–°çš„ç½‘é¡µåŠ è½½æ§ä»¶ï¼Œå°†æ¥ä¹Ÿå¿…å°†å–ä»£<code>UIWebView</code>ï¼Œè¿™æ˜¯æ¯‹åº¸ç½®ç–‘çš„äº‹æƒ…ã€‚</li>
<li>å…³äºé¡¹ç›®ä¼˜åŒ–æ–¹é¢ï¼šå…¶å®å¾ˆå¤šäººå»ºè®®åœ¨é¡¹ç›®ä¸­æ·»åŠ <code>WKWebView</code>å»æ›¿ä»£<code>UIWebView</code>ã€‚ä»¥æœªæ¥çš„å‘å±•è¶‹åŠ¿æ¥çœ‹ï¼Œè¿™ç‚¹æ— å¯åšéã€‚</li>
</ol>
<p>æˆ‘ä¸‹é¢æƒ³è¯´çš„æ˜¯ç«™åœ¨è€é¡¹ç›®å¹¶ä¸”å…¶ä¸­å†…åµŒç½‘é¡µæ¯”è¾ƒå¤šçš„ç«‹åœºçš„ï¼ŒiOS8ä»¥ä¸Šä½¿ç”¨<code>WKWebView</code>ï¼ŒiOS8ä»¥ä¸‹ä½¿ç”¨<code>UIWebView</code>ã€‚è¿™æ˜¯ç›®å‰è§£å†³æ–¹æ¡ˆçš„å¥½åŠæ³•ã€‚ä½†ç»´æŠ¤å’Œä¼˜åŒ–éƒ½éœ€è¦æˆæœ¬ï¼Œæ—¶é—´ä¹Ÿæ˜¯æˆæœ¬çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>è¿™é‡Œç»™å‡ºå‡ ä¸ªè®²è§£<code>WKWebView</code>çš„ğŸ”—,å¯¹æˆ‘å¸®åŠ©å¾ˆå¤§ï¼š</p>
<ol>
<li><a href="http://www.brighttj.com/ios/ios-wkwebview-new-features-and-use.html" target="_blank" rel="external">WKWebViewçš„æ–°ç‰¹æ€§ä¸ä½¿ç”¨</a></li>
<li><a href="http://www.jianshu.com/p/6ba2507445e4" target="_blank" rel="external">ä½¿ç”¨WKWebViewæ›¿æ¢UIWebView</a> </li>
<li><a href="http://www.cnblogs.com/junhuawang/p/5759224.html" target="_blank" rel="external">UIWebViewã€WKWebViewä½¿ç”¨è¯¦è§£åŠæ€§èƒ½åˆ†æ</a></li>
<li><a href="http://www.jianshu.com/p/7bb5f15f1daa" target="_blank" rel="external">WKWebViewå­¦ä¹ ç¬”è®°</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h3&gt;&lt;p&gt;ç”±äºä¹‹å‰ä¸€ç›´åœ¨ç”¨&lt;code&gt;UIWebView&lt;/code&gt;,æ‰€ä»¥å¯¹äº&lt;code&gt;WKWebView&lt;/code&gt;åªæ˜¯åœç•™åœ¨çŸ¥é“ï¼Œäº†è§£çš„çŠ¶æ€
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºappæ”¯æŒ64bit</title>
    <link href="https:guohuaden.com/2017/01/15/support-64bit/"/>
    <id>https:guohuaden.com/2017/01/15/support-64bit/</id>
    <published>2017-01-15T07:18:34.000Z</published>
    <updated>2017-01-16T02:13:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>å…³äºiOSåº”ç”¨ï¼Œå…¶å®è‹¹æœå¾ˆæ—©å°±å°±å‘å¸ƒæ¶ˆæ¯ï¼š2015å¹´çš„2æœˆå¼€å§‹ï¼Œæäº¤App Storeçš„åº”ç”¨å¿…é¡»æ”¯æŒ64-bitã€‚è€ŒAppleåœ¨iPhone 5s å°±å·²ç»æ­é…64ä½åŒæ ¸è‹¹æœA7å¤„ç†å™¨ã€‚è¿˜æ˜¯åœ¨15å¹´6æœˆï¼Œè‹¹æœApp Storeä¸­æ‰€æœ‰åº”ç”¨æ›´æ–°éƒ½å¿…é¡»æ”¯æŒ64bitã€‚</p>
<p>ä½†è¿™å¯¹äºä¼ä¸šçº§åº”ç”¨æ¥è¯´ï¼Œå¹¶ä¸èƒ½é™åˆ¶åº”ç”¨å»æ”¯æŒ64bitï¼Œå› ä¸ºä¼ä¸šçº§åº”ç”¨ä¸å¿…æäº¤App Storeå®¡æ ¸ã€‚ä½†Appleåˆæœ‰äº†æ–°çš„å¯¹ç­–ï¼šåœ¨iOS 10.1æµ‹è¯•ç‰ˆä¸­åŠ å…¥äº†ä¸€é¡¹æç¤ºï¼Œå¦‚æœç”¨æˆ·ä¸‹è½½çš„æ˜¯ä¸€ä¸ª32ä½åº”ç”¨ï¼Œç³»ç»Ÿä¼šæç¤º<code>â€œXXXâ€å¯èƒ½ä½¿iPhoneå˜æ…¢ï¼Œåº”ç”¨å¼€å‘è€…éœ€è¦æ›´æ–°æ­¤åº”ç”¨ä»¥æ”¹è¿›å…¶å…¼å®¹æ€§ã€‚</code></p>
<p><img src="http://obzx0h1re.bkt.clouddn.com/64Bit-Prompt.jpg" alt="æç¤ºæ•ˆæœå›¾"><br>ç°åœ¨çœ‹æ¥Appleè¿™ç§æ–¹å¼ï¼Œå¯ç®—æ˜¯æœ€æœ‰æ•ˆçš„æ–¹å¼äº†ï¼Œå› ä¸ºè¿™æ ·ä¼šç›´æ¥å¯¼è‡´ç”¨æˆ·å¯¹ä¸€ä¸ªåº”ç”¨çš„ä¸åŒæ€åº¦ã€‚ç”šè‡³æ˜¯ä¸æ­¢é™ä½ç”¨æˆ·é‡ã€‚å¦‚æœæ˜¯ä¼ä¸šçº§ç”¨æˆ·ï¼Œå¯ä»¥ç›´æ¥å¼•èµ·ç”¨æˆ·çš„å¼ºçƒˆä¸æ»¡ã€‚</p>
<p>ä¸ç®¡æ€ä¹ˆè¯´ï¼Œä½œä¸ºä¸€ä¸ªiOSå¼€å‘è€…ï¼Œæ—¢ç„¶Appleå·²ç»æå‡ºï¼Œè¿˜æ˜¯è¦å»æ”¯æŒ64-bitã€‚</p>
<p>å…·ä½“åšæ³•ï¼š<br><img src="http://obzx0h1re.bkt.clouddn.com/64Bit-Work.png" alt="æ–¹æ³•å¦‚å›¾"></p>
<p>å…³äºXcode <code>â€œBuild Settingâ€</code>ä¸­çš„<code>Architectures</code>å‚æ•°é—®é¢˜ï¼š</p>
<ul>
<li><p><code>Architectures</code>ï¼šä½ æƒ³æ”¯æŒçš„æŒ‡ä»¤é›†ã€‚ï¼ˆæ”¯æŒæŒ‡ä»¤é›†æ˜¯é€šè¿‡ç¼–è¯‘ç”Ÿæˆå¯¹åº”çš„äºŒè¿›åˆ¶æ•°æ®åŒ…å®ç°çš„ï¼Œå¦‚æœæ”¯æŒçš„æŒ‡ä»¤é›†æ•°ç›®æœ‰å¤šä¸ªï¼Œå°±ä¼šç¼–è¯‘å‡ºåŒ…å«å¤šä¸ªæŒ‡ä»¤é›†ä»£ç çš„æ•°æ®åŒ…ï¼Œé€ æˆæœ€ç»ˆç¼–è¯‘çš„åŒ…å¾ˆå¤§ã€‚ï¼‰</p>
</li>
<li><p><code>Valid architectures</code>ï¼šå³å°†ç¼–è¯‘çš„æŒ‡ä»¤é›†ã€‚ï¼ˆ<code>Valid architectures</code> å’Œ <code>Architecture</code>ä¸¤ä¸ªé›†åˆçš„äº¤é›†ä¸ºæœ€ç»ˆç¼–è¯‘ç”Ÿæˆçš„ç‰ˆæœ¬ï¼‰</p>
</li>
<li><p><code>Build Active Architecture Only</code>ï¼šæ˜¯å¦åªç¼–è¯‘å½“å‰è®¾å¤‡é€‚ç”¨çš„æŒ‡ä»¤é›†ï¼ˆå¦‚æœè¿™ä¸ªå‚æ•°è®¾ä¸ºYESï¼Œä½¿ç”¨iPhone 6è°ƒè¯•ï¼Œé‚£ä¹ˆæœ€ç»ˆç”Ÿæˆçš„ä¸€ä¸ªæ”¯æŒARM64æŒ‡ä»¤é›†çš„Binaryã€‚ä¸€èˆ¬åœ¨DEBUGæ¨¡å¼ä¸‹è®¾ä¸ºYESï¼ŒRELEASEè®¾ä¸ºNOï¼‰</p>
</li>
</ul>
<p>å¯¹äºæ”¯æŒ64-bit,æˆ‘ä»¬å¯ä»¥è®¾ç½®<code>Architectures</code>ä¸º <code>Standard architectures</code>ï¼Œå®ƒåŒ…æ‹¬ <code>armv7ã€armv7s å’Œ arm64</code>ã€‚</p>
<p>è€Œæ˜¯å¯¹äºä»£ç ä¸­çš„æ”¹å˜å…¶å®ä¹Ÿå°±åˆ†ä¸ºï¼š<strong>æ•°æ®ç±»å‹å’Œæ–¹æ³•è°ƒç”¨</strong> ä¸¤ä¸ªéƒ¨åˆ†ã€‚</p>
<p>æ¯”å¦‚ï¼š<code>int -&gt; NSInteger</code></p>
<p>ä»¥åŠå¾—åˆ°æ•°ç»„ä¸ªæ•°çš„æ–¹æ³•ï¼š<code>[dataArray count] -&gt; dataArray.count</code></p>
<p>è¿™æ˜¯å…³äºæ•°æ®ç±»å‹æ”¹å˜çš„æ€»ç»“ï¼š<br><img src="http://obzx0h1re.bkt.clouddn.com/64bit-Summary.png" alt="64bit-Summary"><br>ä¸Šå›¾æ‰€è¯´ï¼š</p>
<ul>
<li>é¿å…å°†é•¿æ•´å‹longèµ‹å€¼ç»™æ•´å‹int (64-bitä¸Šä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±)</li>
<li>é¿å…å°†æŒ‡é’ˆç±»å‹pointerèµ‹å€¼ç»™æ•´å‹int (64-bitå¯¼è‡´åœ°å€æ•°æ®ä¸¢å¤±)ã€‚</li>
<li>ç•™æ„æ•°å€¼è®¡ç®—ï¼Œé¿å…æŒ‡é’ˆå’Œé•¿æ•´å‹åœ¨è¿ç®—ä¸Šçš„æˆªæ–­é—®é¢˜(æ©ç è®¡ç®—,æ— ç¬¦å·æ•´æ•°å’Œæœ‰ç¬¦å·æ•´æ•°åŒæ—¶ä½¿ç”¨ç­‰)ã€‚</li>
<li>ç•™æ„å¯¹é½æ–¹æ³•å¸¦æ¥çš„å˜åŒ–ã€‚</li>
<li>32-bitåˆ°64-bitä¹‹é—´æ•°æ®è½¬åŒ–(é€šè¿‡ç½‘ç»œä¼ é€’çš„ç”¨æˆ·æ•°æ®ï¼Œå¯èƒ½åŒæ—¶å­˜åœ¨äº32-bitå’Œ64-bitçš„ç¯å¢ƒä¸‹)ã€‚</li>
<li>é‡å†™æ±‡ç¼–ä»£ç ï¼Œè®©ä½ çš„ä»£ç ä½¿ç”¨æ–°çš„64-bitæ“ä½œç å’Œè¿è¡Œæ—¶ã€‚</li>
<li>ä¸è¦åœ¨å¯å˜å‚æ•°æ–¹æ³•å’Œä¸å¯å˜å‚æ•°æ–¹æ³•ä¹‹å‰è¿›è¡Œå¼ºåˆ¶è½¬åŒ–ã€‚</li>
</ul>
<p>å…·ä½“å¯ä»¥çœ‹ï¼šã€Š<a href="https://developer.apple.com/library/content/documentation/General/Conceptual/CocoaTouch64BitGuide/Major64-BitChanges/Major64-BitChanges.html" target="_blank" rel="external">64-Bit Transition Guide for Cocoa Touch</a>ã€‹</p>
<p>å…³äºiOSåº”ç”¨æ”¯æŒ64ä½çš„ä¸€äº›è¯¦æƒ…ï¼Œå¯ä»¥çœ‹çœ‹è¿™ç¯‡ä¸é”™çš„æ–‡ç« ï¼š<br>ã€Š<a href="http://www.codeceo.com/article/ios-64-bit.html" target="_blank" rel="external">iOSåº”ç”¨å¦‚ä½•å®ç°64ä½çš„æ”¯æŒ</a>ã€‹</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å…³äºiOSåº”ç”¨ï¼Œå…¶å®è‹¹æœå¾ˆæ—©å°±å°±å‘å¸ƒæ¶ˆæ¯ï¼š2015å¹´çš„2æœˆå¼€å§‹ï¼Œæäº¤App Storeçš„åº”ç”¨å¿…é¡»æ”¯æŒ64-bitã€‚è€ŒAppleåœ¨iPhone 5s å°±å·²ç»æ­é…64ä½åŒæ ¸è‹¹æœA7å¤„ç†å™¨ã€‚è¿˜æ˜¯åœ¨15å¹´6æœˆï¼Œè‹¹æœApp Storeä¸­æ‰€æœ‰åº”ç”¨æ›´æ–°éƒ½å¿…é¡»æ”¯æŒ64bitã€‚&lt;/p&gt;
&lt;p
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>iOSä¹‹é¡¹ç›®æ€»ç»“äºŒï¼šå…³äºé¡¹ç›®ä¸­ä¸€äº›åŠŸèƒ½çš„æ”¹è¿›å»ºè®®ï¼ˆä»ä¸€ä¸ªç»´æŠ¤è€…çš„è§’åº¦ï¼‰</title>
    <link href="https:guohuaden.com/2017/01/11/project-summary-two/"/>
    <id>https:guohuaden.com/2017/01/11/project-summary-two/</id>
    <published>2017-01-11T15:38:00.000Z</published>
    <updated>2017-01-14T02:11:44.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€ï¼š"><a href="#å‰è¨€ï¼š" class="headerlink" title="å‰è¨€ï¼š"></a>å‰è¨€ï¼š</h3><p>æœ€è¿‘ä¸€ç›´åœ¨ç»´æŠ¤è€çš„é¡¹ç›®ï¼Œé‡åˆ°çš„é—®é¢˜ä¹Ÿåƒå¥‡ç™¾æ€ªï¼Œéœ€è¦ä¿®è¡¥çš„ï¼Œéœ€è¦ä¼˜åŒ–çš„ï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†çš„ï¼Œæ„Ÿè§‰æ€»æ˜¯é‚£ä¹ˆçš„æ— è¯­ã€‚ä¹Ÿè®¸è¿™æ—¶å€™ä¹Ÿåº”è¯¥æ„Ÿå¹ä¸€å¥ï¼šè·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢å§ã€‚<br>è¿™ç¯‡æ–‡ç« å°±åªæ˜¯è®²è®²è€é¡¹ç›®ä¸­é‡åˆ°çš„ç§ç§ä¸æ•¢è‹ŸåŒçš„ä»£ç å†™æ³•ï¼Œä»¥åŠé‡åˆ°ä¸€äº›é—®é¢˜æ—¶çš„å¤„ç†æ–¹æ³•ã€‚</p>
<h3 id="1ã€å…³äºæŒ‰é’®äº‹ä»¶çš„é‡å¤ç‚¹å‡»é—®é¢˜"><a href="#1ã€å…³äºæŒ‰é’®äº‹ä»¶çš„é‡å¤ç‚¹å‡»é—®é¢˜" class="headerlink" title="1ã€å…³äºæŒ‰é’®äº‹ä»¶çš„é‡å¤ç‚¹å‡»é—®é¢˜"></a>1ã€å…³äºæŒ‰é’®äº‹ä»¶çš„é‡å¤ç‚¹å‡»é—®é¢˜</h3><p>æˆ‘ä»¬å¼€å‘ä¸­å¤§æ¦‚éƒ½ç»å†è¿‡è¿™æ ·çš„äº‹æƒ…ï¼Œæˆ‘çš„ä¸€ä¸ª<code>button</code>è¢«é‡å¤çš„å¿«é€Ÿç‚¹å‡»ï¼Œï¼ˆæˆ‘ä»¬å¼€å‘è€…åº”è¯¥æ›´æ¸…æ¥šçš„çŸ¥é“è¿™æ„å‘³ç€ä»€ä¹ˆï¼‰ã€‚é‚£æˆ‘ä»¬å†æ·±å…¥çš„æƒ³ä¸€ä¸‹ï¼ˆç»™è¿™æ ·çš„äº‹ä»¶å®‰æ’ä¸€ä¸ªç‰¹å®šçš„ç¯å¢ƒï¼‰ï¼šä¾‹å¦‚å½“ç½‘ç»œè¾ƒå·®çš„æƒ…å†µä¸‹ï¼Œå†ä¾‹å¦‚å½“<code>button</code>çš„æ‰§è¡Œäº‹ä»¶è¾ƒä¸ºè€—æ—¶æ—¶ã€‚è¿™æ—¶å°±ä¼šå‡ºç°å¾ˆå¤šçš„é—®é¢˜ï¼šæœ‰æ—¶æ˜¯ç•Œé¢å‡ºç°é—®é¢˜ï¼ˆå½“<code>button</code>æ‰§è¡Œäº‹ä»¶ä¸­å‡ºç°è°ƒèŠ‚ç•Œé¢<code>frame</code>çš„æ—¶å€™ï¼‰ï¼›æœ‰æ—¶åˆ™ä¼šå‡ºç°å¡é¡¿ï¼Œæ›´ç”šè‡³ä¼šå‡ºç°å´©æºƒç°è±¡ã€‚å¯¹äºè¿™ç§é—®é¢˜ï¼Œæˆ‘ä»¬è¦æå‰è€ƒè™‘åˆ°ï¼Œåšå¥½é˜²èŒƒå¤„ç†ï¼šå³ç‚¹å‡»æŒ‰é’®äº‹ä»¶æ—¶,æ·»åŠ é˜²æ­¢é‡å¤ç‚¹å‡»åŠŸèƒ½ã€‚</p>
<p><strong>æ€è·¯æ˜¯</strong>ï¼šé˜²æ­¢æŒ‰é’®é‡å¤ç‚¹å‡»<br>æ¯”è¾ƒæ¨èçš„è§£å†³æ–¹æ³•ä»£ç ï¼š</p>
<pre> - (void)btnClicked:(id)sender {
    //åœ¨è¿™é‡ŒåšæŒ‰é’®çš„æƒ³åšçš„äº‹æƒ…ã€‚
}
- (void)buttonClicked:(id)sender {
   //å…ˆå°†æœªåˆ°æ—¶é—´æ‰§è¡Œå‰çš„ä»»åŠ¡å–æ¶ˆã€‚
    [[self class] cancelPreviousPerformRequestsWithTarget:self selector:@selector(btnClicked:)object:sender];
    [self performSelector:@selector(btnClicked:)withObject:sender afterDelay:0.2f];
}</pre>

<p><strong>åŸç†æ˜¯</strong> ï¼šæˆ‘ä»¬æ¯æ¬¡ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œå…ˆæ‰§è¡Œå–æ¶ˆä¹‹å‰çš„æŒ‰é’®ç‚¹å‡»æ‰§è¡Œäº‹ä»¶ï¼Œç„¶åå†å»æ‰§è¡Œä¸€ä¸ªå»¶è¿Ÿæ‰§è¡Œæ–¹æ³•ï¼ˆæ–¹æ³•ä¸­æ‰§è¡Œçš„æ˜¯æŒ‰é’®æ‰§è¡Œçš„äº‹ä»¶ï¼‰ã€‚</p>
<p>è¿˜æœ‰ä¸€ç§æ–¹æ³•ä¹Ÿæ˜¯å¯ä»¥å®ç°çš„ï¼šå…·ä½“çš„çœ‹ã€Š<a href="http://www.cnblogs.com/LQCQ-Silent/p/6082086.html" target="_blank" rel="external">iOSä¹‹é˜²æ­¢ç”¨æˆ·é‡å¤ç‚¹å‡»Buttonï¼ˆæŒ‰é’®ï¼‰é—®é¢˜</a> ã€‹</p>
<h3 id="2ã€å¾ˆå¤šç•Œé¢å…±ç”¨ä¸€ä¸ªç•Œé¢æ—¶ï¼šä½¿ç”¨æšä¸¾åšç±»å‹åˆ¤æ–­"><a href="#2ã€å¾ˆå¤šç•Œé¢å…±ç”¨ä¸€ä¸ªç•Œé¢æ—¶ï¼šä½¿ç”¨æšä¸¾åšç±»å‹åˆ¤æ–­" class="headerlink" title="2ã€å¾ˆå¤šç•Œé¢å…±ç”¨ä¸€ä¸ªç•Œé¢æ—¶ï¼šä½¿ç”¨æšä¸¾åšç±»å‹åˆ¤æ–­"></a>2ã€å¾ˆå¤šç•Œé¢å…±ç”¨ä¸€ä¸ªç•Œé¢æ—¶ï¼šä½¿ç”¨æšä¸¾åšç±»å‹åˆ¤æ–­</h3><p>è€çš„é¡¹ç›®ä¸­ä¼šå‡ºç°å¾ˆå¤šè¿™æ ·çš„ç°è±¡ï¼šå¾ˆå¤šç•Œé¢é‡å¤ä½¿ç”¨ä¸€ä¸ªç•Œé¢ï¼Œè¿™æ ·å°±è‡ªç„¶è€Œç„¶çš„éœ€è¦åœ¨ä¸åŒçš„ç•Œé¢è·³è½¬åˆ°å¤ç”¨çš„ç•Œé¢æ—¶å»åšåˆ¤æ–­ã€‚è€Œå¥‡æ€ªçš„åœ°æ–¹åœ¨äºï¼šåˆ¤æ–­çš„ä¾æ®æ˜¯<code>self.title</code>ã€‚é‚£ä¹ˆå°±ä¼šå‡ºç°è¿™æ ·ä¸€ç§ç°è±¡ï¼šåœ¨è·³è½¬ç•Œé¢åä¼šæœ‰ä¸€å¤§æ®µ<code>if</code>å»åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ç­‰äº<code>self.title</code> ã€‚</p>
<p><strong>å¦‚æœæˆ‘ä»¬åšä¸€äº›æ”¹å˜ï¼šä½¿ç”¨æšä¸¾æ¥åšç•Œé¢ç±»å‹çš„åˆ¤æ–­ï¼Œä½¿ç”¨<code>switch case</code>è¯­å¥åšåˆ¤æ–­æ‰§è¡Œä»£ç ã€‚è¿™æ ·ä¼šä¸ä¼šæ›´ä¼˜ç¾ï¼Œç®€æ´ä¸€äº›ã€‚</strong></p>
<h3 id="3ã€å…³äºè€é¡¹ç›®ä¸­iOS10ä»¥ä¸Šçš„æƒ…å†µä¸‹ï¼Œå¯¼èˆªæ ä¸­æŒ‰é’®ä¸æ˜¾ç¤ºé—®é¢˜"><a href="#3ã€å…³äºè€é¡¹ç›®ä¸­iOS10ä»¥ä¸Šçš„æƒ…å†µä¸‹ï¼Œå¯¼èˆªæ ä¸­æŒ‰é’®ä¸æ˜¾ç¤ºé—®é¢˜" class="headerlink" title="3ã€å…³äºè€é¡¹ç›®ä¸­iOS10ä»¥ä¸Šçš„æƒ…å†µä¸‹ï¼Œå¯¼èˆªæ ä¸­æŒ‰é’®ä¸æ˜¾ç¤ºé—®é¢˜"></a>3ã€å…³äºè€é¡¹ç›®ä¸­iOS10ä»¥ä¸Šçš„æƒ…å†µä¸‹ï¼Œå¯¼èˆªæ ä¸­æŒ‰é’®ä¸æ˜¾ç¤ºé—®é¢˜</h3><p>å¦‚æœä½ çš„<code>viewController</code>éƒ½ç»§æ‰¿äºåŸºç±»ï¼Œé‚£ä¹ˆåœ¨åŸºç±»ä¸­æ·»åŠ è¿™æ ·ä¸€æ®µä»£ç ï¼ˆè¿™ä¹Ÿæ˜¯ç›®å‰æˆ‘å‘ç°çš„æœ€çœäº‹çš„æ–¹æ³•ï¼‰ï¼š</p>
<pre>- (void)viewWillAppear:(BOOL)animated { 
    [super viewWillAppear:animated];
    [self.navigationController setNavigationBarHidden:YES animated:NO];
    [self.navigationController setNavigationBarHidden:NO animated:NO];
}
- (void)viewWillDisappear:(BOOL)animated {
    [super viewWillDisappear:animated];
    [self.navigationController setNavigationBarHidden:YES animated:NO];
    [self.navigationController setNavigationBarHidden:NO animated:NO];
}</pre>



<h3 id="4ã€äº‹ä»¶æ–¹æ³•è¦æ¯ä¸ªç•Œé¢åŒºåˆ†å¼€"><a href="#4ã€äº‹ä»¶æ–¹æ³•è¦æ¯ä¸ªç•Œé¢åŒºåˆ†å¼€" class="headerlink" title="4ã€äº‹ä»¶æ–¹æ³•è¦æ¯ä¸ªç•Œé¢åŒºåˆ†å¼€"></a>4ã€äº‹ä»¶æ–¹æ³•è¦æ¯ä¸ªç•Œé¢åŒºåˆ†å¼€</h3><p>è€é¡¹ç›®ä¸­ä¼šæœ‰è¿™ç§æƒ…å†µï¼šåœ¨æœ¬ç•Œé¢ commandç‚¹å‡»ä¸€ä¸ª<code>button</code>æ‰§è¡Œäº‹ä»¶æ–¹æ³•æˆ–è€…æ‰‹åŠ¿äº‹ä»¶æ–¹æ³•æ—¶ï¼Œä¼šè«åå…¶å¦™çš„è·³è½¬åˆ°å¦å¤–ä¸€ä¸ªç•Œé¢ã€‚<br>æˆ‘ä»¬åœ¨å¼€å‘æ—¶æœ€å¥½ç»™ä¸åŒç•Œé¢<code>button</code>çš„<code>clicked</code>äº‹ä»¶å‘½åæ˜¯åŒºåˆ†å¼€æ¥ï¼Œä¾‹å¦‚ï¼šç•Œé¢å + <code>ButtonClicked</code></p>
<h3 id="5ã€å¯¹è±¡ä¸ºç©ºç°è±¡"><a href="#5ã€å¯¹è±¡ä¸ºç©ºç°è±¡" class="headerlink" title="5ã€å¯¹è±¡ä¸ºç©ºç°è±¡"></a>5ã€å¯¹è±¡ä¸ºç©ºç°è±¡</h3><p>åœ¨å¼€å‘ä¸­å¦‚æœå­˜åœ¨<code>image</code>ä¸ºç©ºï¼Œæˆ–è€…å¿…é¡»æ˜¾ç¤ºçš„<code>String</code>ä¸ºç©ºç°è±¡ï¼Œ<br>è®°å¾—åœ¨ä»£ç ä¸­ä½œåˆ¤æ–­ï¼Œå›¾ç‰‡å¯ä»¥ç›´æ¥è®¾ç½®é»˜è®¤å›¾ç‰‡ï¼Œå­—ç¬¦ä¸²ä¹Ÿå¯ä»¥è®¾ç½®é»˜è®¤å­—ç¬¦ä¸²<br>è¿™ä¸€ç‚¹å¯ä»¥å­¦ä¸€ä¸‹SDWebImageåº“ä¸­å¯¹äºç½‘ç»œè¯·æ±‚å›¾ç‰‡ä¸å­˜åœ¨çš„å¤„ç†æ–¹æ³•ï¼š</p>
<p><pre>//ç»™ä¸€å¼ é»˜è®¤å›¾ç‰‡ï¼Œå…ˆä½¿ç”¨é»˜è®¤å›¾ç‰‡ï¼Œå½“å›¾ç‰‡åŠ è½½å®Œæˆåå†æ›¿æ¢<br>[self.image1 sd_setImageWithURL:imagePath1 placeholderImage:[UIImage imageNamed:@â€defaultâ€]];</pre>ä¾‹å¦‚ï¼š</p>
<p><pre><br>UIImage *image = [UIImage imageNamed:@â€imageâ€];</pre></p>
<p>UIImage *defaultImage = [UIImage imageNamed:@â€defaultImageâ€];</p>
<p>UIImageView *imageView = [[UIImageView alloc]initWithImage:image==nil ?  image:defaultImage];<br>å­—ç¬¦ä¸²å½“ç„¶ä¹Ÿæ˜¯ç±»ä¼¼ï¼Œå…¶å®çœ‹ä¼¼æœ‰äº›è´¹äº‹ç”šè‡³æœ‰çš„æ˜¾å¾—å¤šä½™çš„å†™æ³•ï¼Œä¼šä½¿ä»¥åçš„ç»´æŠ¤å˜å¾—æ›´åŠ çš„å¦‚æ„ã€‚</p>
<h3 id="6ã€ä¸€ä¸ªç•Œé¢å¤šç½‘ç»œè¯·æ±‚é—®é¢˜ï¼Œè€Œä¸”éœ€è¦å¤šä¸ªè¯·æ±‚éƒ½å®Œæˆåï¼Œå¯¹ç•Œé¢æœ‰ä¸€äº›æ“ä½œã€‚"><a href="#6ã€ä¸€ä¸ªç•Œé¢å¤šç½‘ç»œè¯·æ±‚é—®é¢˜ï¼Œè€Œä¸”éœ€è¦å¤šä¸ªè¯·æ±‚éƒ½å®Œæˆåï¼Œå¯¹ç•Œé¢æœ‰ä¸€äº›æ“ä½œã€‚" class="headerlink" title="6ã€ä¸€ä¸ªç•Œé¢å¤šç½‘ç»œè¯·æ±‚é—®é¢˜ï¼Œè€Œä¸”éœ€è¦å¤šä¸ªè¯·æ±‚éƒ½å®Œæˆåï¼Œå¯¹ç•Œé¢æœ‰ä¸€äº›æ“ä½œã€‚"></a>6ã€ä¸€ä¸ªç•Œé¢å¤šç½‘ç»œè¯·æ±‚é—®é¢˜ï¼Œè€Œä¸”éœ€è¦å¤šä¸ªè¯·æ±‚éƒ½å®Œæˆåï¼Œå¯¹ç•Œé¢æœ‰ä¸€äº›æ“ä½œã€‚</h3><p>è¿™æ˜¯ä¸€ä¸ªè€çš„è¯é¢˜äº†ï¼Œæˆ‘ä¹‹æ‰€ä»¥é‡æ–°æåŠè¿™ä¸ªè¯é¢˜ï¼ŒåŸå› æ˜¯æˆ‘ä»ä¸€äº›æ–‡ç« ä¸­å‘ç°äº†ä¸€ä¸ªä»æ¥æ²¡ä½¿ç”¨è¿‡çš„æ–¹æ³•ï¼Œè¿™ä¸ªä¸‹é¢ä¼šæåˆ°ï¼Œç°åœ¨å°±è®©æˆ‘ä»¬åˆ—ä¸¾å‡ºæ¥æ¯”è¾ƒå¸¸ç”¨çš„æ–¹æ³•ã€‚å°±ä»¥ä¸€ä¸ªç•Œé¢ä¸¤ä¸ªç½‘ç»œè¯·æ±‚ä¸ºä¾‹ Aå’ŒB.</p>
<p><strong>ï¼ˆ1ï¼‰ä¸¤ä¸ªè¯·æ±‚äº’å¥—)(ä¹Ÿæ˜¯æœ€ç¬¨çš„æ–¹æ³•)</strong><br>     å…·ä½“æ˜¯è¿™æ ·çš„ï¼Œæˆ‘åœ¨Aè¯·æ±‚æˆåŠŸåï¼Œå†è¯·æ±‚Bã€‚å½“ç„¶å¦‚æœè¯·æ±‚å¤šçš„è¯ï¼Œè¿™ä¸ªè‚¯å®šæ˜¯ä½œåºŸçš„ã€‚</p>
<p><strong>ï¼ˆ2ï¼‰ä½¿ç”¨GCDä¸­çš„é€šçŸ¥</strong></p>
<p><pre>dispatch_group_t serviceGroup = dispatch_group_create();<br>// å¼€å§‹ç¬¬ä¸€ä¸ªç½‘ç»œè¯·æ±‚<br>servicedispatch_group_enter(serviceGroup);<br>[self.configService startWithCompletion:^(ConfigResponse <em>results, NSError </em>error) {<br> //è¯·æ±‚æˆåŠŸåçš„æ“ä½œ<br>    configError = error;<br>    dispatch_group_leave(serviceGroup);//å®Œæˆåç¦»å¼€åˆ†ç»„<br>}];<br>// å¼€å§‹ç¬¬äºŒä¸ªè¯·æ±‚<br>dispatch_group_enter(serviceGroup);<br>[self.preferenceService startWithCompletion:^(PreferenceResponse <em>results, NSError </em>error) {<br> //è¯·æ±‚æˆåŠŸåçš„æ“ä½œ<br>    preferenceError = error;<br>    dispatch_group_leave(serviceGroup);//å®Œæˆåç¦»å¼€åˆ†ç»„<br>}];<br>dispatch_group_notify(serviceGroup,dispatch_get_main_queue(),^{<br> // Assess any errors<br>     NSError *overallError = nil;<br>    if (configError || preferenceError)  {<br> // åˆ¤æ–­æ—¶å€™è¯·æ±‚æœ‰å¤±è´¥<br>        overallError = configError ?: preferenceError;<br>     }<br>// æœ€åå®Œæˆåæ‰§è¡Œçš„block<br>    completion(overallError);<br>});<br></pre></p>
<p><strong>ï¼ˆ3ï¼‰åˆ©ç”¨GCDä¸­çš„ä¿¡å·é‡</strong></p>
<p>åœ¨GCDä¸­æœ‰ä¸‰ä¸ªå‡½æ•°æ˜¯<code>semaphore</code>çš„æ“ä½œï¼Œåˆ†åˆ«æ˜¯ï¼šã€€ã€€<br><code>dispatch_semaphore_create</code> åˆ›å»ºä¸€ä¸ªsemaphoreã€€ã€€<br><code>dispatch_semaphore_signal</code> å‘é€ä¸€ä¸ªä¿¡å·ã€€<br><code>dispatch_semaphore_wait</code> ç­‰å¾…ä¿¡å·ã€€ã€€<br>ç®€å•çš„ä»‹ç»ä¸€ä¸‹è¿™ä¸‰ä¸ªå‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå‡½æ•°æœ‰ä¸€ä¸ªæ•´å½¢çš„å‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºä¿¡å·çš„æ€»é‡ï¼Œ<code>dispatch_semaphore_signal</code>æ˜¯å‘é€ä¸€ä¸ªä¿¡å·ï¼Œè‡ªç„¶ä¼šè®©ä¿¡å·æ€»é‡åŠ 1ï¼Œ<code>dispatch_semaphore_wait</code>ç­‰å¾…ä¿¡å·ï¼Œå½“ä¿¡å·æ€»é‡å°‘äº0çš„æ—¶å€™å°±ä¼šä¸€ç›´ç­‰å¾…ï¼Œå¦åˆ™å°±å¯ä»¥æ­£å¸¸çš„æ‰§è¡Œï¼Œå¹¶è®©ä¿¡å·æ€»é‡-1ï¼Œæ ¹æ®è¿™æ ·çš„åŸç†ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥å¿«é€Ÿçš„åˆ›å»ºä¸€ä¸ªå¹¶å‘æ§åˆ¶æ¥åŒæ­¥ä»»åŠ¡å’Œæœ‰é™èµ„æºè®¿é—®æ§åˆ¶ã€‚</p>
<p>åˆ©ç”¨è¿™æ ·çš„æœºåˆ¶ï¼Œå½“ä¿¡å·é‡è¾¾åˆ°æˆ‘ä»¬ç½‘ç»œè¯·æ±‚çš„æ•°é‡æ—¶ï¼Œè¯·æ±‚ç»“æŸã€‚</p>
<p><strong>ï¼ˆ4ï¼‰è¿™ä¸ªä¹Ÿæ˜¯æˆ‘ä¸Šé¢è¯´çš„æ— æ„ä¸­çœ‹åˆ°çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä»…æ‹¿å‡ºæ¥ä½œä¸ºå‚è€ƒ</strong></p>
<p><pre>dispatch_async(concurrent_queue, ^{<br>     NSLog(@â€â€”å¹¶å‘ä»»åŠ¡1â€”â€œ);<br>});<br>dispatch_async(concurrent_queue, ^{<br>     NSLog(@â€â€”å¹¶å‘ä»»åŠ¡2â€”â€œ);<br>});<br>dispatch_barrier_async(concurrent_queue, ^{<br>    dispatch_async(dispatch_get_main_queue(), ^{<br>        NSLog(@â€â€”æ‰€æœ‰å¹¶å‘ä»»åŠ¡ç»“æŸåå›åˆ°ä¸»çº¿ç¨‹åˆ·æ–°â€”â€œ);<br>    });<br>}); </pre></p>
<p>ä»¥ä¸Šå°±æ˜¯å…³äºä¸€ç•Œé¢å¤šè¯·æ±‚çš„ä¸åŒè§£å†³æ–¹æ¡ˆã€‚</p>
<h3 id="7ã€ä»£ç è§„èŒƒé—®é¢˜"><a href="#7ã€ä»£ç è§„èŒƒé—®é¢˜" class="headerlink" title="7ã€ä»£ç è§„èŒƒé—®é¢˜"></a>7ã€ä»£ç è§„èŒƒé—®é¢˜</h3><ul>
<li>ä¸ºä»€ä¹ˆè¿™ä¸ªæ™®é€šçš„è¯é¢˜æ”¾åˆ°æœ€åå‘¢ï¼Œå¤§æ¦‚æ˜¯å› ä¸ºæˆ‘è§‰å¾—è¿™ä¸ªå¾ˆé‡è¦çš„é—®é¢˜å§ï¼Œæ¯•ç«ŸæŠ€æœ¯æ°´å¹³ä¸é«˜ï¼Œè¿˜æ˜¯å¯ä»¥æå‡çš„ã€‚ä½†ä»£ç ä¸è§„èŒƒçš„è¯ï¼Œå…»æˆä¹ æƒ¯åå¾ˆéš¾æ”¹çš„ï¼Œæˆ‘è§è¿‡å¤ªå¤šé¡¹ç›®ä¸­ä½¿ç”¨ã€æ‹¼éŸ³å‘½åã€ä¸æ³¨æ„é©¼å³°å‘½åæ³•ã€defineé¢„å¤„ç†æŒ‡ä»¤æ»¡å¤©é£ç­‰ç­‰çš„ä»£ç ã€‘è¿™äº›å‡ºç°åœ¨é¡¹ç›®ä¸­å°±åƒæ—¶æ—¶åˆ»åˆ»åœ¨æé†’ä½ ï¼Œçœ‹è¿™æ ·çš„é¡¹ç›®æ˜¯ä¸€ç§ç…ç†¬ã€‚</li>
<li>å…¶å®ä»£ç è§„èŒƒä¸ä»…ä»…æ˜¯å…¬å¸å¯¹å¼€å‘è€…çš„è¦æ±‚,ä¹Ÿæ˜¯å¼€å‘è€…å¯¹è‡ªå·±çš„ä¸€ä¸ªè¦æ±‚ã€‚å› ä¸ºå¦‚æœç»Ÿä¸€æ¯ä¸ªäººçš„å†™ä½œè§„èŒƒï¼Œæ˜¯ä¸€ä»¶è€—æ—¶ï¼Œè€—æçš„äº‹æƒ…ã€‚å°ä¸€äº›çš„å…¬å¸æ˜¯åšä¸æ¥ï¼Œä¸­å‹çš„å…¬å¸å¤§å¤šæ˜¯ä¸æƒ³åšã€‚è€Œå¤§å‹çš„å…¬å¸æ€»æ˜¯èŠ±è´¹è¿‘å‡ ä¸ªæœˆçš„æ—¶é—´å»åŸ¹å…»å‘˜å·¥çš„ä»£ç è§„èŒƒï¼Œè¿™å°±æ˜¯è´¢å¤§æ°”ç²—å§ã€‚è€Œä¸”å¼€å‘è€…æœ¬èº«å¯¹äºæŠ€æœ¯çš„æå‡ã€è¿½æ±‚ç­‰ï¼Œéƒ½æ— å½¢ä¸­è¦æ±‚è‡ªå·±æ³¨æ„ä»£ç è§„èŒƒé—®é¢˜ã€‚</li>
<li>å¯¹äºè¿™éƒ¨åˆ†ï¼Œå»ºè®®çœ‹çœ‹ã€ŠEffective Objective-C 2.0ã€‹è¿™æœ¬ä¹¦ï¼Œå…¶ä¸­èµ·åˆ°çš„ã€‚</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å‰è¨€ï¼š&quot;&gt;&lt;a href=&quot;#å‰è¨€ï¼š&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€ï¼š&quot;&gt;&lt;/a&gt;å‰è¨€ï¼š&lt;/h3&gt;&lt;p&gt;æœ€è¿‘ä¸€ç›´åœ¨ç»´æŠ¤è€çš„é¡¹ç›®ï¼Œé‡åˆ°çš„é—®é¢˜ä¹Ÿåƒå¥‡ç™¾æ€ªï¼Œéœ€è¦ä¿®è¡¥çš„ï¼Œéœ€è¦ä¼˜åŒ–çš„ï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†çš„ï¼Œæ„Ÿè§‰æ€»æ˜¯é‚£ä¹ˆçš„æ— è¯­ã€‚ä¹Ÿè®¸è¿™æ—¶å€™ä¹Ÿåº”è¯¥æ„Ÿå¹ä¸€å¥ï¼š
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>SVNæäº¤é”™è¯¯ï¼š&quot;XXX&quot; is scheduled for addition, but is missing</title>
    <link href="https:guohuaden.com/2016/12/15/SVN-error/"/>
    <id>https:guohuaden.com/2016/12/15/SVN-error/</id>
    <published>2016-12-15T03:18:00.000Z</published>
    <updated>2017-01-15T07:14:45.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€ï¼š"><a href="#å‰è¨€ï¼š" class="headerlink" title="å‰è¨€ï¼š"></a>å‰è¨€ï¼š</h3><p>æœ€è¿‘åœ¨ç»´æŠ¤è€é¡¹ç›®ï¼Œæ‰€ä»¥å‡ºç°äº†å¾ˆå¤šä»¥å‰æ²¡é‡åˆ°è¿‡çš„é—®é¢˜ã€‚ä¹Ÿç®—è§è¯†ä¸€ç•ªå§ã€‚<br>ç›®å‰æ‰€åœ¨çš„å…¬å¸ä½¿ç”¨SVNä½œä¸ºç‰ˆæœ¬æ§åˆ¶å™¨ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥è¿™ä¸ªé—®é¢˜ä¹Ÿæ˜¯å°±å…³äºSVNçš„ã€‚</p>
<h3 id="æ­£æ–‡ï¼š"><a href="#æ­£æ–‡ï¼š" class="headerlink" title="æ­£æ–‡ï¼š"></a>æ­£æ–‡ï¼š</h3><p>ä»Šå¤©ä½¿ç”¨SVNæäº¤é¡¹ç›®æ—¶ï¼Œå‡ºç°äº†è¿™æ ·çš„æç¤ºï¼š<pre><code>â€œXXXâ€ is scheduled for addition, but is missingã€‚ï¼ˆæ— å…³ç´§è¦çš„ä¸œè¥¿ç”¨XXXä»£æ›¿ï¼‰ã€‚ </code></pre><br>çœ‹æŠ¥é”™è¯´æ˜æ˜¯è¿™æ ·çš„ï¼š<code>â€œXXXâ€å·²ç»è¢«åˆ—ä¸ºæ·»åŠ çŠ¶æ€ï¼Œä½†æˆ‘ä»¬æäº¤æ—¶å´ç¼ºå°‘â€XXXâ€è¿™ä¸ªã€‚</code></p>
<h3 id="åŸå› ï¼š"><a href="#åŸå› ï¼š" class="headerlink" title="åŸå› ï¼š"></a>åŸå› ï¼š</h3><p>ä¹‹å‰ç”¨SVNæäº¤è¿‡çš„æ–‡ä»¶/æ–‡ä»¶å¤¹ï¼Œè¢«æ ‡è®°ä¸ºâ€additionâ€çŠ¶æ€ï¼Œç­‰å¾…è¢«åŠ å…¥åˆ°ä»“åº“ã€‚è™½ç„¶ä½ æŠŠè¿™ä¸ªæ–‡ä»¶åˆ é™¤äº†ï¼ŒSVNæäº¤çš„æ—¶å€™è¿˜æ˜¯ä¼šå°è¯•æäº¤è¿™ä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥å°±ä¼šæç¤ºï¼š<code>â€œbut is missingâ€ã€‚</code><br>å½“ç„¶åˆ é™¤è¿™ä¸ªä¸œè¥¿ï¼Œå°±æ˜¯å› ä¸ºå®ƒå¤šä½™ï¼Œä¸ç„¶ä¹Ÿä¸ä¼šå¤šæ­¤ä¸€ä¸¾ã€‚ç°åœ¨å‡ºç°è¿™ç§é”™è¯¯ï¼Œæˆ‘ä»¬ä¸å¯èƒ½å†å»æ·»åŠ ä¸Šå»ï¼Œæ‰€ä»¥è§£å†³æ–¹æ³•åªèƒ½ä»SVNä¸Šç€æ‰‹äº†ï¼Œé¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯æ›´æ–°SVNé…ç½®æ–‡ä»¶ã€‚<br>æˆ‘çš„â€XXXâ€æ˜¯è¿™æ ·çš„ï¼š<pre><code> /Users/guohua/Desktop/é¡¹ç›®/é¡¹ç›®åå­—XXX/idealservice/idealservice/Classes/External/SDWebImage/FLAnimatedImage  </code></pre>ç¼ºå°‘çš„æ–‡ä»¶å¤¹æ˜¯ï¼š<code>FLAnimatedImage  ã€‚</code><br>æ€è·¯æ˜¯å¯¹çš„ï¼Œé‚£å°±çœ‹è§£å†³æ–¹æ³•å§ï¼š<br><code>å‘½ä»¤è¡Œï¼šsvn revert  å°†â€XXXâ€  revertï¼ˆæ¢å¤ï¼‰ åˆ°å®ƒçš„ä¸Šçº§ç›®å½•</code><br>å…·ä½“è¿™æ ·ï¼š<pre><code><br>svn revert  /Users/guohua/Desktop/é¡¹ç›®/é¡¹ç›®åå­—XXX/idealservice/idealservice/Classes/External/SDWebImage â€“depth infinity </code></pre></p>
<p>å¦‚æœä½ SVNæç¤ºç¼ºå°‘<code>XXX.png</code><br>å¯ä»¥ç›´æ¥å¤åŸåˆ°è¿™ä¸ªå›¾ç‰‡ä½ç½®ï¼š<pre><code>svn revert  /Users/guohua/Desktop/é¡¹ç›®/é¡¹ç›®åå­—XXX/â€¦/XXX.png  </code></pre></p>
<p>ä¸‹é¢æˆ‘ä»¬å»æäº¤ï¼Œå°±æ²¡æœ‰è¿™ç§æŠ¥é”™æç¤ºäº†ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å‰è¨€ï¼š&quot;&gt;&lt;a href=&quot;#å‰è¨€ï¼š&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€ï¼š&quot;&gt;&lt;/a&gt;å‰è¨€ï¼š&lt;/h3&gt;&lt;p&gt;æœ€è¿‘åœ¨ç»´æŠ¤è€é¡¹ç›®ï¼Œæ‰€ä»¥å‡ºç°äº†å¾ˆå¤šä»¥å‰æ²¡é‡åˆ°è¿‡çš„é—®é¢˜ã€‚ä¹Ÿç®—è§è¯†ä¸€ç•ªå§ã€‚&lt;br&gt;ç›®å‰æ‰€åœ¨çš„å…¬å¸ä½¿ç”¨SVNä½œä¸ºç‰ˆæœ¬æ§åˆ¶å™¨ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥è¿™ä¸ªé—®
    
    </summary>
    
    
      <category term="SVN" scheme="https:guohuaden.com/tags/SVN/"/>
    
  </entry>
  
  <entry>
    <title>iOSä¹‹ä½¿ç”¨æ¨¡æ‹Ÿå™¨é”™è¯¯ (Code Sign Error:resource fork, Finder information, or similar detritus not allowed)</title>
    <link href="https:guohuaden.com/2016/11/14/Xcode-error-Code%20Sign%20Error/"/>
    <id>https:guohuaden.com/2016/11/14/Xcode-error-Code Sign Error/</id>
    <published>2016-11-14T12:01:31.000Z</published>
    <updated>2017-02-08T02:14:13.000Z</updated>
    
    <content type="html"><![CDATA[<p>å¾ˆå¥‡æ€ªçš„é—®é¢˜ï¼Œä½¿ç”¨çœŸæœºæµ‹è¯•æ²¡æœ‰é—®é¢˜ã€‚ä½†ä½¿ç”¨æ¨¡æ‹Ÿå™¨æµ‹è¯•çš„æ—¶å€™å°±ä¼šæŠ¥è¿™æ ·çš„é”™è¯¯ï¼Œé”™è¯¯ç±»å‹ä¸ºï¼š<code>Code Sign Error</code></p>
<p>é”™è¯¯æç¤ºæ˜¯è¿™æ ·ï¼š<code>resource fork, Finder information, or similar detritus not allowedã€‚</code></p>
<p>æ‰¾äº†å¾ˆå¤šèµ„æ–™ï¼Œè¯´çš„éƒ½æ˜¯ä¸€åŠä¸€åŠï¼Œæœ‰çš„çœ‹äº†ä»æ˜¯æ— ä»ä¸‹æ‰‹ã€‚æœ€åçœ‹åˆ°çš„å¤„ç†æ–¹å¼æ˜¯è¿™æ ·çš„ï¼š</p>
<p>é¦–å…ˆå…³é—­<code>Xcode</code>ï¼Œæ‰“å¼€ç»ˆç«¯ï¼š</p>
<p>è¿›å…¥<code>DerivedData</code>ç›®å½•</p>
<p><code>cd ~/Library/Developer/Xcode/DerivedData/ </code></p>
<p>ç„¶åå†ç»ˆç«¯è¾“å…¥ï¼š<code>xattr -rc .</code> </p>
<p><code>xattr -rc .</code> </p>
<p>å†æ¬¡è¿è¡Œé¡¹ç›®ï¼Œå°±æ²¡æœ‰è¿™æ ·æŠ¥é”™äº†ã€‚ï¼ˆä¹Ÿç®—æ˜¯å¯¹ç—‡ä¸‹è¯å§ï¼‰</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¾ˆå¥‡æ€ªçš„é—®é¢˜ï¼Œä½¿ç”¨çœŸæœºæµ‹è¯•æ²¡æœ‰é—®é¢˜ã€‚ä½†ä½¿ç”¨æ¨¡æ‹Ÿå™¨æµ‹è¯•çš„æ—¶å€™å°±ä¼šæŠ¥è¿™æ ·çš„é”™è¯¯ï¼Œé”™è¯¯ç±»å‹ä¸ºï¼š&lt;code&gt;Code Sign Error&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;é”™è¯¯æç¤ºæ˜¯è¿™æ ·ï¼š&lt;code&gt;resource fork, Finder information, or simil
    
    </summary>
    
    
      <category term="Xcode" scheme="https:guohuaden.com/tags/Xcode/"/>
    
  </entry>
  
  <entry>
    <title>Base64åŠ å¯†å’ŒDESåŠ å¯†ã€ä»¥åŠJAVAå’ŒiOSä¸­DESåŠ å¯†ç»Ÿä¸€æ€§é—®é¢˜</title>
    <link href="https:guohuaden.com/2016/10/06/DES-encryption/"/>
    <id>https:guohuaden.com/2016/10/06/DES-encryption/</id>
    <published>2016-10-06T14:14:00.000Z</published>
    <updated>2017-01-14T13:07:16.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p><em>æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ä¸ºäº†å®‰å…¨æ–¹é¢çš„è€ƒè™‘ï¼Œé€šå¸¸æƒ…å†µä¸‹ä¼šé€‰æ‹©ä¸€ç§åŠ å¯†æ–¹å¼å¯¹éœ€è¦å®‰å…¨æ€§çš„æ–‡æœ¬è¿›è¡ŒåŠ å¯†ï¼Œè€ŒBase64åŠ å¯†å’ŒDES64åŠ å¯†æ˜¯å¸¸ç”¨çš„åŠ å¯†ç®—æ³•ã€‚æˆ‘è®°å¾—æˆ‘åœ¨å‰ä¸€ä¸ªé¡¹ç›®ä¸­ä½¿ç”¨çš„å°±æ˜¯è¿™ä¸¤ç§åŠ å¯†ç®—æ³•çš„ç»“åˆï¼šBase64 ï¼‹ DESåŠ å¯†ã€‚å½“ç„¶è¿™éœ€è¦ç§»åŠ¨ç«¯å’Œåå°æœåŠ¡å™¨åšä¸€ä¸ªç»Ÿä¸€ã€‚</em></p>
<h3 id="1ã€Base64åŠ è§£å¯†"><a href="#1ã€Base64åŠ è§£å¯†" class="headerlink" title="1ã€Base64åŠ è§£å¯†"></a>1ã€Base64åŠ è§£å¯†</h3><p>å€¼å¾—ä¸€æçš„æ˜¯ï¼šappleæä¾›äº†åŸºç¡€çš„Base64åŠ è§£å¯†ç®—æ³•ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç›´æ¥ä½¿ç”¨æ–¹æ³•å»å®ç°Base64åŠ è§£å¯†ã€‚å…ˆçœ‹ä¸€ä¸‹appleéƒ½æä¾›äº†å“ªäº›æ–¹æ³•ï¼š<br><pre>@interface NSData (NSDataBase64Encoding)<br>-(nullable instancetype)initWithBase64EncodedString:(NSString <em> )base64String options:(NSDataBase64DecodingOptions)options NS_AVAILABLE(10_9, 7_0);<br>-(NSString </em> )base64EncodedStringWithOptions:(NSDataBase64EncodingOptions)options NS_AVAILABLE(10_9, 7_0);<br>-(nullable instancetype)initWithBase64EncodedData:(NSData <em> )base64Data options:(NSDataBase64DecodingOptions)options NS_AVAILABLE(10_9, 7_0);<br>-(NSData </em> )base64EncodedDataWithOptions:(NSDataBase64EncodingOptions)options NS_AVAILABLE(10_9, 7_0);<br>@end</pre> </p>
<p>æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªNSDataï¼Œå†å»ä¸€æ¡ä¸€æ¡çš„åˆ†æä»¥ä¸Šçš„æ–¹æ³•</p>
<pre>NSData *data = [@"Base64 encoding string" dataUsingEncoding:NSUTF8StringEncoding];</pre>

<ul>
<li><p>ï¼ˆ1ï¼‰åˆ›å»ºä¸€ä¸ªDataï¼ˆä»ä¸€ä¸ªBase64ç¼–ç å­—ç¬¦ä¸²ä½¿ç”¨ç»™å‡ºçš„è®¾ç½®åˆ›å»ºä¸€ä¸ªDataï¼‰</p>
<pre>NSData *dataFromBase64String = [[NSData alloc]initWithBase64EncodedString:base64String options:0];</pre>
</li>
<li><p>(2)åˆ›å»ºä¸€ä¸ªBase64ç¼–ç å­—ç¬¦ä¸²ï¼ˆä»æ¥å—è€…å†…å®¹åˆ›å»ºï¼‰</p>
<pre>NSString *base64String = [data base64EncodedStringWithOptions:0];</pre>
</li>
<li><p>(3)åˆ›å»ºä¸€ä¸ªDataï¼ˆä»ä¸€ä¸ªBase64ã€UTF-8ç¼–ç çš„Dataåˆ›å»ºï¼‰</p>
<pre>NSData *base64AndUTFData = [base64Data initWithBase64EncodedData:base64Data options:0];</pre>
</li>
<li><p>(4)åˆ›å»ºä¸€ä¸ªBase64ã€UTF-8ç¼–ç çš„Dataï¼ˆä»æ¥å—è€…å†…å®¹åˆ›å»ºï¼‰</p>
<pre>NSData *base64Data = [data base64EncodedDataWithOptions:0];</pre>


</li>
</ul>
<p><strong>å½“ç„¶ï¼Œæˆ‘ä»¬æœ€åä¹Ÿå¯ä»¥å°†Dataè½¬åŒ–æˆStringç±»å‹ã€‚</strong></p>
<pre>NSString *base64Decoded = [[NSString alloc]initWithData:dataFromBase64String encoding:NSUTF8StringEncoding];</pre>



<p><em>ä»¥ä¸Šæ˜¯Base64åŠ è§£å¯†æ–¹æ³•ã€‚ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹DESçš„åŠ è§£å¯†ã€‚</em></p>
<h3 id="2ã€DESåŠ è§£å¯†"><a href="#2ã€DESåŠ è§£å¯†" class="headerlink" title="2ã€DESåŠ è§£å¯†"></a>2ã€DESåŠ è§£å¯†</h3><p>æˆ‘ä»¬éƒ½çŸ¥é“å®‰å“å’Œåå°å¯ä»¥ä½¿ç”¨ç»Ÿä¸€çš„ä»£ç å»è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¿™ä¹Ÿæ˜¯javaçš„ä¼˜åŠ¿ä¹‹ä¸€å§ã€‚è¿™é‡Œæˆ‘ä¼šé™„ä¸€æ®µjavaçš„ä»£ç ã€‚ä¸»è¦æ˜¯ä¸ºäº†ä¸‹é¢è¯´æ˜javaå’ŒiOSç«¯å®ç°ä¸­éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼ˆä¹Ÿæ˜¯ä¸åŒç‚¹ï¼‰ã€‚<br>ä¸ºäº†ä½¿è¯´æ˜æ›´æ–¹ä¾¿ä¸€äº›ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹javaçš„DESåŠ å¯†æ–¹æ³•ï¼š</p>
<pre>// EDSåŠ å¯†
 public static String Encrypt(String originalStr) {
   String result = null;
   byte[] tmpOriginalStr = null;
   try {
       if (!Tools.isEmpty(originalStr)) {
           tmpOriginalStr = originalStr.getBytes("utf-8");
           SecretKeyFactory keyFactory = SecretKeyFactory.getInstance("DES");
           DESKeySpec dks = new DESKeySpec(KEY);
           SecretKey secretKey = keyFactory.generateSecret(dks);
           IvParameterSpec param = new IvParameterSpec(IV);
           Cipher cipher = Cipher.getInstance("DES/CBC/PKCS5Padding");
           cipher.init(Cipher.ENCRYPT_MODE, secretKey,param);
           byte[] tmpEncypt = cipher.doFinal(tmpOriginalStr);
           if (tmpEncypt != null) {
               result = Base64.encodeToString(tmpEncypt,Base64.NO_WRAP);
            }
         }
      } catch (Exception e) {
            Log.e("Erro",e.getMessage());
      }
     return result;
  }
}
</pre>

<p>æˆ‘ä»¬å¯ä»¥çœ‹å‡ºJavaé’ˆå¯¹DESåŠ å¯†ç®—æ³•é»˜è®¤ä½¿ç”¨çš„æ˜¯<code>CBCæ¨¡å¼</code>ï¼Œå¯¹é½æ–¹å¼é‡‡ç”¨çš„æ˜¯:<code>PKCS5Padding</code>ã€‚</p>
<p>è€ŒOCä¸­çš„åŠ å¯†å¹¶ä¸æ˜¯javaä¸­çš„å½¢å¼å®ç°åŠ å¯†çš„ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€çœ‹OCä¸­å®ç°DESåŠ å¯†çš„ä»£ç ï¼š</p>
<pre>+(NSString *) encryptUseDES:(NSString *)plainText {
    NSString * ciphertext = nil;
    NSData * textData = [plainText dataUsingEncoding:NSUTF8StringEncoding];
    NSUInteger dataLength = [textData length];
    unsigned char buffer[1024 * 5];
    memset(buffer, 0, sizeof(char));
    size_t numBytesEncrypted = 0;
    CCCryptorStatus cryptStatus = CCCrypt(kCCEncrypt, kCCAlgorithmDES,
                                          kCCOptionPKCS7Padding,
                                          [key UTF8String], kCCKeySizeDES,
                                          [iv UTF8String],
                                          [textData bytes], dataLength,
                                          buffer, 1024,
                                          &numBytesEncrypted);
    if (cryptStatus == kCCSuccess) {
        NSData *data = [NSData dataWithBytes:buffer length:(NSUInteger)numBytesEncrypted];
        ciphertext = [data base64EncodedStringWithOptions:0];
    }
    return ciphertext;
}
</pre>

<p>å…ˆè¯´ä¸€ä¸‹ä»£ç ä¸­çš„<strong>keyå’Œiv</strong> ã€‚<code>key</code>ï¼šæ˜¯DESåŠ å¯†çš„å…¬é’¥ã€‚è€Œ<code>iv</code>ï¼šæ˜¯åˆå§‹åŒ–çš„çŸ¢é‡ã€‚ä¸¤è€…éƒ½æ˜¯DESåŠ å¯†çš„å…³é”®å‚æ•°ã€‚è¿™ä¸ªæ˜¯å¿…é¡»è¦å’ŒAndroidã€åå°æœ‰ä¸ªç»Ÿä¸€çš„ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹å‡ºOCä½¿ç”¨çš„æ˜¯<code>kCCOptionPKCS7Padding</code>å¯¹é½æ–¹å¼ã€‚è€Œjavaä¸­å¾ˆæ˜ç¡®çš„æŒ‡å‡ºä½¿ç”¨çš„æ˜¯<code>PKCS5Padding</code>ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ç‚¹è¿›å»çœ‹çœ‹OCä¸­ç»™å‡ºçš„å¯¹é½é€‰æ‹©æœ‰å“ªäº›ï¼Œæˆ‘ç›´æ¥ä»¥ä»£ç çš„å½¢å¼å±•ç¤ºå‡ºæ¥ï¼š</p>
<p><pre>@constant   kCCOptionPKCS7Padding   Perform PKCS7 padding.<br>@constant   kCCOptionECBMode        Electronic Code Book Mode.<br>                                    Default is CBC.<br>enum {<br>    /<em> options for block ciphers </em>/<br>    kCCOptionPKCS7Padding   = 0x0001,<br>    kCCOptionECBMode        = 0x0002<br>    /<em> stream ciphers currently have no options </em>/<br>};</pre></p>
<p> OCä¸­ç»™å‡ºçš„æ˜¯<code>kCCOptionECBMode</code> å’Œ<code> kCCOptionPKCS7Padding</code>è¿™ä¸¤ç§é€‰æ‹©ã€‚é‚£ä¹ˆï¼Œé—®é¢˜ç°åœ¨å‡ºç°äº†ã€‚javaä¸­çš„DESåŠ å¯†ç®—æ³•æœ‰å¾ˆå¤šç§ï¼Œä¾‹å¦‚ï¼š<code>ECBï¼ŒCBCï¼ŒOFBï¼ŒCFB</code>ç­‰ã€‚</p>
<p>java å’Œ OCçš„DESåŠ å¯†æ€æ ·æ‰èƒ½å®ç°ä¸€è‡´æ€§å‘¢ï¼Ÿï¼ˆè¿™ä¹Ÿæ˜¯æˆ‘åœ¨é¡¹ç›®ä¸­é‡åˆ°çš„é—®é¢˜ï¼‰ã€‚</p>
<p>æŸ¥é˜…å¾ˆå¤šèµ„æ–™ï¼Œå†åŠ ä¸Šè‡ªå·±çš„å¾ˆå¤šæ¬¡æµ‹è¯•ï¼Œå¾—å‡ºçš„ç»“æœå¦‚ä¸‹ï¼š</p>
<p><strong>åœ¨JAVAä¸­ä½¿ç”¨è¿™ç§æ–¹å¼åŠ å¯†ï¼š<code>DES/CBC/PKCS5Padding</code> å¯¹åº”çš„Object-Cçš„æ˜¯ <code>kCCOptionPKCS7Padding</code>.<br>è€Œä½¿ç”¨<code>DES/ECB/PKCS5Padding</code> å¯¹åº”çš„Object-Cçš„æ˜¯   <code>kCCOptionPKCS7Padding | kCCOptionECBMod</code><br>è§‰å¾—ä¼¼ä¹OCç›®å‰åªæ”¯æŒè¿™ä¸¤ç§æ–¹å¼çš„åŠ å¯†ã€‚å½“ç„¶ç»“æœæ˜¯å·²ç»å¾—åˆ°éªŒè¯çš„ã€‚</strong></p>
<p><strong>æ³¨æ„ï¼šmd5åŠ å¯†ï¼ˆiOS SDKä¸­è‡ªå¸¦äº†CommonCryptoï¼‰å‡ºç°è­¦å‘Šâš ï¸ ã€‚è§£å†³æ–¹æ³•æ·»åŠ ï¼šå¼•å…¥å‡½æ•°å®šä¹‰çš„å¤´æ–‡ä»¶</strong> :<code>#import &lt;CommonCrypto/CommonDigest.h&gt;</code></p>
<p>å…¶ä»–é“¾æ¥ï¼š</p>
<p>ã€Š<a href="http://www.tuicool.com/articles/UJJrAj" target="_blank" rel="external">Objective Cä¸Javaä¹‹é—´çš„DESåŠ è§£å¯†å®ç°</a>ã€‹</p>
<p>ã€Š<a href="http://iosdevelopertips.com/core-services/encode-decode-using-base64.html" target="_blank" rel="external">iOS 7: Base64 Encode and Decode NSData and NSString Objects</a>ã€‹</p>
<p> è¿™é‡Œé™„ä¸Šdemoï¼š<a href="https://github.com/Wheat-Qin/Base64-DES" target="_blank" rel="external">https://github.com/Wheat-Qin/Base64-DES</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h3&gt;&lt;p&gt;&lt;em&gt;æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ä¸ºäº†å®‰å…¨æ–¹é¢çš„è€ƒè™‘ï¼Œé€šå¸¸æƒ…å†µä¸‹ä¼šé€‰æ‹©ä¸€ç§åŠ å¯†æ–¹å¼å¯¹éœ€è¦å®‰å…¨æ€§çš„æ–‡æœ¬è¿›è¡ŒåŠ å¯†ï¼Œè€ŒBase64åŠ å¯†å’ŒDES64åŠ å¯†æ˜¯å¸¸ç”¨çš„åŠ 
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>iOSä¹‹é¡¹ç›®æ€»ç»“ï¼ï¼šé¡¹ç›®ä¸­é‡åˆ°çš„å„ç§çš„é—®é¢˜å’Œè§£å†³æ–¹æ³•</title>
    <link href="https:guohuaden.com/2016/08/16/project-summary-one/"/>
    <id>https:guohuaden.com/2016/08/16/project-summary-one/</id>
    <published>2016-08-16T10:28:00.000Z</published>
    <updated>2017-01-14T18:00:46.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€ï¼š"><a href="#å‰è¨€ï¼š" class="headerlink" title="å‰è¨€ï¼š"></a>å‰è¨€ï¼š</h3><p> ä¸€åˆ°å…¬å¸æŠ¥é“é‚£æ—¶ï¼Œä¾¿ç€æ‰‹ç‹¬ç«‹çš„å»å®Œæˆäº†ä¸€ä¸ªé¡¹ç›®ï¼Œå…¶ä¸­çš„è¾›é…¸æ³ªä¹Ÿæ˜¯ä¸è¶³ä¸ºå¤–äººé“ä¹Ÿã€‚è¿™æ¬¡ç®—æ˜¯ä¸€ä¸ªæ–°å‹çš„appï¼Œä»ç„¶æ˜¯ç‹¬ç«‹å¼€å‘ï¼Œä½†å¿ƒå¢ƒå’Œæƒ³æ³•å´æ˜¯å®Œå…¨çš„ä¸åŒã€‚ä¸‹é¢è¯´ä¸€æ¬¡ä»¥å‰åšå¼€å‘æ—¶å¸¸å¸¸å¿½ç•¥çš„çŸ¥è¯†ï¼Œä¹Ÿç®—æ˜¯ä¸€ç§å¤ä¹ äº†å§ã€‚ä¸‹é¢è¨€å½’æ­£ä¼ ï¼š</p>
<h3 id="1ã€è‡ªå¸¦é”®ç›˜çš„nextç”¨æ³•"><a href="#1ã€è‡ªå¸¦é”®ç›˜çš„nextç”¨æ³•" class="headerlink" title="1ã€è‡ªå¸¦é”®ç›˜çš„nextç”¨æ³•"></a>1ã€è‡ªå¸¦é”®ç›˜çš„nextç”¨æ³•</h3><p>è¿™ç®—æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„äº†å§ï¼Œåªè¦æˆ‘ä»¬æƒ³åˆ°ç™»å½•å’Œæ³¨å†Œç•Œé¢ï¼Œå°±åº”è¯¥è‡ªç„¶è€Œç„¶çš„æƒ³åˆ° - é”®ç›˜çš„nextç”¨æ³•ï¼ˆå½“ç„¶ä¸æ’é™¤ç›¸å½“å¤šçš„è½¯ä»¶å¹¶æ²¡æœ‰å®ç°è¿™ä¸ªåŠŸèƒ½ï¼‰ã€‚</p>
<p>æƒ³æ³•ä¹Ÿå°±æ˜¯ï¼šç”¨æˆ·åœ¨è¾“å…¥ç”¨æˆ·ååï¼Œç‚¹å‡»nextè·³è½¬åˆ°ä¸‹ä¸€ä¸ªè¾“å…¥æ¡†ã€‚å…¶å®ä¹Ÿä¸ç”¨æƒ³çš„å¦‚æ­¤å¤æ‚ï¼Œåœ¨ç™»å½•ç•Œé¢ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥ç”¨ä¸€ä¸ª if è¯­å¥åšåˆ¤æ–­ï¼Œå»å®ç°é”®ç›˜çš„å“åº”å’Œæ³¨é”€å“åº”ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š <pre>- (BOOL)textFieldShouldReturn:(UITextField <em> )textField {<br>  UITextField </em> passTextFiled = (UITextField *)[self.view viewWithTag:201];<br>  if (textField.tag == 200) {<br>          [passTextFiled becomeFirstResponder];<br>   }else{<br>           [passTextFiled resignFirstResponder];<br>    }<br>   return YES;<br>}</pre></p>
<p>è¿™æ ·å°±ç®€å•çš„åœ¨å˜æˆå“åº”å’Œæ³¨é”€å“åº”ä¹‹é—´å®ç°äº†è¾“å…¥æ¡†çš„åˆ‡æ¢ã€‚</p>
<p>ä½†è¿˜æ˜¯å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæˆ‘å®ç°æ³¨å†Œç•Œé¢çš„è·³è½¬è¾“å…¥æ¡†ï¼Œå¹¶ä¸”åœ¨è¾“å…¥æ¡†å¾ˆå¤šçš„æƒ…å†µä¸‹ï¼Œæ˜¾ç„¶å¦‚æœæˆ‘ä»æ˜¯è¿™æ ·åˆ¤æ–­ï¼Œä¼šæ˜¾å¾—å•°å—¦å’Œå†—ä½™ã€‚</p>
<p>æˆ‘æ›¾æƒ³è¿‡ä½¿ç”¨è®¡æ•°çš„æ–¹å¼ï¼Œè®°å½•æ¯ä¸€æ¬¡çš„ç‚¹å‡»nextåçš„tagï¼Œä½†å®è·µä¸­å¤±è´¥äº†ï¼Œå› ä¸ºå½“æˆ‘ä¸é€šè¿‡nextè€Œæ˜¯ç›´æ¥ç”¨æ‰‹å»è§¦æ‘¸é€‰æ‹©è¾“å…¥æ¡†æ—¶ï¼Œåˆ™æ— æ³•è®¡æ•°ã€‚</p>
<p> è¿™é‡Œå…ˆç•™ä¸ªç©ºç™½ï¼Œç­‰æŠŠæ‰‹é‡Œçš„é¡¹ç›®å®Œæˆæ—¶å†ç ”ç©¶è¿™ä¸ªé—®é¢˜</p>
<h3 id="2ã€UITextFieldçš„çº é”™å’Œé¦–å­—æ¯å¤§å°å†™é—®é¢˜"><a href="#2ã€UITextFieldçš„çº é”™å’Œé¦–å­—æ¯å¤§å°å†™é—®é¢˜" class="headerlink" title="2ã€UITextFieldçš„çº é”™å’Œé¦–å­—æ¯å¤§å°å†™é—®é¢˜"></a>2ã€UITextFieldçš„çº é”™å’Œé¦–å­—æ¯å¤§å°å†™é—®é¢˜</h3><p>è¿™ä¸ªé—®é¢˜åªæ˜¯ç®€å•çš„å±æ€§é—®é¢˜ï¼Œåœ¨å¼€å‘æ—¶å¦‚æœå¿˜è®°ï¼Œå»ºè®®å¤šç‚¹è¿›å»çœ‹çœ‹ï¼Œï¼ˆå¦‚ï¼šcommand + UITextFieldï¼‰   </p>
<pre>
 //è¾“å…¥æ¡†ä¸­æ˜¯å¦æœ‰ä¸ªå‰å·ï¼Œåœ¨ä»€ä¹ˆæ—¶å€™æ˜¾ç¤ºï¼Œç”¨äºä¸€æ¬¡æ€§åˆ é™¤è¾“å…¥æ¡†ä¸­çš„å†…å®¹    
self.clearButtonMode = UITextFieldViewModeWhileEditing;    
//æ˜¯å¦çº é”™,æœ¬äººæ„Ÿè§‰çº é”™æ˜¯ä¸€ä¸ªå¾ˆåæ„Ÿçš„ä¸œè¥¿ï¼Œä½†UITextFieldé»˜è®¤æ˜¯ YES,è¿™é‡Œæˆ‘æ”¹æˆäº†NO      
self.autocorrectionType = UITextAutocorrectionTypeNo;       
 //å†æ¬¡ç¼–è¾‘å°±æ¸…ç©º      
self.clearsOnBeginEditing = YES;       
//è®¾ç½®è‡ªåŠ¨ç¼©å°æ˜¾ç¤ºçš„æœ€å°å­—ä½“å¤§å°      
self.minimumFontSize = 15;        
//è®¾ç½®é”®ç›˜çš„æ ·å¼ï¼Œæœ¬äººæ„Ÿè§‰è¿™ä¸ªè®¾ç½®å¯¹ç”¨æˆ·ä½“éªŒæœ‰å½±å“ã€‚æ¯”å¦‚è¯´æˆ‘æƒ³æ‰“ç”µè¯ï¼ŒTypeä¸ºUIKeyboardTypeNumberPad,è€Œä¸æ˜¯å…¶ä»–     
self.keyboardType = UIKeyboardTypeNamePhonePad;</pre>

<h3 id="3ã€iOSä¸­å›¾ç‰‡çš„å‡ ç§æ‹‰ä¼¸æ–¹æ³•çš„ä½¿ç”¨"><a href="#3ã€iOSä¸­å›¾ç‰‡çš„å‡ ç§æ‹‰ä¼¸æ–¹æ³•çš„ä½¿ç”¨" class="headerlink" title="3ã€iOSä¸­å›¾ç‰‡çš„å‡ ç§æ‹‰ä¼¸æ–¹æ³•çš„ä½¿ç”¨"></a>3ã€iOSä¸­å›¾ç‰‡çš„å‡ ç§æ‹‰ä¼¸æ–¹æ³•çš„ä½¿ç”¨</h3><p>ä»¥ä¸‹æ˜¯Apple SDKç»™å‡ºçš„3ç§æ–¹æ³•:</p>
<pre>UIImage *image = [UIImage imageNamed:@"picture"];        
//iOS5ä¹‹å‰     
// å·¦ç«¯ç›–å®½åº¦        
NSInteger leftCapWidth = image.size.width * 0.5f;       
NSInteger topCapHeight = image.size.height * 0.8f;        

image = [image stretchableImageWithLeftCapWidth:leftCapWidth topCapHeight:topCapHeight];        

//iOS5ä¹‹å       
UIEdgeInsets insets = UIEdgeInsetsMake(image.size.height * 0.8f,image.size.width * 0.5f, 40, 40);       

image = [image resizableImageWithCapInsets:insets];      
//iOS6ä¹‹å        
UIEdgeInsets insets = UIEdgeInsetsMake(image.size.height * 0.8f,image.size.width * 0.5f, 40, 40);       
image = [image resizableImageWithCapInsets:insets resizingMode:UIImageResizingModeStretch]; </pre>  

<p>ä¸‹é¢æ˜¯ä½¿ç”¨çš„è§£é‡Šï¼š<br><img src="http://obzx0h1re.bkt.clouddn.com/pictureStretch.png" alt="pictureStretch"></p>
<pre>
/**   
 *  - (UIImage *)stretchableImageWithLeftCapWidth:(NSInteger)leftCapWidth topCapHeight:(NSInteger)topCapHeight;    
 *  
 *  leftCapWidthä»£è¡¨å·¦ç«¯ç›–å®½åº¦ï¼ŒtopCapHeightä»£è¡¨é¡¶ç«¯ç›–é«˜åº¦ã€‚ç³»ç»Ÿä¼šè‡ªåŠ¨è®¡ç®—å‡ºå³ç«¯ç›–å®½åº¦(rightCapWidth)å’Œåº•ç«¯ç›–é«˜åº¦(bottomCapHeight)    

 * ç®—æ³•å¦‚ä¸‹ï¼š    
 * widthä¸ºå›¾ç‰‡å®½åº¦  rightCapWidth = width - leftCapWidth - 1;       
 * heightä¸ºå›¾ç‰‡é«˜åº¦ bottomCapHeight = height - topCapHeight - 1    
 *    
 *ç»è¿‡è®¡ç®—ï¼Œä½ ä¼šå‘ç°ä¸­é—´çš„å¯æ‹‰ä¼¸åŒºåŸŸåªæœ‰1x1    
 *   

* stretchWidthä¸ºä¸­é—´å¯æ‹‰ä¼¸åŒºåŸŸçš„å®½åº¦        stretchWidth = width - leftCapWidth - rightCapWidth = 1;       
* stretchHeightä¸ºä¸­é—´å¯æ‹‰ä¼¸åŒºåŸŸçš„é«˜åº¦        stretchHeight = height - topCapHeight - bottomCapHeight = 1;    
*    
* å› æ­¤ï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•åªä¼šæ‹‰ä¼¸å›¾ç‰‡ä¸­é—´1x1çš„åŒºåŸŸï¼Œå¹¶ä¸ä¼šå½±å“åˆ°è¾¹ç¼˜å’Œè§’è½ã€‚    
*/

/**   
 * - (UIImage * )resizableImageWithCapInsets:(UIEdgeInsets)capInsets    
 *  è¿™ä¸ªæ–¹æ³•åªæ¥æ”¶ä¸€ä¸ªUIEdgeInsetsç±»å‹çš„å‚æ•°ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®UIEdgeInsetsçš„leftã€rightã€topã€bottomæ¥åˆ†åˆ«æŒ‡å®šå·¦ç«¯ç›–å®½åº¦ã€å³ç«¯ç›–å®½åº¦ã€é¡¶ç«¯ç›–é«˜åº¦ã€åº•ç«¯ç›–é«˜åº¦    
 * */       

/**    
 *- (UIImage * )resizableImageWithCapInsets:(UIEdgeInsets)capInsets resizingMode:(UIImageResizingMode)resizingMode  

å¯¹æ¯”iOS5.0ä¸­çš„æ–¹æ³•ï¼Œåªå¤šäº†ä¸€ä¸ª<code>UIImageResizingMode</code>å‚æ•°ï¼Œç”¨æ¥æŒ‡å®šæ‹‰ä¼¸çš„æ¨¡å¼ï¼š
    UIImageResizingModeStretchï¼šæ‹‰ä¼¸æ¨¡å¼ï¼Œé€šè¿‡æ‹‰ä¼¸
    UIEdgeInsets:æŒ‡å®šçš„çŸ©å½¢åŒºåŸŸæ¥å¡«å……å›¾ç‰‡    
    UIImageResizingModeTileï¼šå¹³é“ºæ¨¡å¼ï¼Œé€šè¿‡é‡å¤æ˜¾ç¤º
    UIEdgeInsetsæŒ‡å®šçš„çŸ©å½¢åŒºåŸŸæ¥å¡«å……å›¾ç‰‡   
**/</pre>

<p>å›¾ç‰‡æ‹‰ä¼¸çš„ä»¥ä¸Šå†…å®¹å‚è€ƒæ–‡ç«  ã€Š<a href="http://blog.csdn.net/q199109106q/article/details/8615661" target="_blank" rel="external">iOSå›¾ç‰‡æ‹‰ä¼¸æŠ€å·§</a>ã€‹è®²çš„å¾ˆå¥½ï¼Œå»ºè®®å¤§å®¶å¤šçœ‹çœ‹ã€‚</p>
<h3 id="4ã€iOSä¸­å”¤èµ·è‡ªå¸¦æµè§ˆå™¨ï¼ˆsafariï¼‰çš„æ–¹æ³•"><a href="#4ã€iOSä¸­å”¤èµ·è‡ªå¸¦æµè§ˆå™¨ï¼ˆsafariï¼‰çš„æ–¹æ³•" class="headerlink" title="4ã€iOSä¸­å”¤èµ·è‡ªå¸¦æµè§ˆå™¨ï¼ˆsafariï¼‰çš„æ–¹æ³•"></a>4ã€iOSä¸­å”¤èµ·è‡ªå¸¦æµè§ˆå™¨ï¼ˆsafariï¼‰çš„æ–¹æ³•</h3><p>ä¹Ÿæ˜¯ä¸€ä¸ªç®€å•çš„ä¸€å¥ä»£ç  ï¼Œè¿™ç§ä¹Ÿå°±æ˜¯çŸ¥é“äº†å°±çŸ¥é“äº†ï¼Œä¸çŸ¥é“å°±æ˜¯æŠ“è€³æŒ è…®å§ </p>
<pre>NSURL *url = [NSURL URLWithString:urlStr]; 

[[UIApplication sharedApplication] openURL:url]; </pre>

<h3 id="5ã€iOSä¸­å”¤èµ·ç”µè¯ç•Œé¢"><a href="#5ã€iOSä¸­å”¤èµ·ç”µè¯ç•Œé¢" class="headerlink" title="5ã€iOSä¸­å”¤èµ·ç”µè¯ç•Œé¢"></a>5ã€iOSä¸­å”¤èµ·ç”µè¯ç•Œé¢</h3><p>appå†…éƒ¨å”¤èµ·ç”µè¯ç•Œé¢çš„å®ç°ï¼Œæ˜¯æ‰¾äº†å¾ˆå¤šèµ„æ–™æ‰æœ‰çš„ä¸€ä¸ªç»“è®ºï¼ˆå®‰å…¨ï¼Œå¹¶ä¸”æ‹¨æ‰“å®Œä¹‹åå¯ä»¥è¿”å›appï¼‰</p>
<p>å®ç°çš„æ–¹æ³•æ˜¯ä½¿ç”¨UIWebView åŠ è½½ç”µè¯ï¼Œç›®å‰è¿™ç§æ–¹æ³•æ˜¯åˆæ³•çš„ï¼ŒApp Storeä¹Ÿå…è®¸é€šè¿‡çš„ã€‚  </p>
<pre>NSURL *phoneURL = [NSURL URLWithString:[NSString stringWithFormat:@"tel:%@",newPhoneString]];    
 if (_phoneCallWebView) { 
   [_phoneCallWebView loadRequest:[NSURLRequest requestWithURL:phoneURL]];  

 }</pre>

<p>ä½†å¦‚æœä½¿ç”¨ä¸‹é¢çš„è¿™ç§æ–¹æ³•ï¼Œåˆ™å¯èƒ½ä¸å…è®¸é€šè¿‡å®¡æ ¸  </p>
<pre>[[UIApplication sharedApplication] openURL:phoneURL];</pre>

<h3 id="6ã€iOS-è°ƒç”¨åœ°å›¾çš„æ–¹æ³•"><a href="#6ã€iOS-è°ƒç”¨åœ°å›¾çš„æ–¹æ³•" class="headerlink" title="6ã€iOS è°ƒç”¨åœ°å›¾çš„æ–¹æ³•"></a>6ã€iOS è°ƒç”¨åœ°å›¾çš„æ–¹æ³•</h3><p>appå†…éƒ¨è°ƒç”¨ç¬¬ä¸‰æ–¹appï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªè¯¦ç»†çš„æ–‡ç« ã€Š<a href="http://blog.csdn.net/a416863220/article/details/51220739" target="_blank" rel="external">IOSå®ç°åº”ç”¨å†…æ‰“å¼€ç¬¬ä¸‰æ–¹åœ°å›¾appè¿›è¡Œå¯¼èˆª</a>ã€‹</p>
<ul>
<li>appå†…éƒ¨è°ƒç”¨åœ°å›¾ï¼Œéœ€è¦å…ˆæ£€æµ‹ç”¨æˆ·æ‰‹æœºä¸Šæ˜¯å¦å·²ç»å®‰è£…åœ°å›¾appã€‚</li>
</ul>
<p>æˆ‘ä»¬å¸¸ç”¨çš„åœ°å›¾appæœ‰ï¼šé«˜å¾·ã€ç™¾åº¦ï¼›å›½å¤–æœ‰ï¼šè°·æ­Œï¼ˆGoogle Map ï¼‰ã€‚å½“ç„¶è¿˜æœ‰è‹¹æœè‡ªå¸¦çš„åœ°å›¾ï¼Œéšç€iOS10çš„å‘å¸ƒï¼Œè‹¹æœåœ°å›¾è¿™å—ä¹Ÿæœ‰å¾ˆå¤§çš„å®Œå–„å’Œè¿›æ­¥ã€‚</p>
<p>æˆ‘ä½¿ç”¨Xcodeæ¨¡æ‹Ÿå™¨å®ç°æ—¶ï¼Œä¼šæç¤º:</p>
<pre>1ã€canOpenURL: failed for URL: "iosamap://" error: "(null)" ã€‚</pre>

<p><strong>åŸå› æ˜¯</strong>ï¼šæ¨¡æ‹Ÿå™¨ä¸Šæ²¡æœ‰é«˜å¾·åœ°å›¾ã€‚</p>
<pre>
2ã€canOpenURL: failed for URL:"comgooglemaps://" error: "This app is not allowed to query for scheme comgooglemaps"ã€‚</pre>

<p><strong>åŸå› æ˜¯</strong>ï¼š<code>LSApplicationQueriesSchemes</code>æˆ‘è‡ªå·±é©¬è™è®¾æˆäº†å­—å…¸ç±»å‹ã€‚</p>
<p>é¦–å…ˆiOS9ä»¥åï¼Œæˆ‘ä»¬åœ¨appå†…éƒ¨è¦è·³è½¬åˆ°å…¶ä»–è½¯ä»¶æ—¶ï¼Œéœ€è¦åœ¨ <code>Info.plist</code> ä¸­æ·»åŠ ç™½åå•ã€‚</p>
<p>æ–¹æ³•ä¸ºï¼šåœ¨<code>Info.plist</code>ä¸­æ·»åŠ  <code>key : LSApplicationQueriesSchemes </code> ç±»å‹ä¸ºï¼š<code>Array</code>ã€‚</p>
<p>å°†é«˜å¾·ã€ç™¾åº¦ã€è°·æ­Œçš„å€¼å¡«è¿›å»åˆ†åˆ«æ˜¯ï¼š<code>iosamap</code>ã€<code>baidumap</code>ã€ <code>comgooglemaps</code></p>
<p>å›¾ç‰‡ï¼š<br><img src="http://obzx0h1re.bkt.clouddn.com/LSApplicationQueriesSchemes.png" alt="LSApplicationQueriesSchemes"></p>
<p>è‡³äºä¸‹é¢ä»£ç ä¸­çš„<code>URLScheme</code> å’Œ<code>appName </code> æ˜¯åœ¨<code>Info.plist</code> çš„<code>URL types</code>ä¸­æ·»åŠ   <code>URL Scheme</code>(URL Schemesæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå…è®¸åº”ç”¨å®šä¹‰å¤šä¸ªURL schemes)å’Œ<code>URL identifier</code>ï¼ˆå»ºè®®é‡‡ç”¨åè½¬åŸŸåçš„æ–¹æ³•ä¿è¯è¯¥åå­—çš„å”¯ä¸€æ€§ï¼Œæ¯”å¦‚ <code>com.yourApp.www</code>ï¼‰</p>
<p>å›¾ç‰‡å¦‚ä¸‹ï¼š</p>
<p><img src="http://obzx0h1re.bkt.clouddn.com/URLTypes.png" alt="URLTypes"></p>
<p>ä¸‹é¢æ˜¯å…·ä½“çš„ä»£ç ï¼š</p>
 <pre>__block NSString *urlScheme = urlScheme;   

 __block NSString *appName = appName;    

__block CLLocationCoordinate2D coordinate = self.coordinate;        

UIAlertController *alert = [UIAlertController alertControllerWithTitle:@"é€‰æ‹©åœ°å›¾" message:nil preferredStyle:UIAlertControllerStyleActionSheet];          

//appleè‡ªå¸¦çš„åœ°å›¾ä¸éœ€è¦åˆ¤æ–­        

UIAlertAction * action = [UIAlertAction actionWithTitle:@"è‹¹æœåœ°å›¾" style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) {      

       MKMapItem *currentLocation = [MKMapItem mapItemForCurrentLocation]; 

     MKMapItem *toLocation = [[MKMapItem alloc] initWithPlacemark:[[MKPlacemark alloc] initWithCoordinate:coordinate addressDictionary:nil]];                      

     [MKMapItem openMapsWithItems:@[currentLocation, toLocation]                           launchOptions:@{

MKLaunchOptionsDirectionsModeKey:     MKLaunchOptionsDirectionsModeDriving,MKLaunchOptionsShowsTrafficKey: [NSNumber numberWithBool:YES]}];        

}];        

 [alert addAction:action];        

 //åˆ¤æ–­ç™¾åº¦åœ°å›¾   

 if ( [[UIApplication sharedApplication] canOpenURL:[NSURL URLWithString:@"baidumap://"]])      

{        UIAlertAction * action = [UIAlertAction actionWithTitle:@"ç™¾åº¦åœ°å›¾" style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) {                       

 NSString *urlString = [[NSString stringWithFormat:@"baidumap://map/direction?origin=&destination=latlng:%f,%f|name=ç›®çš„åœ°&mode=driving&coord_type=gcj02",coordinate.latitude, coordinate.longitude] stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];

  [[UIApplication sharedApplication] openURL:[NSURL URLWithString:urlString]];         

 }];        

[alert addAction:action];      

}     

 //åˆ¤æ–­é«˜å¾·åœ°å›¾     

 if ( [[UIApplication sharedApplication] canOpenURL:[NSURL URLWithString:@"iosamap://"]])      

 {        

UIAlertAction * action = [UIAlertAction actionWithTitle:@"é«˜å¾·åœ°å›¾" style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) {                        

NSString *urlString = [[NSString stringWithFormat:@"iosamap://navi?sourceApplication=%@&backScheme=%@&lat=%f&lon=%f&dev=0&style=2",appName,urlScheme,coordinate.latitude, coordinate.longitude] stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];  

        [[UIApplication sharedApplication] openURL:[NSURL URLWithString:urlString]];                    }];       

 [alert addAction:action];    

}        

 //åˆ¤æ–­è°·æ­Œåœ°å›¾   

 if ( [[UIApplication sharedApplication] canOpenURL:[NSURL URLWithString:@"comgooglemaps://"]])    {       

 UIAlertAction * action = [UIAlertAction actionWithTitle:@"è°·æ­Œåœ°å›¾" style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) {                       

 NSString *urlString = [[NSString stringWithFormat:@"comgooglemaps://?x-source=%@&x-success=%@&saddr=&daddr=%f,%f&directionsmode=driving",appName,urlScheme,coordinate.latitude, coordinate.longitude] stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];                       
 [[UIApplication sharedApplication] openURL:[NSURL URLWithString:urlString]];          

}];                

[alert addAction:action];    

}        

UIAlertAction *action = [UIAlertAction actionWithTitle:@"å–æ¶ˆ" style:UIAlertActionStyleCancel handler:nil];    [alert addAction:action];        

[self presentViewController:alert animated:YES completion:^{          

}];    

}</pre>

]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å‰è¨€ï¼š&quot;&gt;&lt;a href=&quot;#å‰è¨€ï¼š&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€ï¼š&quot;&gt;&lt;/a&gt;å‰è¨€ï¼š&lt;/h3&gt;&lt;p&gt; ä¸€åˆ°å…¬å¸æŠ¥é“é‚£æ—¶ï¼Œä¾¿ç€æ‰‹ç‹¬ç«‹çš„å»å®Œæˆäº†ä¸€ä¸ªé¡¹ç›®ï¼Œå…¶ä¸­çš„è¾›é…¸æ³ªä¹Ÿæ˜¯ä¸è¶³ä¸ºå¤–äººé“ä¹Ÿã€‚è¿™æ¬¡ç®—æ˜¯ä¸€ä¸ªæ–°å‹çš„appï¼Œä»ç„¶æ˜¯ç‹¬ç«‹å¼€å‘ï¼Œä½†å¿ƒå¢ƒå’Œ
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
</feed>
