<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Wheat</title>
  <subtitle>æ™¨é’Ÿä¸€å©ï¼Œä¸‡å¢ƒçš†ç©º</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https:guohuaden.com/"/>
  <updated>2017-10-08T05:16:41.000Z</updated>
  <id>https:guohuaden.com/</id>
  
  <author>
    <name>é’å·ä¸‰éƒ¨</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>iOSä¹‹é¡¹ç›®æ€»ç»“ä¸‰ï¼šé¡¹ç›®å¼€å‘ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</title>
    <link href="https:guohuaden.com/2017/10/05/project-summary-Three/"/>
    <id>https:guohuaden.com/2017/10/05/project-summary-Three/</id>
    <published>2017-10-05T03:19:10.000Z</published>
    <updated>2017-10-08T05:16:41.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€ï¼š"><a href="#å‰è¨€ï¼š" class="headerlink" title="å‰è¨€ï¼š"></a>å‰è¨€ï¼š</h3><p>ä¸¤å¹´å¤šä»¥æ¥ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ç‹¬ç«‹å¼€å‘æˆ–è€…ç»´æŠ¤é¡¹ç›®ï¼Œä¸å¾—ä¸è‡ªå˜²çš„è¯´æŒºé”»ç‚¼äººçš„ã€‚æœ€è¿‘çš„ä¸€å®¶å…¬å¸æ˜¯æ¶‰è¶³é‡‘èè¡Œåˆ—çš„ï¼Œç®—æ˜¯ç¬¬ä¸€æ¬¡è¸è¶³é‡‘èå§ï¼Œè¿‡ç¨‹æ€æ ·ä¸è¯´ï¼Œç¡®å®å­¦åˆ°äº†ä¸å°‘ä¸œè¥¿ã€‚</p>
<p><strong><em>ä¸‹é¢å°±å¼€å‘ç¬¬ä¸€æ¬¾é‡‘èç±»é¡¹ç›®é‡åˆ°çš„é—®é¢˜åšä¸€ä¸‹æ€»ç»“ï¼š</em></strong></p>
<h4 id="1ã€ä¸­æ–‡æ˜¾ç¤ºæ ‡é¢˜ä¹‹ç±»"><a href="#1ã€ä¸­æ–‡æ˜¾ç¤ºæ ‡é¢˜ä¹‹ç±»" class="headerlink" title="1ã€ä¸­æ–‡æ˜¾ç¤ºæ ‡é¢˜ä¹‹ç±»"></a>1ã€ä¸­æ–‡æ˜¾ç¤ºæ ‡é¢˜ä¹‹ç±»</h4><p>æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­è°ƒç”¨ç›¸å†Œã€ç›¸æœºç­‰å¾€å¾€é»˜è®¤çš„æ˜¯æ˜¾ç¤ºè‹±æ–‡ï¼Œä½†æœ‰æ—¶å€™å¼€å‘çš„é¡¹ç›®æ˜¯é’ˆå¯¹å›½å†…çš„ï¼Œæ‰€ä»¥éœ€è¦ä¸­æ–‡é…åˆæ˜¾ç¤ºï¼Œè¿™å°±éœ€è¦æˆ‘ä»¬åšä¸€ä¸‹é…ç½®ã€‚<br>å…¶å®å¾ˆç®€å•ï¼šå°±æ˜¯åœ¨info.plistä¸­å…è®¸åº”ç”¨ç¨‹åºè·å–æ¡†æ¶å†…è¯­è¨€å³å¯ã€‚</p>
<p><pre><br>Localizedresources can be mixed  YES</pre></p>
<p>Localization native development region  China //en<br><br>å›¾ç‰‡æ˜¾ç¤ºï¼š</p>
<p><img src="http://obzx0h1re.bkt.clouddn.com/project_summary_lauguageSet.png" alt="å…è®¸åº”ç”¨ç¨‹åºè·å–æ¡†æ¶å†…è¯­è¨€å›¾ç‰‡"></p>
<h4 id="2ã€è¿è¡ŒæŠ¥é”™é—®é¢˜"><a href="#2ã€è¿è¡ŒæŠ¥é”™é—®é¢˜" class="headerlink" title="2ã€è¿è¡ŒæŠ¥é”™é—®é¢˜"></a>2ã€è¿è¡ŒæŠ¥é”™é—®é¢˜</h4><p>æŠ¥é”™ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ld: 4 duplicate symbols for architecture arm64 clang: error: linker command failed with exit</div></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ˜¯ç²—å¿ƒå¤§æ„è€Œå·®ç”Ÿçš„æŠ¥é”™ï¼Œæœ€å¯èƒ½çš„æƒ…å†µæ˜¯ï¼šå¼•å…¥ã€.hã€‘æ–‡ä»¶é‡å¤ã€‚<br>æˆ‘ä»¬çŸ¥é“iOSä¸å…è®¸åœ¨Aç±»ä¸­é‡å¤å¼•å…¥ç›¸åŒçš„Bç±»çš„ï¼Œä½¿ç”¨<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"> </div><div class="line">#### 3ã€åœ¨ä½¿ç”¨jsonModelåšé¡¹ç›®çš„æ•°æ®è§£ææ—¶ï¼Œå‡ºç°ä¸€ä¸ªå±æ€§åå­—ä¸ç¡®å®šæ˜¯å¦å­˜åœ¨çš„æƒ…å†µ</div><div class="line"></div><div class="line">è¿™ä¸ªé—®é¢˜æ˜¯æ²¡æœ‰æŠ€æœ¯å«é‡çš„ï¼Œé‡åˆ°äº†è§£å†³å°±è¡Œï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š</div><div class="line">åœ¨ã€.mã€‘æ–‡ä»¶ä¸­æ·»åŠ ä¸‹é¢çš„æ–¹æ³•å³å¯</div></pre></td></tr></table></figure></p>
<p>+(BOOL)propertyIsOptional:(NSString*)propertyName<br>{<br>  return YES;<br>}<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">#### 4ã€AESåŠ å¯†é‡åˆ°çš„å’Œ*android*ç»Ÿä¸€åŠ å¯†æ¨¡å¼é—®é¢˜</div><div class="line">è¿™ç§æƒ…å†µæˆ‘ä»¥å‰åœ¨ã€Š[Base64åŠ å¯†å’ŒDESåŠ å¯†ã€ä»¥åŠJAVAå’ŒiOSä¸­DESåŠ å¯†ç»Ÿä¸€æ€§é—®é¢˜](http://guohuaden.com/2016/10/06/DES-encryption/)ã€‹è¿™ç¯‡æ–‡ç« ä¸­æœ‰æåˆ°å¤šï¼Œä¸»è¦æ˜¯iOSè¿™è¾¹SDKä¸­åªæä¾›äº†ä¸¤ç§æ¨¡å¼ï¼š</div><div class="line"></div><div class="line">&lt;pre&gt;</div><div class="line">@constant   kCCOptionPKCS7Padding   Perform PKCS7 padding.</div><div class="line">@constant   kCCOptionECBMode        Electronic Code Book Mode.</div><div class="line">                                    Default is CBC.</div><div class="line">enum &#123;</div><div class="line">    / options for block ciphers /</div><div class="line">    kCCOptionPKCS7Padding   = 0x0001,</div><div class="line">    kCCOptionECBMode        = 0x0002</div><div class="line">    / stream ciphers currently have no options /</div><div class="line">&#125;;</div><div class="line">&lt;/pre&gt;</div><div class="line"></div><div class="line">ä½†å®‰å“çš„ä¸ä¸€æ ·ï¼Œæœ‰åå‡ ç§å·¦å³ï¼Œæ‰€ä»¥åœ¨å¼€å‘ä¸­ä¸€å®šè¦å’Œå®‰å“ã€æœåŠ¡å™¨ç«¯åšå¥½ç»Ÿä¸€ã€‚</div><div class="line"></div><div class="line">1. å¦‚æœä½¿ç”¨CBCæ¨¡å¼ï¼Œé‚£ç›´æ¥ç”¨ï¼š```kCCOptionPKCS7Padding ```å³å¯ã€‚</div><div class="line">2. ä½†å¦‚æœæ˜¯ECBæ¨¡å¼ï¼Œå°±éœ€è¦åšä¸‹è½¬å˜ ```kCCOptionECBMode | kCCOptionPKCS7Padding</div></pre></td></tr></table></figure></p>
<h4 id="5ã€æœåŠ¡å™¨ç«¯å°æ•°æ˜¾ç¤ºé—®é¢˜ï¼ˆå¦‚ï¼š1e-05ï¼‰"><a href="#5ã€æœåŠ¡å™¨ç«¯å°æ•°æ˜¾ç¤ºé—®é¢˜ï¼ˆå¦‚ï¼š1e-05ï¼‰" class="headerlink" title="5ã€æœåŠ¡å™¨ç«¯å°æ•°æ˜¾ç¤ºé—®é¢˜ï¼ˆå¦‚ï¼š1e-05ï¼‰"></a>5ã€æœåŠ¡å™¨ç«¯å°æ•°æ˜¾ç¤ºé—®é¢˜ï¼ˆå¦‚ï¼š1e-05ï¼‰</h4><p>è¿™ä¸ªåšä¸‹å¤„ç†å³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">NSDecimalNumber *decNumber = [NSDecimalNumber decimalNumberWithString:leastWaveStr];</div><div class="line">NSString *numberStr = [decNumber stringValue];</div></pre></td></tr></table></figure>
<p>é‡‘èç±»é¡¹ç›®ä¸­å¸¸ç”¨åˆ°è¿™ä¸ª<figure class="highlight plain"><figcaption><span>``` ,ç”¨äºè´§å¸å¤„ç† ã€‚</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">é€šè¿‡```NSDecimalNumber ```æä¾›çš„è®¡ç®—æ–¹å¼ï¼Œå¯ä»¥å¾ˆå¥½çš„è®¡ç®—å‡ºå‡†ç¡®çš„ç²¾åº¦çš„æ•°æ®ï¼ŒåŒæ—¶ä¸éœ€è¦ä½¿ç”¨æ ¼å¼åŒ–è¾“å‡ºç­‰ã€‚</div><div class="line"></div><div class="line">#### 6ã€è‡ªå®šä¹‰å¯¼èˆªæ æŒ‰é’®ä¸é å·¦ï¼å³é—®é¢˜</div><div class="line">å¾ˆç®€å•ï¼Œè§£å†³æ–¹æ³•ï¼Œæ·»åŠ ä¸€ä¸ªç©ºçš„æŒ‰é’®è¿›å»</div></pre></td></tr></table></figure></p>
<p>UIButton <em>leftButton = [[UIButton alloc]init];<br>leftButton.frame = CGRectMake(0, 0, 20, 20);<br>[leftButton setBackgroundImage:[UIImage imageNamed:@â€back.pngâ€] forState:UIControlStateNormal];<br>    [leftButton addTarget:self action:@selector(popToLastVC:) forControlEvents:UIControlEventTouchUpInside];<br>UIBarButtonItem </em>leftBarButtonItems = [[UIBarButtonItem alloc]initWithCustomView:leftButton];</p>
<p>//è§£å†³æŒ‰é’®ä¸é å·¦ é å³çš„é—®é¢˜.<br>UIBarButtonItem *nagetiveSpacer = [[UIBarButtonItemalloc]initWithBarButtonSystemItem:UIBarButtonSystemItemFixedSpace<br>target:nil action:nil];<br>nagetiveSpacer.width = -15;//è¿™ä¸ªå€¼å¯ä»¥æ ¹æ®è‡ªå·±éœ€è¦è‡ªå·±è°ƒæ•´<br>  self.navigationItem.leftBarButtonItems = @[nagetiveSpacer, leftBarButtonItems];<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">#### 7ã€ä¸åŒå±å¹•å°ºå¯¸å­—ä½“æ˜¾ç¤ºå­—ä½“å¤§å°é—®é¢˜</div><div class="line">æˆ‘ä»¬åº”è¯¥æ¸…æ¥šï¼ŒUIè®¾è®¡å›¾å¤§å¤šæ•°æ˜¯ä»¥iPhone6 ä¸ºæ¨¡ç‰ˆè®¾è®¡çš„ï¼Œä½†å¼€å‘ä¸­è…°è€ƒè™‘ä¸åŒçš„å±å¹•å°ºå¯¸æ˜¾ç¤ºå­—ä½“å¤§å°ä¸åŒçš„æƒ…å†µã€‚</div><div class="line">ç½‘ä¸Šç»™å‡ºçš„å¤§å¤šæ•°æ˜¯é’ˆå¯¹```Xib```å’Œ```storyboard```åšçš„å¤„ç†ï¼Œä¸‹é¢æˆ‘è¯´ä¸€ä¸‹é’ˆå¯¹çº¯ä»£ç å¼€å‘çš„å¤„ç†æ–¹æ³•ã€‚</div><div class="line">å…¶å®å¾ˆç®€å•ï¼Œåœ¨pchæ–‡ä»¶ä¸­è®¾ç½®å®å®šä¹‰ï¼Œé’ˆå¯¹ä¸åŒçš„æœºå‹åšä¸€ä¸‹ç®€å•åˆ¤æ–­ï¼Œåœ¨å¼€å‘ä¸­ä½¿ç”¨å®å®šä¹‰å­—ä½“å¤§å°å°±å¯ä»¥äº†ã€‚</div><div class="line">ä¾‹å¦‚ï¼š</div></pre></td></tr></table></figure></p>
<p>#define kDevice_Is_iPhone4 ([UIScreen instancesRespondToSelector:@selector(currentMode)] ? CGSizeEqualToSize(CGSizeMake(640, 960), [[UIScreen mainScreen] currentMode].size) : NO)</p>
<p>#define kDevice_Is_iPhone5 ([UIScreen instancesRespondToSelector:@selector(currentMode)] ? CGSizeEqualToSize(CGSizeMake(640, 1136), [[UIScreen mainScreen] currentMode].size) : NO)</p>
<p>#define kDevice_Is_iPhone6 ([UIScreen instancesRespondToSelector:@selector(currentMode)] ? CGSizeEqualToSize(CGSizeMake(750, 1334), [[UIScreen mainScreen] currentMode].size) : NO)</p>
<p>#define kDevice_Is_iPhone6Plus ([UIScreen instancesRespondToSelector:@selector(currentMode)] ? CGSizeEqualToSize(CGSizeMake(1242, 2208), [[UIScreen mainScreen] currentMode].size) : NO)</p>
<p>//å­—ä½“å¤§å°ï¼ˆä»¥6sä¸ºåŸºå‡†,ä»¥6pä¸ºåˆ¤æ–­ï¼‰</p>
<p>#define kFontSize10  kDevice_Is_iPhone6Plus ? 12:10</p>
<p>#define kFontSize11  kDevice_Is_iPhone6Plus ? 13:11</p>
<p>#define kFontSize12  kDevice_Is_iPhone6Plus ? 14:12</p>
<p>#define kFontSize13  kDevice_Is_iPhone6Plus ? 15:13</p>
<p>#define kFontSize14  kDevice_Is_iPhone6Plus ? 16:14</p>
<p>#define kFontSize15  kDevice_Is_iPhone6Plus ? 17:15</p>
<p>#define kFontSize16  kDevice_Is_iPhone6Plus ? 18:16</p>
<p>#define kFontSize17  kDevice_Is_iPhone6Plus ? 19:17</p>
<p>#define kFontSize18  kDevice_Is_iPhone6Plus ? 20:18</p>
<p>#define kFontSize19  kDevice_Is_iPhone6Plus ? 21:19</p>
<p>#define kFontSize20  kDevice_Is_iPhone6Plus ? 22:20</p>
<p>#define kFontSize21  kDevice_Is_iPhone6Plus ? 23:21</p>
<p>#define kFontSize22  kDevice_Is_iPhone6Plus ? 24:22</p>
<p>#define kFontSize23  kDevice_Is_iPhone6Plus ? 25:23</p>
<p>#define kFontSize24  kDevice_Is_iPhone6Plus ? 26:24</p>
<p>#define kFontSize25  kDevice_Is_iPhone6Plus ? 27:25</p>
<p>#define kFontSize34  kDevice_Is_iPhone6Plus ? 35:34</p>
<p>#define kFontSize36  kDevice_Is_iPhone6Plus ? 38:36<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">ä½¿ç”¨ï¼š</div></pre></td></tr></table></figure></p>
<p>UILabel *label = [UILabel new];<br>label.text = @â€â€;<br>label.textColor = [UIColor darkGrayColor];<br>label.textAlignment = NSTextAlignmentCenter;<br>label.font = [UIFont systemFontOfSize:kFontSize16];<br>[self addSubview:label];<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">è¿™æ ·å°±ä¸éœ€è¦æ¯æ¬¡ä½¿ç”¨å­—ä½“éƒ½åˆ¤æ–­ä¸åŒå±å¹•å°ºå¯¸äº†ã€‚</div><div class="line"></div><div class="line">#### 8ã€viewä¸Šæœ‰tableViewï¼Œviewæ·»åŠ æ‰‹åŠ¿åä¸tableViewæ‰‹åŠ¿å†²çªé—®é¢˜</div><div class="line"></div><div class="line"> è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦åˆ©ç”¨ç³»ç»Ÿçš„æ–¹æ³•åšä¸ªåˆ¤æ–­ï¼šå¦‚æœç‚¹å‡»äº†tableViewï¼Œå°±ä¸æ¥æ”¶Touchç‚¹å‡»äº‹ä»¶ã€‚</div></pre></td></tr></table></figure></p>
<ul>
<li><p>(BOOL)gestureRecognizer:(UIGestureRecognizer <em>)gestureRecognizer shouldReceiveTouch:(UITouch </em>)touch {<br> // ç‚¹å‡»çš„viewçš„ç±»å<br> NSLog(@â€%@â€, NSStringFromClass([touch.view class]));</p>
<p> // ç‚¹å‡»äº†tableViewCellï¼Œviewçš„ç±»åä¸ºUITableViewCellContentViewï¼Œåˆ™ä¸æ¥æ”¶Touchç‚¹å‡»äº‹ä»¶<br> if ([NSStringFromClass([touch.view class]) isEqualToString:@â€UITableViewCellContentViewâ€]) {</p>
<pre><code>return NO;
</code></pre><p> }<br> return  YES;<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">è¿™ç§æ–¹æ³•ç”¨æ¥æ‰§è¡Œç‚¹å‡»Viewçš„æ“ä½œï¼š</div></pre></td></tr></table></figure>
</li>
</ul>
<p>#pragma mark - UIGestureRecognizerDelegate methods<br>-(void)viewtapClicked:(UITapGestureRecognizer *)tap<br>{<br>    CGPoint point = [tap locationInView:self];</p>
<pre><code>BOOL isTouch = CGRectContainsPoint(self.baseView.frame, point);
if (isTouch) {
    NSLog(@&quot;ç‚¹å‡»tableView&quot;);
}else{
    [UIView animateWithDuration:1.0 animations:^{
        [self removeFromSuperview];
    }];
}
</code></pre><p>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">#### 9ã€æ–­ç½‘é‡è¿åæ›´æ–°ç•Œé¢</div><div class="line">æˆ‘ä»¬åœ¨å¼€å‘é¡¹ç›®ä¸­ï¼Œç½‘ç»œçŠ¶æ€çš„ç›‘å¬åŸºæœ¬è®¾ç½®åœ¨appDelegateä¸­ã€‚æ‰€ä»¥éœ€è¦åœ¨è¿™é‡Œé’ˆå¯¹ç½‘ç»œçŠ¶æ€åšä¸€ä¸ªå¹¿æ’­é€šçŸ¥ï¼Œåœ¨éœ€è¦ç½‘ç»œé‡è¿åæ›´æ–°ç•Œé¢çš„åœ°æ–¹æ³¨å†Œè¯¥å¹¿æ’­è¿›è¡Œç•Œé¢çš„åˆ·æ–°</div></pre></td></tr></table></figure></p>
<p>//æ³¨å†Œç½‘ç»œç›‘æ§é€šçŸ¥<br>[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(notificationHandler:) name:kIsNetWork object:nil];</p>
<ul>
<li>(void)notificationHandler:(NSNotification *) notification<br>{<br>dispatch_async(dispatch_get_global_queue(0, 0), ^{<br>  [self requestHomeInfoData];<br>});<br>}<br>```</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å‰è¨€ï¼š&quot;&gt;&lt;a href=&quot;#å‰è¨€ï¼š&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€ï¼š&quot;&gt;&lt;/a&gt;å‰è¨€ï¼š&lt;/h3&gt;&lt;p&gt;ä¸¤å¹´å¤šä»¥æ¥ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ç‹¬ç«‹å¼€å‘æˆ–è€…ç»´æŠ¤é¡¹ç›®ï¼Œä¸å¾—ä¸è‡ªå˜²çš„è¯´æŒºé”»ç‚¼äººçš„ã€‚æœ€è¿‘çš„ä¸€å®¶å…¬å¸æ˜¯æ¶‰è¶³é‡‘èè¡Œåˆ—çš„ï¼Œç®—æ˜¯ç¬¬ä¸€æ¬¡è¸è¶³é‡‘èå§ï¼Œè¿‡ç¨‹æ€æ ·
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€ä¸ªè‡ªå®šä¹‰çš„æœç´¢æ¡†ï¼šGH_SearchView</title>
    <link href="https:guohuaden.com/2017/05/20/GH-SearchView/"/>
    <id>https:guohuaden.com/2017/05/20/GH-SearchView/</id>
    <published>2017-05-20T05:46:13.000Z</published>
    <updated>2017-05-20T06:48:28.000Z</updated>
    
    <content type="html"><![CDATA[<p>å¯¹äºiOSè‡ªå¸¦çš„æœç´¢æ¡†ï¼Œå…¶å®æˆ‘ç”¨ç€ä¹ŸæŒºå¥½çš„ï¼Œä½†ä½ç‰ˆæœ¬çš„ä½¿ç”¨ï¼š  é«˜ç‰ˆæœ¬çš„ä½¿ç”¨:UISearchControllerï¼Œä¸¤ä¸ªéš¾æœ‰ä¸ªç»Ÿä¸€ã€‚å¾ˆå¤šé¡¹ç›®ä¸­éƒ½æ˜¯å°†ç€ä¸¤å¥—ä»£ç éƒ½å†™å…¥é¡¹ç›®ä¸­å»ï¼Œè¿™æ ·åšéš¾å…æ˜¾å¾—ä»£ç å†—ä½™ã€‚æ‰€ä»¥å°±ç®€å•çš„è‡ªå®šä¹‰ä¸ªæœç´¢æ¡†ã€‚</p>
<p><a href="https://github.com/Wheat-Qin/GH_SearchView" target="_blank" rel="external">ä¸‹è½½åœ°å€ï¼šhttps://github.com/Wheat-Qin/GH_SearchView  ã€æ”¯æŒpodsã€‘</a></p>
<p>æ€æ ·ä½¿ç”¨<code>â€˜GH_SearchViewâ€™:</code></p>
<p>å®‰è£…CocoaPodsï¼š<code>pod â€˜GH_SearchViewâ€™ </code></p>
<p>æ‰‹åŠ¨å€’å…¥ï¼š<br>æ‹–åŠ¨<code>GH_SearchView</code>æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ç¨‹é¡¹ç›®ä¸­</p>
<p>å¼•å…¥ä¸»è¦æ–‡ä»¶ï¼š<code>#import â€œGH_SearchView.hâ€</code></p>
<p>ä½¿ç”¨æ—¶å®ç°èµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼Œä¸€å¥ä»£ç åˆ›å»ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">GH_SearchView *searchView_1 = [[GH_SearchView alloc]initWithFrame:CGRectMake(10, 80, IPHONE_WIDTH-20, 44.f) withTarget:self backgroundColor:[UIColor redColor] placeholderContent:@&quot;è¯·è¾“å…¥æœç´¢å†…å®¹&quot; searchImage:@&quot;GH_search&quot; withTableView:nil];</div><div class="line"> </div><div class="line">//è‡ªå®šåˆ¶å–æ¶ˆæŒ‰é’®å­—ä½“é¢œè‰²</div><div class="line">[searchView_1  setCancelButtonTitleColor:[UIColor blueColor]];</div><div class="line">//è®¾ç½®èƒŒæ™¯è‰²é€æ˜åº¦</div><div class="line">[searchView_1 setBackgroundColorWithAlphaComponent:0.5];</div><div class="line">//è®¾ç½®æ¿€æ´»çŠ¶æ€</div><div class="line">[searchView_1 setSearchActiveState:YES];</div><div class="line">    </div><div class="line">[self.view addSubview:searchView_1];</div><div class="line">//æˆ–è€…</div><div class="line">//self.tableView.tableHeaderView = self.searchView;</div></pre></td></tr></table></figure>
<p>ä½¿ç”¨æ—¶éœ€éµå®ˆ<code>GH_searchDelegate</code>åè®®ã€‚<br>å…¶ä¸­å¿…éœ€å®ç°çš„åè®®æ–¹æ³•æœ‰ä¸€ç§:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> æœç´¢æŒ‰é’®</div><div class="line"></div><div class="line"> @param content æœç´¢çš„å†…å®¹</div><div class="line"> */</div><div class="line">-(void)searchClickedWithContent:(NSString *)content;</div></pre></td></tr></table></figure>
<p>å¯é€‰çš„åè®®æ–¹æ³•æœ‰ä¸‰ç§:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> å®æ—¶æœç´¢åè®®æ–¹æ³•</div><div class="line"> @param content æœç´¢çš„å†…å®¹</div><div class="line"> */</div><div class="line">-(void)searchBoxContentDidChange:(NSString *)content;</div><div class="line"></div><div class="line">/**</div><div class="line"> æœç´¢æ¡†å¼€å§‹è¾“å…¥</div><div class="line"> @param content æœç´¢çš„å†…å®¹</div><div class="line"> */</div><div class="line">-(void)searchDidBeginEditing:(NSString *)content;</div><div class="line"></div><div class="line">/**</div><div class="line"> æœç´¢æ¡†è¾“å…¥ç»“æŸ</div><div class="line"> @param content æœç´¢çš„å†…å®¹</div><div class="line"> */</div><div class="line">-(void)searchDidEndEditing:(NSString *)content;</div></pre></td></tr></table></figure>
<p>æ•ˆæœå›¾å¦‚ä¸‹ï¼š<br>æ— tableViewæƒ…å†µä¸‹ï¼š<br><img src="http://obzx0h1re.bkt.clouddn.com/GH_searchView_1.png" alt="GH_searchView_1"></p>
<p>æœ‰tableViewæƒ…å†µä¸‹ï¼š<br><img src="http://obzx0h1re.bkt.clouddn.com/GH_searchView_2.png" alt="GH_searchView_2"></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¯¹äºiOSè‡ªå¸¦çš„æœç´¢æ¡†ï¼Œå…¶å®æˆ‘ç”¨ç€ä¹ŸæŒºå¥½çš„ï¼Œä½†ä½ç‰ˆæœ¬çš„ä½¿ç”¨ï¼š  é«˜ç‰ˆæœ¬çš„ä½¿ç”¨:UISearchControllerï¼Œä¸¤ä¸ªéš¾æœ‰ä¸ªç»Ÿä¸€ã€‚å¾ˆå¤šé¡¹ç›®ä¸­éƒ½æ˜¯å°†ç€ä¸¤å¥—ä»£ç éƒ½å†™å…¥é¡¹ç›®ä¸­å»ï¼Œè¿™æ ·åšéš¾å…æ˜¾å¾—ä»£ç å†—ä½™ã€‚æ‰€ä»¥å°±ç®€å•çš„è‡ªå®šä¹‰ä¸ªæœç´¢æ¡†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https:/
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>åˆ©ç”¨é€šçŸ¥(NSNotificationCenter)è·å–é”®ç›˜çš„é«˜åº¦,ä»¥åŠæ˜¾ç¤ºå’Œéšè—é”®ç›˜æ—¶ä¿®æ”¹ç•Œé¢çš„æ³¨æ„äº‹é¡¹</title>
    <link href="https:guohuaden.com/2017/04/30/get-keyboard-height/"/>
    <id>https:guohuaden.com/2017/04/30/get-keyboard-height/</id>
    <published>2017-04-30T02:42:19.000Z</published>
    <updated>2017-05-02T03:27:47.000Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘ä»¬åœ¨å¼€å‘ä¸­ä¼šé‡åˆ°è¿™æ ·çš„æƒ…å†µï¼šè°ƒç”¨é”®ç›˜æ—¶éœ€è¦ç•Œé¢æœ‰ä¸€ä¸ªè°ƒæ•´ï¼Œé¿å…é”®ç›˜é®æ©è¾“å…¥æ¡†ã€‚</p>
<p>ä½†å®ç°æ—¶ä½ ä¼šå‘ç°ï¼Œåœ¨ä¸åŒçš„æ‰‹æœºä¸Šé”®ç›˜çš„é«˜åº¦æ˜¯ä¸åŒçš„ã€‚è¿™é‡Œåˆ—ä¸¾ä¸€ä¸‹ï¼š</p>
<pre>
//è·å–é”®ç›˜çš„é«˜åº¦
/*
 iphone 6:
 ä¸­æ–‡
 2014-12-31 11:16:23.643 Demo[686:41289] é”®ç›˜é«˜åº¦æ˜¯  258
 2014-12-31 11:16:23.644 Demo[686:41289] é”®ç›˜å®½åº¦æ˜¯  375
 è‹±æ–‡
 2014-12-31 11:55:21.417 Demo[1102:58972] é”®ç›˜é«˜åº¦æ˜¯  216
 2014-12-31 11:55:21.417 Demo[1102:58972] é”®ç›˜å®½åº¦æ˜¯  375

 iphone  6 plusï¼š
 è‹±æ–‡ï¼š
 2014-12-31 11:31:14.669 Demo[928:50593] é”®ç›˜é«˜åº¦æ˜¯  226
 2014-12-31 11:31:14.669 Demo[928:50593] é”®ç›˜å®½åº¦æ˜¯  414
 ä¸­æ–‡ï¼š
 2015-01-07 09:22:49.438 Demo[622:14908] é”®ç›˜é«˜åº¦æ˜¯  271
 2015-01-07 09:22:49.439 Demo[622:14908] é”®ç›˜å®½åº¦æ˜¯  414

 iPhone 7
 2016-11-13 17:44:48.315 LoginDemo[2431:120937] é”®ç›˜é«˜åº¦æ˜¯  258
 2016-11-13 17:44:48.316 LoginDemo[2431:120937] é”®ç›˜å®½åº¦æ˜¯  375

 iPhone 7 Plus
 2016-11-13 17:43:20.683 LoginDemo[2322:119257] é”®ç›˜é«˜åº¦æ˜¯  271
 2016-11-13 17:43:20.683 LoginDemo[2322:119257] é”®ç›˜å®½åº¦æ˜¯  414

 iphone 5 :
 2014-12-31 11:19:36.452 Demo[755:43233] é”®ç›˜é«˜åº¦æ˜¯  216
 2014-12-31 11:19:36.452 Demo[755:43233] é”®ç›˜å®½åº¦æ˜¯  320

 ipad Airï¼š
 2014-12-31 11:28:32.178 Demo[851:48085] é”®ç›˜é«˜åº¦æ˜¯  264
 2014-12-31 11:28:32.178 Demo[851:48085] é”®ç›˜å®½åº¦æ˜¯  768

 ipad2 ï¼š
 2014-12-31 11:33:57.258 Demo[1014:53043] é”®ç›˜é«˜åº¦æ˜¯  264
 2014-12-31 11:33:57.258 Demo[1014:53043] é”®ç›˜å®½åº¦æ˜¯  768
 */
</pre>
 æˆ‘ä»¬çœ‹å‡ºä¸åŒçš„æ‰‹æœºè®¾å¤‡é”®ç›˜çš„é«˜åº¦æ˜¯ä¸åŒçš„ï¼Œè€Œä¸”è‹±æ–‡å’Œä¸­æ–‡é”®ç›˜çš„é«˜åº¦ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ã€‚

 ä¸‹é¢æˆ‘ä»¬è¯´ä¸€ä¸‹åˆ©ç”¨é€šçŸ¥æ¥è·å–é”®ç›˜çš„é«˜åº¦ï¼š
<pre>
//å¢åŠ ç›‘å¬ï¼Œå½“é”®ç›˜å‡ºç°æˆ–æ”¹å˜æ—¶æ”¶å‡ºæ¶ˆæ¯
[[NSNotificationCenter defaultCenter] addObserver:self
                                      selector:@selector(keyboardWillShow:)
                                      name:UIKeyboardWillShowNotification
                                      object:nil];

//å¢åŠ ç›‘å¬ï¼Œå½“é”®é€€å‡ºæ—¶æ”¶å‡ºæ¶ˆæ¯
[[NSNotificationCenter defaultCenter] addObserver:self
                                      selector:@selector(keyboardWillHide:)
                                      name:UIKeyboardWillHideNotification
                                      object:nil];

</pre>
 æ˜¾ç¤ºé”®ç›˜çš„ä»£ç ï¼š
 <pre>
- (void)keyboardWillShow:(NSNotification *)aNotification
{
    //è·å–é”®ç›˜çš„é«˜åº¦
    NSDictionary *userInfo = [aNotification userInfo];
    NSValue *aValue = [userInfo objectForKey:UIKeyboardFrameEndUserInfoKey];
    CGRect keyboardRect = [aValue CGRectValue];
    int height = keyboardRect.size.height;
    int width = keyboardRect.size.width;
    NSLog(@"é”®ç›˜é«˜åº¦æ˜¯  %d",height);
    NSLog(@"é”®ç›˜å®½åº¦æ˜¯  %d",width);
}
</pre>

<p>éšè—é”®ç›˜çš„é«˜åº¦ï¼š</p>
<pre>
//å½“é”®ç›˜éšè—çš„æ—¶å€™
- (void)keyboardWillBeHidden:(NSNotification*)aNotification
{
     //do something
}
</pre>

<p> å½“ç„¶åœ¨æ³¨å†Œé€šçŸ¥(NSNotificationCenter)åï¼Œè®°å¾—æœ€åçš„æ³¨é”€é€šçŸ¥ï¼š</p>
<pre>
-(void)viewWillDisappear:(BOOL)animated
{
    [[NSNotificationCenter defaultCenter] removeObserver:self];
}
</pre>



<p>æ³¨æ„âš ï¸ï¼šåˆ‡æ¢é”®ç›˜æ—¶ä¹Ÿä¼šäº§ç”ŸUIKeyboardWillShowNotificationï¼Œæ‰€ä»¥å¾ˆå¯èƒ½æ–¹æ³•è¢«è°ƒç”¨å¤šæ¬¡ã€‚æœ€å¥½åœ¨keyboardWillShowä¸­ä¸è¦å†™ä¸è°ƒç”¨æ¬¡æ•°æœ‰å…³çš„ä»£ç ã€‚åœ¨é”®ç›˜ç¬¬ä¸€æ¬¡äº§ç”Ÿæ—¶ï¼Œå¦‚æœä¸æ˜¯é»˜è®¤çš„è‹±æ–‡é”®ç›˜ä¹Ÿä¼šè°ƒç”¨å¤šæ¬¡æ–¹æ³•ã€‚</p>
<p> æ¯”å¦‚ï¼š</p>
<pre>
#pragma mark -  ******************æ‰“å¼€é”®ç›˜********
- (void) keyboardWillShowOfFeedBackVC:(NSNotification *)notify {

    //è¿™æ ·å†™æ˜¯ä¸æ­£ç¡®çš„ï¼šå› ä¸ºåˆ‡æ¢ä¸­è‹±æ–‡é”®ç›˜æ—¶éƒ½ä¼šè°ƒç”¨è¯¥æ–¹æ³•ã€‚
//    CGRect frame = self.view.frame;
//    frame.origin.y = self.view.frame.origin.y - 64;
//    self.view.frame = frame;

    self.view.frame = CGRectMake(0, -40, IPHONE_WIDTH, IPHONE_HEIGHT);

}
</pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æˆ‘ä»¬åœ¨å¼€å‘ä¸­ä¼šé‡åˆ°è¿™æ ·çš„æƒ…å†µï¼šè°ƒç”¨é”®ç›˜æ—¶éœ€è¦ç•Œé¢æœ‰ä¸€ä¸ªè°ƒæ•´ï¼Œé¿å…é”®ç›˜é®æ©è¾“å…¥æ¡†ã€‚&lt;/p&gt;
&lt;p&gt;ä½†å®ç°æ—¶ä½ ä¼šå‘ç°ï¼Œåœ¨ä¸åŒçš„æ‰‹æœºä¸Šé”®ç›˜çš„é«˜åº¦æ˜¯ä¸åŒçš„ã€‚è¿™é‡Œåˆ—ä¸¾ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;
//è·å–é”®ç›˜çš„é«˜åº¦
/*
 iphone 6:
 ä¸­æ–‡
 2014-12-31 11:16
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>ç»Ÿè®¡é¡¹ç›®ä»£ç é‡</title>
    <link href="https:guohuaden.com/2017/04/29/Project-code-number/"/>
    <id>https:guohuaden.com/2017/04/29/Project-code-number/</id>
    <published>2017-04-29T01:48:46.000Z</published>
    <updated>2017-04-28T02:21:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ‰é‡åˆ°è¿‡è¿™æ ·çš„æƒ…å†µï¼Œé¡¹ç›®ç»ç†åœ¨å†™æ–‡æ¡£æ—¶ä¼šè¦æ±‚å¼€å‘äººå‘˜æä¾›é¡¹ç›®çš„ä»£ç é‡ã€‚ä¸‹é¢å°±è¯´ä¸€ä¸‹ä»£ç é‡çš„ç»Ÿè®¡é—®é¢˜ã€‚</p>
<h4 id="1ã€ç»Ÿè®¡æ€»çš„ä»£ç é‡ï¼ˆä»£ç çš„è¡Œæ•°ï¼‰"><a href="#1ã€ç»Ÿè®¡æ€»çš„ä»£ç é‡ï¼ˆä»£ç çš„è¡Œæ•°ï¼‰" class="headerlink" title="1ã€ç»Ÿè®¡æ€»çš„ä»£ç é‡ï¼ˆä»£ç çš„è¡Œæ•°ï¼‰"></a>1ã€ç»Ÿè®¡æ€»çš„ä»£ç é‡ï¼ˆä»£ç çš„è¡Œæ•°ï¼‰</h4><p>åœ¨ç»ˆç«¯ä¸­ï¼Œcd åˆ°é¡¹ç›®æ–‡ä»¶å¤¹ï¼›è¾“å…¥ä¸‹é¢çš„æŒ‡ä»¤ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find . -name &quot;*.m&quot; -or -name &quot;*.h&quot; -or -name &quot;*.xib&quot; -or -name &quot;*.c&quot; |xargs grep -v &quot;^$&quot;|wc -l</div></pre></td></tr></table></figure>
<p>è¯¥æŒ‡ä»¤æ˜¯ç»Ÿè®¡æ€»å…±çš„ä»£ç é‡ï¼Œå¹¶ä¸ç»Ÿè®¡å…·ä½“çš„æ–‡ä»¶ä»£ç <br>å…¶ä¸­<code>grep -v â€œ^$â€</code>ï¼šå»é™¤ç©ºè¡Œ</p>
<p>æ³¨é‡Šæ˜¯åŒ…å«åœ¨ä»£ç é‡ä¸­çš„ï¼Œè¿™ä¸€ç‚¹è¦æ³¨æ„ã€‚</p>
<p>ç»Ÿè®¡æ•ˆæœå›¾ï¼š<br><img src="http://obzx0h1re.bkt.clouddn.com/ProjectCodeTotal.png" alt="ç»Ÿè®¡æ€»çš„ä»£ç é‡"></p>
<h4 id="2ã€ç»Ÿè®¡æ¯ä¸ªæ–‡ä»¶çš„ä»£ç é‡ï¼ˆä»£ç çš„è¡Œæ•°ï¼‰"><a href="#2ã€ç»Ÿè®¡æ¯ä¸ªæ–‡ä»¶çš„ä»£ç é‡ï¼ˆä»£ç çš„è¡Œæ•°ï¼‰" class="headerlink" title="2ã€ç»Ÿè®¡æ¯ä¸ªæ–‡ä»¶çš„ä»£ç é‡ï¼ˆä»£ç çš„è¡Œæ•°ï¼‰"></a>2ã€ç»Ÿè®¡æ¯ä¸ªæ–‡ä»¶çš„ä»£ç é‡ï¼ˆä»£ç çš„è¡Œæ•°ï¼‰</h4><p>åœ¨ç»ˆç«¯ä¸­ï¼Œcd åˆ°é¡¹ç›®æ–‡ä»¶å¤¹ï¼›è¾“å…¥ä¸‹é¢çš„æŒ‡ä»¤ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find . -name &quot;*.m&quot; -or -name &quot;*.h&quot; -or -name &quot;*.xib&quot; -or -name &quot;*.c&quot; |xargs wc -l</div></pre></td></tr></table></figure></p>
<p>è¯¥æŒ‡ä»¤ä¼šç»Ÿè®¡å…·ä½“çš„æ–‡ä»¶ä»£ç è¡Œæ•°ã€‚</p>
<p>ç»Ÿè®¡æ•ˆæœå›¾ï¼š<br><img src="http://obzx0h1re.bkt.clouddn.com/ProjectCodeNumber1.png" alt="ç»Ÿè®¡æ¯ä¸ªæ–‡ä»¶çš„ä»£ç é‡1"></p>
<p><img src="http://obzx0h1re.bkt.clouddn.com/ProjectCodeNumber2.png" alt="ç»Ÿè®¡æ¯ä¸ªæ–‡ä»¶çš„ä»£ç é‡2"></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ‰é‡åˆ°è¿‡è¿™æ ·çš„æƒ…å†µï¼Œé¡¹ç›®ç»ç†åœ¨å†™æ–‡æ¡£æ—¶ä¼šè¦æ±‚å¼€å‘äººå‘˜æä¾›é¡¹ç›®çš„ä»£ç é‡ã€‚ä¸‹é¢å°±è¯´ä¸€ä¸‹ä»£ç é‡çš„ç»Ÿè®¡é—®é¢˜ã€‚&lt;/p&gt;
&lt;h4 id=&quot;1ã€ç»Ÿè®¡æ€»çš„ä»£ç é‡ï¼ˆä»£ç çš„è¡Œæ•°ï¼‰&quot;&gt;&lt;a href=&quot;#1ã€ç»Ÿè®¡æ€»çš„ä»£ç é‡ï¼ˆä»£ç çš„è¡Œæ•°ï¼‰&quot; class=&quot;headerlink&quot; title=&quot;1ã€
    
    </summary>
    
    
      <category term="iOS and Swift" scheme="https:guohuaden.com/tags/iOS-and-Swift/"/>
    
  </entry>
  
  <entry>
    <title>iOSä¸­å…³äºå›¾ç‰‡ã€PDFç­‰æ–‡ä»¶åŠ å¯†</title>
    <link href="https:guohuaden.com/2017/04/27/fileEncryptionAndDecryption/"/>
    <id>https:guohuaden.com/2017/04/27/fileEncryptionAndDecryption/</id>
    <published>2017-04-27T03:20:25.000Z</published>
    <updated>2017-04-27T07:18:22.000Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™é‡ŒåŠ å¯†ä½¿ç”¨çš„æ˜¯ä¸‰æ–¹åº“ï¼š<code>RNCryptor</code>,å®ƒæ˜¯ä¸€ä¸ªè·¨è¯­è¨€AESåŠ å¯†/è§£å¯†åº“ã€‚</p>
<p>ä¸»è¦ç›®æ ‡æ˜¯<code>Swift</code>å’Œ<code>Objective-C</code>ï¼Œä½†<code> C </code>,<code>C ++</code>,<code>Cï¼ƒ</code>,<code> Erlang </code>,<code> Go </code>,<code> Haskell </code>,<code> Java </code>,<code> PHP </code>,<code> Python </code>,<code> Javascript </code>å’Œ<code> Ruby </code>ä¸­éƒ½æœ‰å®ç°ã€‚</p>
<p>RNCryptoråœ°å€ï¼š</p>
<p><a href="https://github.com/RNCryptor/RNCryptor" target="_blank" rel="external">RNCryptor ï¼šhttps://github.com/RNCryptor/RNCryptor</a></p>
<p>ä»¥åŠOCä¸“ç”¨çš„åœ°å€:</p>
<p><a href="https://github.com/RNCryptor/RNCryptor-objc" target="_blank" rel="external">RNCryptor-objc ï¼šhttps://github.com/RNCryptor/RNCryptor-objc</a></p>
<p>ä¸‹é¢å°±ç”¨åˆ°çš„å›¾ç‰‡å’ŒPDFæ–‡ä»¶åŠ å¯†åšä¸€ä¸‹ç®€å•çš„ä»‹ç»ã€‚</p>
<h4 id="1ã€å›¾ç‰‡åŠ è§£å¯†"><a href="#1ã€å›¾ç‰‡åŠ è§£å¯†" class="headerlink" title="1ã€å›¾ç‰‡åŠ è§£å¯†"></a>1ã€å›¾ç‰‡åŠ è§£å¯†</h4><p>è¿™ä¸ªæ²¡æœ‰ä»€ä¹ˆæ€æƒ³å¯è¨€ï¼Œç›´æ¥çœ‹ä¸‹ä»£ç </p>
<pre>
#pragma  mark --ImageåŠ è§£å¯†
-(void)imageEncryptionAndDecryption
{
    NSData *data = [NSData dataWithContentsOfFile:[[NSBundle mainBundle] pathForResource:@"default.jpg" ofType:nil]];
    NSError *error;

    //åŠ å¯†
    NSData *encryptedData = [RNEncryptor encryptData:data withSettings:kRNCryptorAES256Settings password:aPassword error:&error ];

    if (!error) {
        NSLog(@"^_^ åŠ å¯†æˆåŠŸ â€¦â€¦â€”â€”(^_^)\n");
//        NSLog(@"encryptedData==%@",encryptedData);
    }

    //è§£å¯†
    NSData *decryptedData = [RNDecryptor decryptData:encryptedData withPassword:aPassword error:&error];
    if (!error) {
        NSLog(@"^_^ è§£å¯†æˆåŠŸ â€¦â€¦â€”â€”(^_^)\n");
//        NSLog(@"decryptedData==%@",decryptedData);

        self.imageView.image = [UIImage imageWithData:decryptedData];
    }  
}
</pre>

<h4 id="2ã€PDFåŠ è§£å¯†"><a href="#2ã€PDFåŠ è§£å¯†" class="headerlink" title="2ã€PDFåŠ è§£å¯†"></a>2ã€PDFåŠ è§£å¯†</h4><p>è€ƒè™‘åˆ°PDFæ–‡ä»¶å¯èƒ½è¾ƒå¤§çš„åŸå› ï¼Œè¿™é‡Œåœ¨åŠ è§£å¯†æ—¶ä½¿ç”¨äº†å­çº¿ç¨‹ï¼Œä»¥é¿å…åŠ è§£å¯†è¿‡ç¨‹è€—æ—¶ã€‚</p>
<p>å¦ï¼šPDFæŸ¥çœ‹éœ€è¦æä¾›è·¯å¾„ï¼Œè€Œè¿™ä¹Ÿæ˜¯å…³é”®ã€‚</p>
<p>æ€è·¯ï¼š</p>
<ol>
<li>å°†ç½‘ç»œè¯·æ±‚ä¸‹æ¥çš„æ•°æ®æµï¼ˆNSDataï¼‰ç›´æ¥è¿›è¡ŒåŠ å¯†ï¼ŒåŠ å¯†æˆåŠŸåå­˜å…¥æ²™ç›’ç›®å½•ä¸­ã€‚</li>
<li>åœ¨æŸ¥çœ‹PDFæ—¶,å…ˆå¯¹åŠ å¯†çš„PDFè¿›è¡Œè§£å¯†ï¼Œå†å°†è§£å¯†çš„PDFå­˜å…¥æ²™ç›’ç›®å½•ä¸­ï¼ˆåŒºåˆ†åŠ è§£å¯†PDFæ–‡ä»¶ï¼‰ã€‚</li>
<li>è·å–è§£å¯†çš„PDFæ–‡ä»¶è·¯å¾„ï¼ŒæŸ¥çœ‹PDFæ–‡ä»¶ã€‚</li>
<li>é€€å‡ºæŸ¥çœ‹å½“å‰çš„PDFæ–‡ä»¶æ—¶ï¼Œåˆ é™¤è§£å¯†åçš„PDFæ–‡ä»¶ç¼“å­˜ï¼Œä¿ç•™åŠ å¯†çš„PDFç¼“å­˜ã€‚</li>
</ol>
<p>æŸ¥çœ‹ä»£ç ï¼š</p>
<p><strong>åŠ å¯†</strong></p>
<pre>
#pragma mark --PDFåŠ å¯†
-(void)PDFEncryption
{
    __block NSData *encryptedData;
    __block NSError *error;
    NSString *filePath = [[NSBundle mainBundle]pathForResource:@"11.pdf" ofType:nil];
    NSString *fileEncryPath = [NSHomeDirectory()stringByAppendingPathComponent:@"/Documents/TKAMC.qgh"];
    NSFileManager *fileManager = [NSFileManager defaultManager];
    //åˆ¤æ–­æ˜¯å¦å·²å­˜åœ¨åŠ å¯†æ–‡ä»¶ï¼Œè‹¥å­˜åœ¨ç›´æ¥æ‰§è¡Œè§£å¯†è¿‡ç¨‹ã€‚
    if ([fileManager fileExistsAtPath:fileEncryPath]) {

        [self PDFDecryptedData:[NSData dataWithContentsOfFile:fileEncryPath]];
        return;
    }
    //å¼‚æ­¥å»åŠ å¯†ï¼Œé˜²æ­¢å ç”¨å¤ªå¤šå†…å­˜
    dispatch_async(dispatch_get_global_queue(0, 0), ^{
        NSData *data = [NSData dataWithContentsOfFile:filePath];
        //åŠ å¯†
        encryptedData = [RNEncryptor encryptData:data withSettings:kRNCryptorAES256Settings password:aPassword error:&error ];
        if (!error) {
            NSLog(@"^_^ PDFåŠ å¯†æˆåŠŸ â€¦â€¦â€”â€”(^_^)\n");
//            NSLog(@"encryptedData==%@",encryptedData);
        }
        //åœ¨ä¸»çº¿ç¨‹ä¸Šå†™å…¥æ–‡ä»¶
        dispatch_sync(dispatch_get_main_queue(), ^{
            BOOL yes = [encryptedData writeToFile:fileEncryPath atomically:NO];
            if (yes) {
                NSLog(@"åŠ å¯†æ–‡ä»¶å†™å…¥æˆåŠŸ");
            }else{
                NSLog(@"åŠ å¯†æ–‡ä»¶å†™å…¥å¤±è´¥");
            }
            NSLog(@"å†™å…¥PDFè·¯å¾„ï¼š%@",fileEncryPath);
            [self PDFDecryptedData:encryptedData];
        });
    });
}
</pre>

<p><strong>è§£å¯†</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">#pragma mark ---PDFè§£å¯†</div><div class="line">-(void)PDFDecryptedData:(NSData *)encryptedData&#123;</div><div class="line"></div><div class="line">    NSString *fileDecryPath = [NSHomeDirectory()stringByAppendingPathComponent:@&quot;/Documents/TKAMC&quot;];</div><div class="line">    dispatch_async(dispatch_get_global_queue(0, 0), ^&#123;</div><div class="line">        //    è§£å¯†</div><div class="line">        NSError *error;</div><div class="line">        </div><div class="line">        if (encryptedData != nil || aPassword != nil) &#123;</div><div class="line">            NSData *decryptedData = [RNDecryptor decryptData:encryptedData</div><div class="line">                                                withPassword:aPassword</div><div class="line">                                                       error:&amp;error];</div><div class="line">            </div><div class="line">            dispatch_sync(dispatch_get_main_queue(), ^&#123;</div><div class="line">                 BOOL yes = [decryptedData writeToFile:fileDecryPath atomically:NO];</div><div class="line">                if (yes) &#123;</div><div class="line">                    NSLog(@&quot;è§£å¯†æ–‡ä»¶å†™å…¥æˆåŠŸ&quot;);</div><div class="line">                    NSLog(@&quot;å†™å…¥è§£å¯†PDFè·¯å¾„ï¼š%@&quot;,fileDecryPath);</div><div class="line">                    self.filepath = fileDecryPath;</div><div class="line">                    [self pushVC];</div><div class="line">                &#125;else&#123;</div><div class="line">                    NSLog(@&quot;è§£å¯†æ–‡ä»¶å†™å…¥å¤±è´¥&quot;);</div><div class="line">                &#125;</div><div class="line">            &#125;);</div><div class="line">        &#125;else&#123;</div><div class="line">            NSLog(@&quot;åŠ å¯†æ•°æ®ä¸ºç©º&quot;);</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><font color="#FF6347"><strong>æ³¨ï¼š</strong></font>è¿™é‡ŒåŠ è§£å¯†æ—¶å¹¶æ²¡æœ‰å…·ä½“å®ç°ç½‘ç»œè¯·æ±‚æ¨¡å—ï¼Œåªæ˜¯ç®€å•çš„å¯¹æœ¬åœ°æ–‡ä»¶è¿›è¡Œäº†å®è·µï¼Œä½†å¤§ä½“å®ç°è¿‡ç¨‹å·²ç»å®ç°ã€‚</p>
<p><strong>é€€å‡ºPDFæ—¶ï¼Œåˆ é™¤è§£å¯†çš„PDFæ–‡ä»¶</strong></p>
<pre>
#pragma mark - ReaderViewControllerDelegate methods
- (void)dismissReaderViewController:(ReaderViewController *)viewController
{

    //MARK:é€€å‡ºæŸ¥çœ‹PDFæ—¶åˆ é™¤è§£å¯†å­˜å‚¨æ–‡ä»¶ã€‚
    NSFileManager *fileManager = [NSFileManager defaultManager];

    [fileManager removeItemAtPath:self.filepath error:nil];

    [self dismissViewControllerAnimated:YES completion:nil];

}
</pre>

<hr>
<p>è¿™é‡Œæä¾›ä¸€ä¸ªä¸ªäººæµ‹è¯•ä½¿ç”¨çš„ä¸€ä¸ªDemoï¼Œä»…ä¾›å‚è€ƒ</p>
<p><a href="https://github.com/Wheat-Qin/FileEncryption_Demo" target="_blank" rel="external">FileEncryption_Demo ï¼šhttps://github.com/Wheat-Qin/FileEncryption_Demo</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™é‡ŒåŠ å¯†ä½¿ç”¨çš„æ˜¯ä¸‰æ–¹åº“ï¼š&lt;code&gt;RNCryptor&lt;/code&gt;,å®ƒæ˜¯ä¸€ä¸ªè·¨è¯­è¨€AESåŠ å¯†/è§£å¯†åº“ã€‚&lt;/p&gt;
&lt;p&gt;ä¸»è¦ç›®æ ‡æ˜¯&lt;code&gt;Swift&lt;/code&gt;å’Œ&lt;code&gt;Objective-C&lt;/code&gt;ï¼Œä½†&lt;code&gt; C &lt;/code&gt;,&lt;code&gt;C ++
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>Xcodeä¸­å¸¸ç”¨çš„æ ‡è®°(MARKã€TODOã€FIXME)</title>
    <link href="https:guohuaden.com/2017/04/22/MARK-TODO-FIXME/"/>
    <id>https:guohuaden.com/2017/04/22/MARK-TODO-FIXME/</id>
    <published>2017-04-22T05:55:39.000Z</published>
    <updated>2017-04-21T06:51:42.000Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨é¡¹ç›®ä¸­ä»¥<code>ViewController</code>ç•Œé¢ä¸ºä¾‹ï¼Œåœ¨åˆ›å»ºå¾ˆå¤šæ–¹æ³•çš„æƒ…å†µä¸‹ï¼Œä¼šå¯¼è‡´ä»£ç åœ¨ç¿»é˜…æ—¶å¾ˆæµªè´¹æ—¶é—´ã€‚ä½†æˆ‘ä»¬ä¹Ÿæ˜¯æœ‰å¯¹åº”çš„ä¾¿æ·æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š<code>#pragma mark</code>ä»¥åŠ æ‰“æ–­ç‚¹å¼•èµ·æ³¨æ„çš„æ–¹å¼éƒ½å¯ä»¥è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœã€‚</p>
<p>ä½†ç»†å¿ƒçš„å¼€å‘è€…ä¼šæ³¨æ„åˆ°ï¼Œè‹¹æœæä¾›äº†ä¸‰ä¸ªæ ‡è®°(<code>MARKã€TODOã€FIXME</code>)æ¥ç»™æˆ‘ä»¬æä¾›ä¾¿åˆ©ã€‚è‡³äºç”¨æ³•ä¹Ÿæ˜¯å¾ˆç®€å•ï¼Œå’Œ<code>#pragma mark</code>ç±»ä¼¼ã€‚ä¸‹é¢ğŸ‘‡åšè§£é‡Šï¼š</p>
<p><strong>MARK:æ ‡æ³¨</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">//MARK:è§†å›¾å°†è¦æ¶ˆå¤±ï¼ˆviewWillDisappearï¼‰</div><div class="line">- (void)viewWillDisappear:(BOOL)animated&#123;</div><div class="line">    [super viewWillDisappear:animated];</div><div class="line">    [[NSNotificationCenter defaultCenter] removeObserver:self];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>TODO:å¤‡å¿˜å½•</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">//TODO: back super ViewController(è¿”å›ä¸Šçº§è§†å›¾)</div><div class="line">- (void)goback:(id)sender&#123;</div><div class="line">    if (self.myBlock) &#123;</div><div class="line">        self.myBlock(NO);</div><div class="line">    &#125;</div><div class="line">    [super goback:sender];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>FIXME:é€šå¸¸åœ¨bugçš„ä½ç½®åšè¯¥æ ‡è®°</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//FIXME:å¦‚æœä½¿ç”¨ç‚¹å‡»ç©ºç™½å¤„ï¼Œå–æ¶ˆé”®ç›˜å“åº”äº‹ä»¶ï¼Œæ‰“å¼€ä¸‹é¢ğŸ‘‡ä»£ç </div><div class="line">//- (void)tapGestures:(UIGestureRecognizer *)gesture&#123;</div><div class="line">//    [self.view endEditing:YES];</div><div class="line">//&#125;</div></pre></td></tr></table></figure>
<p><strong>#pragma mark:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">#pragma mark UIImagePickerControllerDelegateå›¾ç‰‡é€‰æ‹©ä»£ç†æ–¹æ³•</div><div class="line">- (void)imagePickerControllerDidCancel:(UIImagePickerController *)picker</div><div class="line">&#123;</div><div class="line">    [self.IPCView disappear];</div><div class="line">    [picker dismissViewControllerAnimated:YES completion:Nil];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>çœ‹ä¸‹æ•ˆæœï¼š<br><img src="http://obzx0h1re.bkt.clouddn.com/TODO_sign.png" alt="MARK-TODO-FIXME"><br>ä¸‹é¢æ˜¯å…³äºå†™è­¦å‘Šçš„æ–¹æ³•ï¼Œè¿™ä¸ªè­¦å‘Šæ˜¯æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­è‡ªå·±åˆ¶é€ çš„ï¼Œæ—¨åœ¨å¼•èµ·æ³¨æ„</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#pragma message &quot;warn one&quot;</div><div class="line">#warning &quot;warn two&quot;</div></pre></td></tr></table></figure>
<p>è­¦å‘Šæ•ˆæœï¼š<br><img src="http://obzx0h1re.bkt.clouddn.com/warn_sign.png" alt="warning"></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨é¡¹ç›®ä¸­ä»¥&lt;code&gt;ViewController&lt;/code&gt;ç•Œé¢ä¸ºä¾‹ï¼Œåœ¨åˆ›å»ºå¾ˆå¤šæ–¹æ³•çš„æƒ…å†µä¸‹ï¼Œä¼šå¯¼è‡´ä»£ç åœ¨ç¿»é˜…æ—¶å¾ˆæµªè´¹æ—¶é—´ã€‚ä½†æˆ‘ä»¬ä¹Ÿæ˜¯æœ‰å¯¹åº”çš„ä¾¿æ·æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š&lt;code&gt;#pragma mark&lt;/code&gt;ä»¥åŠ æ‰“æ–­ç‚¹å¼•èµ·æ³¨æ„çš„æ–¹å¼éƒ½å¯ä»¥è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœã€‚&lt;/p&gt;

    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>å€Ÿæˆ‘</title>
    <link href="https:guohuaden.com/2017/04/21/borrow-me/"/>
    <id>https:guohuaden.com/2017/04/21/borrow-me/</id>
    <published>2017-04-21T01:44:16.000Z</published>
    <updated>2017-04-28T01:45:10.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>å€Ÿæˆ‘ä¸€ä¸ªæš®å¹´ï¼Œ</strong></p>
<p><strong>å€Ÿæˆ‘ç¢ç‰‡ï¼Œ</strong></p>
<p><strong>å€Ÿæˆ‘ç»å‰ä¸é¡¾åï¼Œ</strong></p>
<p><strong>å€Ÿæˆ‘æ‰§æ‹—å¦‚å°‘å¹´ã€‚</strong></p>
<p><strong>å€Ÿæˆ‘åå¤©é•¿æˆçš„å…ˆå¤©ï¼Œ</strong></p>
<p><strong>å€Ÿæˆ‘å˜å¦‚ä¸æ›¾æ”¹å˜ã€‚</strong></p>
<p><strong>å€Ÿæˆ‘ç´ æ·¡çš„ä¸–æ•…å’Œæ˜ç™½çš„æ„šï¼Œ</strong></p>
<p><strong>å€Ÿæˆ‘å¯é¢„çŸ¥çš„é™©ã€‚</strong></p>
<p><strong>å€Ÿæˆ‘æ‚²æ€†çš„ç£Šè½ï¼Œ</strong></p>
<p><strong>å€Ÿæˆ‘æ¸©è½¯çš„é²è½å’Œç©ç¬‘çš„åº„ä¸¥ã€‚</strong></p>
<p><strong>å€Ÿæˆ‘æœ€åˆä¸æœ€ç»ˆçš„ä¸æ•¢ï¼Œå€Ÿæˆ‘ä¸è¨€è€Œå–»çš„ä¸è§ã€‚</strong></p>
<p><strong>å€Ÿæˆ‘ä¸€åœºç§‹å•Šï¼Œå¯ä½ è¯´è¿™å·²æ˜¯å†¬å¤©ã€‚</strong><br><br> </p>
<p><font color="#DC143C"><strong>æ³¨ï¼š</strong></font>è¿™é¦–è¯—æ„Ÿè§‰å¾ˆç‰¹åˆ«ï¼Œåˆæ¬¡è¯»åˆ°æ—¶æ˜¯åœ¨ä¸€ä¸ªå¥½æœ‹å‹å‘è¡¨çš„è¯´è¯´ä¸­ï¼Œé‚£æ—¶çš„æ„Ÿè§‰å¾ˆæ˜¯æ¬¢å–œï¼Œä¹Ÿæœ‰ä¸€äº›è‡ªè´£ã€‚æ¬¢å–œæ˜¯å› ä¸ºå¾ˆå–œæ¬¢ï¼Œè€Œä¸”æœ€ç»ˆè¿˜æ˜¯çœ‹åˆ°äº†è¿™é¦–è¯—ï¼›è‡ªè´£æ˜¯å› ä¸ºï¼Œè¿™ä¹ˆå¥½çš„ä¸€é¦–è¯—ï¼Œæˆ‘å´è¿Ÿè¿Ÿæœªæ›¾å‘ç°ï¼Œå¦‚æœä¸æ˜¯å› ä¸ºè¿™ä¸ªå¥½æœ‹å‹å‘çš„è¯´è¯´ï¼Œæˆ‘ä¹Ÿè®¸å°±ä¼šé”™è¿‡ã€‚<br><br></p>
<p><font color="#DC143C"><strong>å¦æ³¨ï¼š</strong></font>æœ‰äººè¯´è¿™é¦–è¯—æ˜¯æ¨Šå°çº¯å†™ç»™æœ¨å¿ƒçš„ï¼Œä¹Ÿæœ‰äººè¯´æ˜¯æœ¨å¿ƒå†™çš„ã€‚æˆ‘ä¸ç¡®å®šï¼Œæ‰€ä»¥æ²¡æœ‰æ³¨æ˜ä½œè€…ã€‚ä½†è¿™å¹¶ä¸å½±å“æˆ‘å¯¹è¿™é¦–è¯—çš„å–œæ¬¢ï¼Œæˆ‘å–œæ¬¢çš„å§‹ç»ˆæ˜¯è¯—ï¼Œè·Ÿä½œè€…çš„æ˜¯è°å…³ç³»å¹¶ä¸å¤ªå¤§ï¼Œä½†å†™å‡ºè¿™é¦–è¯—çš„ä½œè€…ï¼Œæˆ‘æ˜¯å¾ˆä½©æœçš„ã€‚  <br></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;å€Ÿæˆ‘ä¸€ä¸ªæš®å¹´ï¼Œ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å€Ÿæˆ‘ç¢ç‰‡ï¼Œ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å€Ÿæˆ‘ç»å‰ä¸é¡¾åï¼Œ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å€Ÿæˆ‘æ‰§æ‹—å¦‚å°‘å¹´ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å€Ÿ
    
    </summary>
    
    
      <category term="æ¬ ä¸‹çš„æ—¶å…‰" scheme="https:guohuaden.com/tags/%E6%AC%A0%E4%B8%8B%E7%9A%84%E6%97%B6%E5%85%89/"/>
    
  </entry>
  
  <entry>
    <title>__bridge å’Œ Core Foundation</title>
    <link href="https:guohuaden.com/2017/03/14/bridge-understand/"/>
    <id>https:guohuaden.com/2017/03/14/bridge-understand/</id>
    <published>2017-03-14T02:25:36.000Z</published>
    <updated>2017-03-15T06:30:41.000Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™ç¯‡çŸ¥è¯†æ¯”è¾ƒåï¼Œæ˜¯åä½å±‚ä¸€äº›çš„ã€‚</p>
<p><strong>ä¸€ï¼š__birdge</strong></p>
<p>ç”±äº<code>__bridge</code>å¾ˆå°‘æ¥è§¦ï¼Œæ‰€ä»¥ä¸“é—¨å»æŸ¥æ‰¾äº†ä¸€ä¸‹ã€‚å…¶å®å®ƒçš„ä½œç”¨å¾ˆç®€å•ï¼Œå°±æ˜¯ï¼šå®ç°<code>id</code>ç±»å‹ä¸<code>void*</code> ç±»å‹çš„ç›¸äº’è½¬æ¢ã€‚</p>
<p>çœ‹ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">id obj = [[NSObject alloc]init];</div><div class="line">void *c = (__bridge void *)(obj); </div><div class="line">id d = (__bridge id)(c);</div><div class="line">NSLog(@&quot;\n obj=%@,\n c=%@,\n d=%@\n&quot;,obj,c,d);</div></pre></td></tr></table></figure>
<p>è¿™é‡Œæˆ‘ä»¬å°±ç”¨åˆ°äº†<code>__bridge</code>ã€‚<br>æ‰“å°ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="http://obzx0h1re.bkt.clouddn.com/__bridgePrint.png" alt="__bridgePrint"></p>
<p>ä¸‹é¢çœ‹ä¸‹ä½¿ç”¨å’Œä¸ä½¿ç”¨<code>__bridge</code>çš„å¯¹æ¯”</p>
<p><img src="http://obzx0h1re.bkt.clouddn.com/__bridgeError.png" alt="__bridgeError"></p>
<p><img src="http://obzx0h1re.bkt.clouddn.com/__bridge.png" alt="__bridge"></p>
<p>   <br></p>
<p><strong>äºŒï¼šCore Foundation</strong></p>
<p><strong>1ã€ä»€ä¹ˆæ˜¯Core Foundation</strong></p>
<p><code>Core Foundation</code>æ¡†æ¶ (CoreFoundation.framework) æ˜¯ä¸€ç»„Cè¯­è¨€æ¥å£ï¼Œå®ƒä»¬ä¸ºiOSåº”ç”¨ç¨‹åºæä¾›åŸºæœ¬æ•°æ®ç®¡ç†å’ŒæœåŠ¡åŠŸèƒ½ã€‚</p>
<p><strong>æ³¨ï¼š</strong><code>Core Foundation</code>æ˜¯åº•å±‚æ¡†æ¶ï¼Œå®ƒçš„å¯¹è±¡å¹¶ä¸åœ¨ARCç®¡ç†ä¸‹ï¼Œæ‰€ä»¥éœ€è¦å¼€å‘è€…è‡ªå·±å»ç»´æŠ¤è¿™äº›å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ã€‚</p>
<p><strong>2ã€Core Foundaton çš„ä½œç”¨</strong><br>è‡³äºå®ƒçš„ä½œç”¨ï¼Œè¿™é‡Œæœ‰ä¸€æ®µè‹±æ–‡è§£é‡Šï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">The programming interfaces of Core Foundation objects have been designed for ease of use and reuse. At a general level, Core Foundation:</div><div class="line">    Enables sharing of code and data among various frameworks and libraries.</div><div class="line">    Makes some degree of operating-system independence possible .</div><div class="line">    Supports internationalization with Unicode strings.</div><div class="line">    Provides common API and other useful capabilities, including a plug-in architecture, XML property lists, and preferences.</div><div class="line">Core Foundation makes it possible for the different frameworks and libraries on OS X to share code and data. Applications, libraries, and frameworks can define C routines that incorporate Core Foundation types in their external interfaces; they can thus communicate dataâ€”as Core Foundation objectsâ€”to each other through these interfaces.</div></pre></td></tr></table></figure>
<p>ç¿»è¯‘åï¼Œå¤§è‡´æ„æ€æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Core Foundationå¯¹è±¡çš„ç¼–ç¨‹æ¥å£å·²è®¾è®¡ä¸ºæ˜“äºä½¿ç”¨å’Œé‡ç”¨ã€‚ åœ¨ä¸€èˆ¬çš„æ„ä¹‰ï¼ŒCore Foundationï¼š</div><div class="line">     1ã€æ”¯æŒåœ¨å„ç§æ¡†æ¶å’Œåº“ä¹‹é—´å…±äº«ä»£ç å’Œæ•°æ®</div><div class="line">     2ã€ä½¿æŸç§ç¨‹åº¦çš„æ“ä½œç³»ç»Ÿç‹¬ç«‹æ€§æˆä¸ºå¯èƒ½</div><div class="line">     3ã€æ”¯æŒä½¿ç”¨Unicodeå­—ç¬¦ä¸²è¿›è¡Œå›½é™…åŒ–</div><div class="line">     4ã€æä¾›é€šç”¨APIå’Œå…¶ä»–æœ‰ç”¨çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬æ’ä»¶æ¶æ„ï¼ŒXMLå±æ€§åˆ—è¡¨å’Œé¦–é€‰é¡¹</div><div class="line">Core Foundationä½¿å¾—OS Xä¸Šçš„ä¸åŒæ¡†æ¶å’Œåº“å¯ä»¥å…±äº«ä»£ç å’Œæ•°æ®ã€‚ åº”ç”¨ç¨‹åºï¼Œåº“å’Œæ¡†æ¶å¯ä»¥å®šä¹‰åœ¨å…¶å¤–éƒ¨æ¥å£ä¸­å¹¶å…¥Core Foundationç±»å‹çš„Cä¾‹ç¨‹; å®ƒä»¬å› æ­¤å¯ä»¥é€šè¿‡è¿™äº›æ¥å£å°†æ•°æ®ä½œä¸ºCore Foundationå¯¹è±¡ä¼ é€’åˆ°å½¼æ­¤ã€‚</div></pre></td></tr></table></figure>
<p><strong>ä¸‰ã€Objective-C å’Œ Core Foundation å¯¹è±¡ä¹‹é—´è½¬æ¢</strong></p>
<p>iOSå…è®¸<code>Objective-C</code> å’Œ <code>Core Foundation</code> å¯¹è±¡ä¹‹é—´å¯ä»¥è½»æ¾çš„è½¬æ¢ã€‚</p>
<p>åœ¨ã€ŠiOSå¼€å‘è¿›é˜¶ã€‹ä¸€ä¹¦ä¸­ï¼Œå”å·§æåˆ°ï¼šåœ¨ARCä¸‹ï¼Œæœ‰æ—¶å€™éœ€è¦å°†ä¸€ä¸ª<code>Core Foundation</code>å¯¹è±¡è½¬æ¢æˆä¸€ä¸ª<code>Object-C</code>å¯¹è±¡ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œè½¬æ¢è¿‡ç¨‹ä¸­å¼•ç”¨è®¡æ•°éœ€è¦å¦‚ä½•è°ƒæ•´ï¼Œè¿™æ—¶ä¹Ÿä¼šç”¨åˆ°<code>bridge</code>è¿™ä¸ªå…³é”®å­—ã€‚</p>
<ul>
<li><code>__bridge</code>: åªåšç±»å‹è½¬æ¢ï¼Œä¸ä¿®æ”¹ç›¸å…³å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ï¼ŒåŸæ¥çš„Core Foundationå¯¹è±¡åœ¨ä¸ç”¨æ—¶ï¼Œéœ€è¦è°ƒç”¨CFReleaseæ–¹æ³•ã€‚</li>
<li><code>__bridge_retained</code>: ç±»å‹è½¬æ¢åå°†ç›¸å…³å¯¹è±¡çš„å¼•ç”¨è®¡æ•°åŠ 1ï¼ŒåŸæ¥çš„<code>Core Foundation</code>å¯¹è±¡åœ¨ä¸ç”¨æ—¶ï¼Œéœ€è¦è°ƒç”¨<code>CFRelease</code>æ–¹æ³•ã€‚</li>
<li><code>__bridge_transfer</code>: ç±»å‹è½¬æ¢åï¼Œå°†è¯¥å¯¹è±¡çš„å¼•ç”¨è®¡æ•°äº¤ç»™ARCç®¡ç†ï¼Œ<code>Core Foundation</code>å¯¹è±¡åœ¨ä¸ç”¨æ—¶ï¼Œä¸å†éœ€è¦è°ƒç”¨<code>CFRelease</code>æ–¹æ³•ã€‚</li>
</ul>
<hr>
<p><code><strong>__bridge</strong></code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">    id obj = [[NSObject alloc]init];</div><div class="line">//    void *a = obj;</div><div class="line">//    id b = a;</div><div class="line">    void *c = (__bridge void *)(obj);//åªåšç±»å‹è½¬æ¢ï¼Œä¸ä¿®æ”¹ç›¸å…³å¯¹è±¡çš„å¼•ç”¨è®¡æ•°</div><div class="line">    NSLog(@&quot;obj-c count is %ld&quot;, CFGetRetainCount(c));//è¾“å‡ºç»“æœï¼š obj-c count is 1</div><div class="line">    id d = (__bridge id)(c); </div><div class="line">    NSLog(@&quot;obj-d retainCount %ld&quot;,CFGetRetainCount((__bridge CFTypeRef)(d)));//è¾“å‡ºç»“æœï¼šobj-d retainCount 2</div><div class="line">    NSLog(@&quot;\n obj=%@,\n c=%@,\n d=%@\n&quot;,obj,c,d);</div><div class="line">    //__bridge</div><div class="line">    CFStringRef CFString = CFStringCreateWithCString(kCFAllocatorDefault, &quot;hello Core Foundation&quot;, kCFStringEncodingASCII);</div><div class="line">    NSLog(@&quot;CFString retainCount= %ld&quot;,CFGetRetainCount(CFString));//CFString retainCount= 1</div><div class="line">    NSString *string = (__bridge NSString *)CFString;</div><div class="line">    NSLog(@&quot;CFstring==%@,\nstring==%@\n&quot;,CFString,string);</div><div class="line">    NSString *qStr = @&quot;qgh&quot;;</div><div class="line">    CFStringRef qCFStr = (__bridge CFStringRef)qStr;</div><div class="line">    NSLog(@&quot;qStr==%@,qCFStr==%@\n&quot;,qStr,qCFStr);</div><div class="line">    NSArray *array = @[@&quot;a&quot;,@&quot;b&quot;,@&quot;c&quot;,@&quot;d&quot;,@&quot;e&quot;,@&quot;f&quot;,@&quot;g&quot;,@&quot;h&quot;];</div><div class="line">    CFArrayRef CFArray = (__bridge CFArrayRef)(array);</div><div class="line">    NSLog(@&quot;CFArray retainCount= %ld&quot;,CFGetRetainCount(CFArray));//CFArray retainCount= 1</div><div class="line">    NSLog(@&quot;array==%@&quot;,CFArray);</div></pre></td></tr></table></figure>
<hr>
<p><strong><code>__bridge_transfer</code></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//__bridge_transfer:ç±»å‹è½¬æ¢åï¼Œå°†è¯¥å¯¹è±¡çš„å¼•ç”¨è®¡æ•°äº¤ç»™ARCç®¡ç†.</div><div class="line">NSString *transferString = [[NSString alloc]initWithFormat:@&quot;test:::__bridge_transfer&quot;];</div><div class="line">CFStringRef CFTransferString = (__bridge_retained CFStringRef)(transferString);</div><div class="line">NSLog(@&quot;CFTransferString count is %ld&quot;, CFGetRetainCount(CFTransferString));//CFTransferString count is 2</div><div class="line">transferString = (__bridge_transfer NSString *)(CFTransferString);</div><div class="line">NSLog(@&quot;transferString count is %ld&quot;, CFGetRetainCount((__bridge CFTypeRef)(transferString)));//transferString count is 1</div></pre></td></tr></table></figure>
<hr>
<p><strong><code>__bridge_retained</code></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//__bridge_retained: ç±»å‹è¢«è½¬æ¢æ—¶ï¼Œå…¶å¯¹è±¡çš„æ‰€æœ‰æƒä¹Ÿå°†è¢«å˜æ¢åå˜é‡æ‰€æŒæœ‰</div><div class="line">void *y = 0;</div><div class="line">id object = [[NSObject alloc]init];</div><div class="line">y = (__bridge_retained void*)(object);//ç±»å‹è½¬æ¢åå°†ç›¸å…³å¯¹è±¡çš„å¼•ç”¨è®¡æ•°åŠ 1</div><div class="line">NSLog(@&quot;object-y count is %ld&quot;, CFGetRetainCount(y));//object-y count is 2</div><div class="line">NSLog(@&quot;class=%@&quot;,[(__bridge id)(y) class]);</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™ç¯‡çŸ¥è¯†æ¯”è¾ƒåï¼Œæ˜¯åä½å±‚ä¸€äº›çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸€ï¼š__birdge&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç”±äº&lt;code&gt;__bridge&lt;/code&gt;å¾ˆå°‘æ¥è§¦ï¼Œæ‰€ä»¥ä¸“é—¨å»æŸ¥æ‰¾äº†ä¸€ä¸‹ã€‚å…¶å®å®ƒçš„ä½œç”¨å¾ˆç®€å•ï¼Œå°±æ˜¯ï¼šå®ç°&lt;code&gt;id&lt;/code&gt;ç±»å‹ä¸&lt;code&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿ --åŒ—å²›</title>
    <link href="https:guohuaden.com/2017/03/12/I-am-not-familiar-with-this-world/"/>
    <id>https:guohuaden.com/2017/03/12/I-am-not-familiar-with-this-world/</id>
    <published>2017-03-12T01:04:32.000Z</published>
    <updated>2017-04-28T01:41:38.000Z</updated>
    
    <content type="html"><![CDATA[<p>ã€€ã€€æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿã€‚ </p>
<p>ã€€ã€€è¿™å¹¶éæ˜¯æˆ‘å®‰é™çš„åŸå› ã€‚ </p>
<p>ã€€ã€€æˆ‘ä¾æ—§æœ‰å¾ˆå¤šé—®é¢˜ï¼Œ </p>
<p>ã€€ã€€é—®å—æ–¹ï¼Œé—®æ•…é‡Œï¼Œé—®å¸Œæœ›ï¼Œé—®è·ç¦»ã€‚  <br>
ã€€ã€€ </p>
<p>ã€€ã€€æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿã€‚ </p>
<p>ã€€ã€€è¿™å¹¶éæ˜¯æˆ‘ç»æœ›çš„åŸå› ã€‚ </p>
<p>ã€€ã€€æˆ‘ä¾æ—§æœ‰å¾ˆå¤šçƒ­æƒ…ï¼Œ </p>
<p>ã€€ã€€ç»™åˆ†å¼€ï¼Œç»™æ­»äº¡ï¼Œç»™æ˜¨å¤©ï¼Œç»™å®‰å¯‚ã€‚  <br>
ã€€ã€€ </p>
<p>ã€€ã€€æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿã€‚ </p>
<p>ã€€ã€€è¿™å¹¶éæ˜¯æˆ‘è™šå‡çš„åŸå› ã€‚ </p>
<p>ã€€ã€€æˆ‘ä¾æ—§æœ‰å¾ˆå¤šçœŸè¯šï¼Œ </p>
<p>ã€€ã€€ç¦»ä¸å¼€ï¼Œæ”¾ä¸ä¸‹ï¼Œæ´»ä¸‹å»ï¼Œçˆ±å¾—èµ·ã€‚  <br>
ã€€ã€€ </p>
<p>ã€€ã€€æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿã€‚ </p>
<p>ã€€ã€€è¿™å¹¶éæ˜¯æˆ‘å­¤å¯‚çš„åŸå› ã€‚ </p>
<p>ã€€ã€€æˆ‘ä¾æ—§æœ‰å¾ˆå¤šè¯‰æ±‚ï¼Œ </p>
<p>ã€€ã€€éœ€æ…°è—‰ï¼Œå¾…åˆ†äº«ï¼Œæƒ¹å¿ƒçƒ¦ï¼Œå‘Šè¯‰ä½ ã€‚  <br>
ã€€ã€€ </p>
<p>ã€€ã€€æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿã€‚ </p>
<p>ã€€ã€€è¿™å¹¶éæ˜¯æˆ‘å†·æ¼ çš„åŸå› ã€‚ </p>
<p>ã€€ã€€æˆ‘ä¾æ—§æœ‰å¾ˆå¤šåŠ¨æƒ…ï¼Œ </p>
<p>ã€€ã€€ä¸ºæ—¶é—´ï¼Œä¸ºç™½äº‘ï¼Œä¸ºå¤©é»‘ï¼Œç•å¤©å‘½ã€‚  <br>
ã€€ã€€ </p>
<p>ã€€ã€€æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿã€‚ </p>
<p>ã€€ã€€è¿™å¹¶éæ˜¯æˆ‘é€ƒé¿çš„åŸå› ã€‚ </p>
<p>ã€€ã€€æˆ‘ä¾æ—§æœ‰å¾ˆå¤šæ†§æ†¬ï¼Œ </p>
<p>ã€€ã€€å¯¹æ¢¦æƒ³ï¼Œå¯¹è®°å¿†ï¼Œå¯¹å¤±è´¥ï¼Œå¯¹å¸Œå†€ã€‚  <br>
ã€€ã€€ </p>
<p>ã€€ã€€æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿã€‚ </p>
<p>ã€€ã€€è¿™å¹¶éæ˜¯æˆ‘å‘å¾®çš„åŸå› ã€‚ </p>
<p>ã€€ã€€æˆ‘ä¾æ—§æœ‰å¾ˆå¤šå‹‡æ•¢ï¼Œ </p>
<p>ã€€ã€€ä¸ä¿¡è¾“ï¼Œä¸ä¿¡ç¥ï¼Œä¸ä¿¡å¤©ï¼Œä¸ä¿¡åœ°ã€‚  <br>
ã€€ã€€ </p>
<p>ã€€ã€€æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿã€‚ </p>
<p>ã€€ã€€è¿™å¹¶éæ˜¯æˆ‘å¤±è½çš„åŸå› ã€‚ </p>
<p>ã€€ã€€æˆ‘ä¾æ—§æœ‰å¾ˆå¤šé«˜æ˜‚ï¼Œ </p>
<p>ã€€ã€€æœ‰å­˜åœ¨ï¼Œæœ‰ä»·å€¼ï¼Œæœ‰ç‹¬ç‰¹ï¼Œæœ‰æ„ä¹‰ã€‚  <br>
ã€€ã€€ </p>
<p>ã€€ã€€æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿã€‚ </p>
<p>ã€€ã€€è¿™å¹¶éæ˜¯æˆ‘è¿·èŒ«çš„åŸå› ã€‚ </p>
<p>ã€€ã€€æˆ‘ä¾æ—§æœ‰å¾ˆå¤šæ–¹å‘ï¼Œ </p>
<p>ã€€ã€€å¾€å‰èµ°ï¼Œå›å¤´æœ›ï¼Œä¼šè·³è·ƒï¼Œä¼šåœæ¯ã€‚  <br>
ã€€ã€€ </p>
<p>ã€€ã€€æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿã€‚ </p>
<p>ã€€ã€€è¿™å¹¶éæ˜¯æˆ‘æ’•è£‚çš„åŸå› ã€‚ </p>
<p>ã€€ã€€æˆ‘ä¾æ—§æœ‰å¾ˆå¤šå®Œæ•´ï¼Œ </p>
<p>ã€€ã€€è‡³å°‘æˆ‘è¦æˆå…¨æˆ‘è‡ªå·±ã€‚  <br>
ã€€ã€€ </p>
<p>ã€€ã€€æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿã€‚ </p>
<p>ã€€ã€€è¿™å¹¶éæ˜¯æˆ‘é€‰æ‹©æ­»äº¡æˆ–è€…ç”Ÿå­˜çš„åŸå› ã€‚ </p>
<p>ã€€ã€€æˆ‘ä¾æ—§æœ‰å¾ˆå¤šé€‰æ‹©ï¼Œ </p>
<p>ã€€ã€€åˆšå·§ï¼Œè¿™ä¸¤è€…ï¼Œéƒ½ä¸æ˜¯é€‰é¡¹ä¹‹ä¸€ã€‚  <br>
ã€€ã€€</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€€ã€€æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿã€‚ &lt;/p&gt;
&lt;p&gt;ã€€ã€€è¿™å¹¶éæ˜¯æˆ‘å®‰é™çš„åŸå› ã€‚ &lt;/p&gt;
&lt;p&gt;ã€€ã€€æˆ‘ä¾æ—§æœ‰å¾ˆå¤šé—®é¢˜ï¼Œ &lt;/p&gt;
&lt;p&gt;ã€€ã€€é—®å—æ–¹ï¼Œé—®æ•…é‡Œï¼Œé—®å¸Œæœ›ï¼Œé—®è·ç¦»ã€‚  &lt;br&gt;
ã€€ã€€ &lt;/p&gt;
&lt;p&gt;ã€€ã€€æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿã€‚ &lt;/p&gt;
&lt;p&gt;ã€€ã€€è¿™å¹¶éæ˜¯æˆ‘ç»æœ›çš„åŸå› ã€‚ &lt;/p&gt;

    
    </summary>
    
    
      <category term="æ¬ ä¸‹çš„æ—¶å…‰" scheme="https:guohuaden.com/tags/%E6%AC%A0%E4%B8%8B%E7%9A%84%E6%97%B6%E5%85%89/"/>
    
  </entry>
  
  <entry>
    <title>iOSä¹‹é˜²æ­¢ç”¨æˆ·é‡å¤ç‚¹å‡»Buttonï¼ˆæŒ‰é’®ï¼‰é—®é¢˜</title>
    <link href="https:guohuaden.com/2017/03/10/Repeat-ButtonClick/"/>
    <id>https:guohuaden.com/2017/03/10/Repeat-ButtonClick/</id>
    <published>2017-03-10T06:46:31.000Z</published>
    <updated>2017-03-10T06:59:02.000Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼šå› ä¸ºç½‘ç»œè¾ƒæ…¢çš„åŸå› ï¼Œç”¨æˆ·ä¼šä¸è€çƒ¦çš„ä¸€ç›´å»ç‚¹å‡»æŒ‰é’®ï¼Œè¿™æ ·å¯¼è‡´çš„ç»“æœæ—¶ï¼šç›¸å…³ä»£ç ä¸€éä¸€éçš„è¢«é‡å¤æ‰§è¡Œï¼Œå¦‚æœæŒ‰é’®çš„äº‹ä»¶æ˜¯ç½‘ç»œè¯·æ±‚çš„è¯ï¼Œè¿™æ ·åˆå¯¼è‡´ä¸€ç§ç½‘ç»œè¯·æ±‚çš„å¾ªç¯ã€‚æ‰€ä»¥æˆ‘ä»¬è§£å†³çš„æ–¹æ³•æ˜¯åœ¨æ‰§è¡ŒæŒ‰é’®ç‚¹å‡»äº‹ä»¶æ—¶ï¼Œä¸º<code>Button</code>åŠ ä¸Šé˜²æ­¢é‡å¤ç‚¹å‡»çš„æ–¹æ³•ã€‚</p>
<p>å…·ä½“çš„æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼š</p>
<font color="#0B1746"><strong>1ã€ä½¿ç”¨<code>performSelector</code>æ–¹æ³•</strong></font>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- (void)performSelector:(SEL)aSelector withObject:(nullable id)anArgument afterDelay:(NSTimeInterval)delay;</div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬åœ¨ç‚¹å‡»äº‹ä»¶ä¸­æ·»åŠ å»¶è¿Ÿæ‰§è¡Œäº‹ä»¶ï¼Œåœ¨å»¶è¿Ÿçš„è¿™ä¸ªæœŸé—´ï¼Œè¯¥æŒ‰é’®çš„<code>enabled</code>è®¾ç½®ä¸ºNOï¼Œå³ä¸èƒ½ç‚¹å‡»ã€‚è¿‡äº†å»¶è¿Ÿæ—¶é—´åå†è®¾ç½®ä¸º<code>YES</code>ã€‚ä»¥è¿™ç§æ–¹å¼é˜²æ­¢ç”¨æˆ·é‡å¤ç‚¹å‡»æŒ‰é’®ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">-(void)buttonClicked:(id)sender</div><div class="line">&#123;</div><div class="line">   sender.enabled = NO;</div><div class="line">  //é˜²æ­¢ç”¨æˆ·é‡å¤ç‚¹å‡»</div><div class="line">  	[self performSelector:@selector(changeButtonStatus:) withObject:nil afterDelay:1.0f];</div><div class="line">&#125;</div><div class="line">-(void)changeButtonStatus:(id)sender</div><div class="line">&#123;</div><div class="line">    sender.enabled = YES;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä»¥ä¸Šçš„æ–¹æ³•å¯ä»¥å¾ˆå¥½çš„è§£å†³æˆ‘ä»¬é‡å¤ç‚¹å‡»æŒ‰é’®çš„é—®é¢˜ï¼Œä½†æ›´æ¨èçš„å´æ˜¯ä¸‹é¢çš„è¿™ç§æ–¹æ³•ï¼š</p>
<font color="#0B1746"><strong>2ã€ä½¿ç”¨<code>cancelPreviousPerformRequestsWithTarget</code> å’Œ  <code>performSelector</code> ç»“åˆçš„æ–¹æ³•ï¼ˆæ¨èä½¿ç”¨</strong>ï¼‰</font>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">+ (void)cancelPreviousPerformRequestsWithTarget:(id)aTarget selector:(SEL)aSelector object:(nullable id)anArgument;</div><div class="line">- (void)performSelector:(SEL)aSelector withObject:(nullable id)anArgument afterDelay:(NSTimeInterval)delay;</div></pre></td></tr></table></figure>
<p>åŸç†æ˜¯ï¼šæˆ‘ä»¬æ¯æ¬¡ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œå…ˆæ‰§è¡Œå–æ¶ˆä¹‹å‰çš„æŒ‰é’®ç‚¹å‡»æ‰§è¡Œäº‹ä»¶ï¼Œç„¶åå†å»æ‰§è¡Œä¸€ä¸ªå»¶è¿Ÿæ‰§è¡Œæ–¹æ³•ï¼ˆæ–¹æ³•ä¸­æ‰§è¡Œçš„æ˜¯æŒ‰é’®æ‰§è¡Œçš„äº‹ä»¶ï¼‰ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">- (void)buttonClicked:(id)sender</div><div class="line">&#123;</div><div class="line">    //åœ¨è¿™é‡ŒåšæŒ‰é’®çš„æƒ³åšçš„äº‹æƒ…ã€‚</div><div class="line">&#125;</div><div class="line">- (void)starButtonClicked:(id)sender</div><div class="line">&#123;</div><div class="line">    //å…ˆå°†æœªåˆ°æ—¶é—´æ‰§è¡Œå‰çš„ä»»åŠ¡å–æ¶ˆã€‚</div><div class="line">    [[self class] cancelPreviousPerformRequestsWithTarget:self selector:@selector(buttonClicked:)object:sender];</div><div class="line">    [self performSelector:@selector(buttonClicked:)withObject:sender afterDelay:0.2f];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç¬¬äºŒç§æ˜¯æˆ‘ä»¬æ¯”è¾ƒæ¨èçš„æ–¹æ³•ï¼Œä½†è¿™ä¸¤ç§æ–¹æ³•éƒ½å¯ä»¥è§£å†³æŒ‰é’®è¢«é‡å¤ç‚¹å‡»çš„é—®é¢˜ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼šå› ä¸ºç½‘ç»œè¾ƒæ…¢çš„åŸå› ï¼Œç”¨æˆ·ä¼šä¸è€çƒ¦çš„ä¸€ç›´å»ç‚¹å‡»æŒ‰é’®ï¼Œè¿™æ ·å¯¼è‡´çš„ç»“æœæ—¶ï¼šç›¸å…³ä»£ç ä¸€éä¸€éçš„è¢«é‡å¤æ‰§è¡Œï¼Œå¦‚æœæŒ‰é’®çš„äº‹ä»¶æ˜¯ç½‘ç»œè¯·æ±‚çš„è¯ï¼Œè¿™æ ·åˆå¯¼è‡´ä¸€ç§ç½‘ç»œè¯·æ±‚çš„å¾ªç¯ã€‚æ‰€ä»¥æˆ‘ä»¬è§£å†³çš„æ–¹æ³•æ˜¯åœ¨æ‰§è¡ŒæŒ‰é’®ç‚¹å‡»äº‹ä»¶æ—¶ï¼Œä¸º&lt;code&gt;Button&lt;/code
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>æœåŠ¡å™¨è¿”å›çš„jsonæ•°æ®ä¸­å«æœ‰nullçš„å¤„ç†æ–¹æ³•</title>
    <link href="https:guohuaden.com/2017/03/06/json-dataNull/"/>
    <id>https:guohuaden.com/2017/03/06/json-dataNull/</id>
    <published>2017-03-06T05:33:53.000Z</published>
    <updated>2017-03-10T05:49:44.000Z</updated>
    
    <content type="html"><![CDATA[<p>å› ä¸ºæœ‰é‡åˆ°è¿‡ç±»ä¼¼æƒ…å†µï¼Œæ‰€ä»¥å°±æƒ³åˆ°äº†ä¸€äº›è§£å†³æ–¹æ³•ï¼Œå¹¶ä¸”å®è·µäº†ä¸€ä¸‹ï¼Œè¿™é‡Œç®€å•çš„åšä¸ªè®°å½•ã€‚</p>
<p><strong>æ³¨ï¼š</strong>æœ‰çœ‹åˆ°ä¸å°‘çš„è¯„ä»·ï¼Œæœ‰è¯´åå°è´£ä»»ï¼Œä¹Ÿæœ‰è¯´æ€ªç§»åŠ¨ç«¯æ²¡æœ‰åšå®¹é”™å¤„ç†ã€‚æˆ‘è¿™é‡Œå°±äº‹è®ºäº‹çš„è¯´ä¸‹ï¼Œç§»åŠ¨ç«¯ä»æœåŠ¡å™¨å¾—åˆ°çš„æ•°æ®ä¸­ç¡®å®æ˜¯ä¸åº”è¯¥åŒ…å«<code>null</code>çš„ï¼Œå› ä¸ºè¿™æœ¬èº«å°±æ˜¯ä¸åˆç†çš„ã€‚ï¼ˆå½“ç„¶ï¼Œæˆ‘çš„å°±äº‹è®ºäº‹æ˜¯ç«™åœ¨iOSç«‹åœºä¸Šè¯´çš„ï¼Œè¿™ä¸ªæ— å¯åšéï¼‰ã€‚</p>
<p>ä¸‹é¢ğŸ‘‡è¯´ä¸€ä¸‹æƒ³åˆ°çš„å‡ ç§æ–¹æ³•ï¼š</p>
<p><strong>ä¸€ã€ å¯¹äºæ‰€æœ‰ä½¿ç”¨åˆ°çš„jsonä¸­çš„å¯¹è±¡åšåˆ¤æ–­ï¼ˆå½“ç„¶è¿™æ˜¯æœ€ç¬¨çš„æ–¹æ³•ï¼‰</strong></p>
<pre><code>NSString *msg ;
if ([str isKindOfClass: [NSNull class]]){
    NSLog(@&quot;str ä¸ºç©ºï¼&quot;);
}
//æˆ–è€…ä½¿ç”¨[str isEqual:[NSNull null]]
</code></pre><p>ä¸ºä»€ä¹ˆé¦–å…ˆè¯´è¿™ç§æ–¹æ³•å‘¢ï¼Œå¤§æŠµæ˜¯å› ä¸ºè¿™ä¸ªæ–¹æ³•çš„å·¥ä½œé‡æ¯”è¾ƒå¤§å§ã€‚ä½†æœ‰æ—¶å€™ä½ æ˜¯å®Œå…¨ä¸èƒ½é¿å…è¿™ç§æƒ…å†µçš„ï¼Œå°¤å…¶æ˜¯åœ¨è€æ—§çš„é¡¹ç›®ä¸­ï¼Œå½“ä½ çœ‹åˆ°é¡¹ç›®ä¸­æ‰€æœ‰çš„è§£æéƒ½æ˜¯<code>KVO</code>æ¨¡å¼æ—¶ï¼Œä½ å°±çŸ¥é“ä¸€ä¸ªä¸ªå»åˆ¤æ–­æ˜¯å¤šä¹ˆè®©äººçº ç»“çš„äº‹æƒ…äº†ã€‚</p>
<hr>
<p><strong>äºŒã€ä½¿ç”¨<code>JSONModel</code>ç­‰ç¬¬ä¸‰æ–¹jsonè§£æåº“</strong>  </p>
<p><code>JSONModel</code>æœ‰ä¸“é—¨é’ˆå¯¹å¯¹è±¡ä¸º<code>null</code>çš„å¤„ç†ï¼Œä½¿å…¶è¿”å›<code>â€œ<null>â€œ</null></code>ã€‚iOSç§»åŠ¨ç«¯èµ‹å€¼ä¸º<code>nil</code>ã€‚</p>
<hr>
<p><strong>ä¸‰ã€æœ‰ä¸€ä¸ªä¸“é—¨é’ˆå¯¹æ•°æ®ä¸º<code>null</code>çš„å¤„ç†åº“ï¼Œ<code>NullSafe</code></strong></p>
<p>è¿™ä¸ªåº“æ˜¯ä¸“é—¨å¤„ç†å¯¹è±¡ä¸ºnullçš„ã€‚åªæœ‰ä¸€ä¸ª<code>.m</code>æ–‡ä»¶ã€‚ä½¿ç”¨ä¹Ÿç®€å•ï¼Œå› ä¸ºä½ åªéœ€è¦æ·»åŠ åˆ°é¡¹ç›®ä¸­å°±å¯ä»¥äº†ï¼Œä¸å†éœ€è¦å¼•å…¥å¤´æ–‡ä»¶ç­‰å…¶ä»–ä»»æ„æ“ä½œã€‚</p>
<p>è¿™é‡Œæ”¾ä¸€ä¸ªæˆ‘æµ‹è¯•æ˜¯ä½¿ç”¨çš„ç®€å•demo</p>
<p><a href="https://github.com/Wheat-Qin/Data_null_test" target="_blank" rel="external">github:data_nullDemo</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å› ä¸ºæœ‰é‡åˆ°è¿‡ç±»ä¼¼æƒ…å†µï¼Œæ‰€ä»¥å°±æƒ³åˆ°äº†ä¸€äº›è§£å†³æ–¹æ³•ï¼Œå¹¶ä¸”å®è·µäº†ä¸€ä¸‹ï¼Œè¿™é‡Œç®€å•çš„åšä¸ªè®°å½•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ³¨ï¼š&lt;/strong&gt;æœ‰çœ‹åˆ°ä¸å°‘çš„è¯„ä»·ï¼Œæœ‰è¯´åå°è´£ä»»ï¼Œä¹Ÿæœ‰è¯´æ€ªç§»åŠ¨ç«¯æ²¡æœ‰åšå®¹é”™å¤„ç†ã€‚æˆ‘è¿™é‡Œå°±äº‹è®ºäº‹çš„è¯´ä¸‹ï¼Œç§»åŠ¨ç«¯ä»æœåŠ¡å™¨å¾—åˆ°çš„æ•°æ®ä¸­ç¡®å®æ˜¯ä¸åº”è¯¥åŒ…å«&lt;code
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>WebView æ‰“ä¸å¼€é—®é¢˜ (è½¬ç é—®é¢˜)</title>
    <link href="https:guohuaden.com/2017/02/27/WebView-ErrorOpen/"/>
    <id>https:guohuaden.com/2017/02/27/WebView-ErrorOpen/</id>
    <published>2017-02-27T01:56:54.000Z</published>
    <updated>2017-03-08T02:23:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>æ— æ„ä¸­é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œé¡¹ç›®ä¸­ä½¿ç”¨<code>UIWebView</code>æ‰“ä¸å¼€<code>web</code>ç•Œé¢ï¼Œæ£€æŸ¥è¿‡<code>URL</code>å’Œä»£ç ï¼Œå‘ç°å¹¶æ²¡æœ‰é—®é¢˜ã€‚éšè€ƒè™‘åˆ°ä¸€ç‚¹ï¼š<strong>URLä¸­åŒ…å«æ±‰å­—</strong>ã€‚</p>
<p>å¤„ç†å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">NSString *URLString = [NSString stringWithFormat:@&quot;%@id=%@&amp;email=%@&quot;,ProviderOrder,self.orderID,emailStr];</div><div class="line">//æ–¹æ³•æ˜¯ç”¨æ¥è¿›è¡Œè½¬ç çš„ï¼Œå³å°†æ±‰å­—è½¬ç </div><div class="line">NSString *encodedString1 = [URLString stringByAddingPercentEncodingWithAllowedCharacters:[NSCharacterSet URLQueryAllowedCharacterSet]];</div><div class="line">//è¯¥æ–¹æ³•ç”¨æ¥è¿›è¡Œè½¬ç çš„ï¼Œå³å°†æ±‰å­—è½¬ç ï¼ˆåœ¨Xcode7ä¸­ï¼ŒiOS9ï¼‰</div><div class="line">//NSString *encodedString = [URLString stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];</div><div class="line">NSURL *url =[NSURL URLWithString:[NSString stringWithFormat:@&quot;%@&quot;,encodedString1]];</div><div class="line">self.webView = [[UIWebView alloc]initWithFrame:self.view.bounds];</div><div class="line">self.webView.delegate = self;</div><div class="line">NSURLRequest *request = [NSURLRequest requestWithURL:url ];</div><div class="line">[self.webView loadRequest:request];</div><div class="line">[self.view addSubview:self.webView];</div></pre></td></tr></table></figure>
<p>ä¸Šé¢ä¸ºä»€ä¹ˆæ¨èä½¿ç”¨<br><code>(NSString *)stringByAddingPercentEncodingWithAllowedCharacters:(NSCharacterSet *)allowedCharacters</code>,<br>è¿™é‡Œæ˜¯æ–‡æ¡£ä¸­ç»™å‡ºçš„è§£é‡Šï¼š</p>
<p><strong>å…¶ä¸€ï¼š</strong></p>
<pre>
Use -stringByAddingPercentEncodingWithAllowedCharacters: instead, 
which always uses the recommended UTF-8 encoding, 
and which encodes for a specific URL component or subcomponent since each URL component or subcomponent has different rules for what characters are valid.
</pre>

<p>ç¿»è¯‘å¦‚ä¸‹ï¼š</p>
<p>ä½¿ç”¨<code>-stringByAddingPercentEncodingWithAllowedCharactersï¼š</code>æ”¹ä¸ºï¼Œ<br>å®ƒæ€»æ˜¯ä½¿ç”¨æ¨èçš„<code>UTF-8</code>ç¼–ç ï¼Œ<br>å¹¶ä¸”å…¶å¯¹ç‰¹å®šçš„URLç»„ä»¶æˆ–å­ç»„ä»¶è¿›è¡Œç¼–ç ï¼Œå› ä¸ºæ¯ä¸ªURLç»„ä»¶æˆ–å­ç»„ä»¶å¯¹äºä»€ä¹ˆå­—ç¬¦æ˜¯æœ‰æ•ˆçš„å…·æœ‰ä¸åŒçš„è§„åˆ™ã€‚</p>
<p><strong>å…¶äºŒï¼š</strong></p>
<pre>
Returns a new string made from the receiver by replacing all characters not in the allowedCharacters set with percent encoded characters. 
UTF-8 encoding is used to determine the correct percent encoded characters. 
Entire URL strings cannot be percent-encoded. 
This method is intended to percent-encode an URL component or subcomponent string, NOT the entire URL string. 
Any characters in allowedCharacters outside of the 7-bit ASCII range are ignored.
</pre>

<p>ç¿»è¯‘å¦‚ä¸‹ï¼š</p>
<p>é€šè¿‡æ›¿æ¢ä¸åœ¨allowedCharactersä¸­çš„æ‰€æœ‰å­—ç¬¦ï¼Œä½¿ç”¨ç™¾åˆ†æ¯”ç¼–ç å­—ç¬¦è¿”å›ä»æ¥æ”¶å™¨åˆ›å»ºçš„æ–°å­—ç¬¦ä¸²ã€‚ UTF-8ç¼–ç ç”¨äºç¡®å®šæ­£ç¡®çš„ç™¾åˆ†æ¯”ç¼–ç å­—ç¬¦ã€‚ æ•´ä¸ªURLå­—ç¬¦ä¸²ä¸èƒ½è¿›è¡Œç™¾åˆ†å·ç¼–ç ã€‚ æ­¤æ–¹æ³•æ—¨åœ¨å¯¹URLç»„ä»¶æˆ–å­ç»„ä»¶å­—ç¬¦ä¸²ï¼ˆè€Œä¸æ˜¯æ•´ä¸ªURLå­—ç¬¦ä¸²ï¼‰è¿›è¡Œç™¾åˆ†æ¯”ç¼–ç ã€‚ å°†å¿½ç•¥7ä½ASCIIèŒƒå›´ä¹‹å¤–çš„allowedCharactersä¸­çš„ä»»ä½•å­—ç¬¦ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ— æ„ä¸­é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œé¡¹ç›®ä¸­ä½¿ç”¨&lt;code&gt;UIWebView&lt;/code&gt;æ‰“ä¸å¼€&lt;code&gt;web&lt;/code&gt;ç•Œé¢ï¼Œæ£€æŸ¥è¿‡&lt;code&gt;URL&lt;/code&gt;å’Œä»£ç ï¼Œå‘ç°å¹¶æ²¡æœ‰é—®é¢˜ã€‚éšè€ƒè™‘åˆ°ä¸€ç‚¹ï¼š&lt;strong&gt;URLä¸­åŒ…å«æ±‰å­—&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¤„ç†å¦‚ä¸‹ï¼š&lt;
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>å¯¹äºXcodeä¸­ Build Active Architecture Only çš„è®¤è¯†</title>
    <link href="https:guohuaden.com/2017/02/16/Build-Active-Architecture-Only-Query/"/>
    <id>https:guohuaden.com/2017/02/16/Build-Active-Architecture-Only-Query/</id>
    <published>2017-02-16T07:11:12.000Z</published>
    <updated>2017-02-16T08:57:15.000Z</updated>
    
    <content type="html"><![CDATA[<p>ä¹‹å‰åœ¨ç»™é¡¹ç›®é€‚é…64ä½æ—¶ï¼Œçœ‹åˆ°Xcodeä¸­æœ‰è¿™ä¸ªè®¾ç½®ï¼Œå› ä¸ºå…³ç³»åˆ°é€‚é…é—®é¢˜ï¼Œåˆæ¯”è¾ƒå¥½å¥‡ï¼Œå°±äº†è§£äº†ä¸€ç•ªã€‚å‘ç°è¿™ä¸ªè®¾ç½®ä¹Ÿæœ‰ä¸å°çš„ä½œç”¨ã€‚</p>
<p><img src="http://obzx0h1re.bkt.clouddn.com/Build%20Active%20Architecture%20Only2.png" alt="Build Active Architecture Only2"></p>
<font color="#9ACD32"><code>Build Active Architecture Only</code>ï¼šæŒ‡å®šæ˜¯å¦åªå¯¹å½“å‰è¿æ¥è®¾å¤‡æ‰€æ”¯æŒçš„æŒ‡ä»¤é›†ç¼–è¯‘</font>

<p>ç³»ç»Ÿé»˜è®¤æ˜¯ï¼šDebugè®¾ç½®ä¸º<code>Yes</code>ï¼ŒReleaseè®¾ç½®ä¸º<code>No</code>ã€‚</p>
<p><strong>åŸå› </strong>æ˜¯ï¼š</p>
<p>å½“ç›´æ¥æŠŠ<code>Build Active Architecture Only</code> è®¾ç½®ä¸º<code>Yes</code>æ—¶ï¼Œå¯ä»¥ä½¿Debugçš„æ—¶å€™ç¼–è¯‘é€Ÿåº¦æ›´å¿«ï¼Œå› ä¸ºå®ƒåªç¼–è¯‘å½“å‰çš„Architectureç‰ˆæœ¬ã€‚</p>
<p>è€Œå¦‚æœè®¾ç½®ä¸º<code>No</code>ï¼Œåˆ™ç¼–è¯‘çš„äº‹æ‰€æœ‰çš„ç‰ˆæœ¬ã€‚</p>
<p><strong>æ³¨</strong>ï¼š<font color="#FF7F50">    å…¶ä¸­æåˆ°çš„ç‰ˆæœ¬æ˜¯Architectureçš„æ”¯æŒç‰ˆæœ¬ï¼š<code>arm64</code>ã€<code>armv7</code>ã€<code>armv7s</code>ã€<code>i386</code>ã€<code>x86_64</code>ç­‰ã€‚</font></p>
<p>å…¶ä¸­</p>
<font color="#808000"><br><strong><code>i386</code>æ˜¯é’ˆå¯¹intelé€šç”¨å¾®å¤„ç†å™¨32ä½å¤„ç†å™¨</strong><br><br><strong><code>x86_64</code>æ˜¯é’ˆå¯¹x86æ¶æ„çš„64ä½å¤„ç†å™¨</strong><br><br><strong>æ¨¡æ‹Ÿå™¨32ä½å¤„ç†å™¨æµ‹è¯•éœ€è¦<code>i386</code>æ¶æ„</strong><br><br><strong>æ¨¡æ‹Ÿå™¨64ä½å¤„ç†å™¨æµ‹è¯•éœ€è¦<code>x86_64</code>æ¶æ„</strong><br><br><strong>çœŸæœº32ä½å¤„ç†å™¨éœ€è¦<code>armv7</code>,æˆ–è€…<code>armv7s</code>æ¶æ„</strong><br><br><strong>çœŸæœº64ä½å¤„ç†å™¨éœ€è¦<code>arm64</code>æ¶æ„</strong><br><br></font>

<p>æ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬é»˜è®¤Debugè®¾ç½®ä¸º<code>Yes</code>ï¼ŒReleaseè®¾ç½®ä¸º<code>No</code>ã€‚ç¼–è¯‘å‡ºçš„ç‰ˆæœ¬æ˜¯å‘ä¸‹å…¼å®¹çš„ï¼Œè¿æ¥çš„è®¾å¤‡çš„æŒ‡ä»¤é›†åŒ¹é…æ˜¯ç”±é«˜åˆ°ä½ï¼ˆ<code>arm64</code> &gt; <code>armv7s</code> &gt; <code>armv7</code>ï¼‰ä¾æ¬¡åŒ¹é…çš„ã€‚æ¯”å¦‚ä½ è®¾ç½®æ­¤å€¼ä¸ºyesï¼Œç”¨iphone4ç¼–è¯‘å‡ºæ¥çš„æ˜¯<code>armv7</code>ç‰ˆæœ¬çš„ï¼Œiphone5ä¹Ÿå¯ä»¥è¿è¡Œï¼Œä½†æ˜¯<code>armv6</code>çš„è®¾å¤‡å°±ä¸èƒ½è¿è¡Œã€‚  æ‰€ä»¥ï¼Œä¸€èˆ¬Debugçš„æ—¶å€™å¯ä»¥é€‰æ‹©è®¾ç½®ä¸º<code>Yes</code>ï¼ŒReleaseçš„æ—¶å€™è¦æ”¹ä¸º<code>No</code>ï¼Œä»¥ä¾¿äºé€‚é…ä¸åŒçš„ç‰ˆæœ¬ã€‚<br><img src="http://obzx0h1re.bkt.clouddn.com/Build%20Active%20Architecture%20Only%20Picture.png" alt="    
Build Active Architecture Only Picture"></p>
<p><strong>ä½†ä¹Ÿæœ‰ç›´æ¥å°†<code>Build Active Architecture Only</code>è®¾ç½®ä¸º<code>No</code>çš„æƒ…å†µ</strong><br><img src="http://obzx0h1re.bkt.clouddn.com/Build%20Active%20Architecture%20Only1.png" alt="Build Active Architecture Only1"></p>
<p>è¿™æ ·åšçš„åŸå› æ˜¯å› ä¸ºä½¿ç”¨é»˜è®¤è®¾ç½®è¿è¡Œé¡¹ç›®æ—¶å‡ºç°é”™è¯¯ï¼š<font color="#FF6347"><strong><code>Module â€˜Alamofireâ€™ has no member â€˜requestâ€™</code></strong></font><br>è§£å†³æ–¹æ³•å°±æ˜¯ç›´æ¥éƒ½è®¾ç½®ä¸º<code>No</code>ã€‚</p>
<p><font color="#008000"><strong>é—®é¢˜</strong>ï¼š</font><br><img src="http://obzx0h1re.bkt.clouddn.com/Module%20%27Alamofire%27%20has%20no%20member%20%27request%27.png" alt="Module &#39;Alamofire&#39; has no member &#39;request&#39;"></p>
<p><font color="#008000"><strong>æ–¹æ³•</strong>ï¼š</font><br><img src="http://obzx0h1re.bkt.clouddn.com/Module%20%27Alamofire%27%20has%20no%20member%20%27request%27-answer.png" alt="Module &#39;Alamofire&#39; has no member &#39;request&#39;-answer"></p>
<p>ä¸€äº›æœ‰ç›Šéæµ…çš„é“¾æ¥ï¼š</p>
<p><a href="http://blog.csdn.net/lizhongfu2013/article/details/42387311" target="_blank" rel="external">iOSå¼€å‘ï½åˆ¶ä½œåŒæ—¶æ”¯æŒarmv7,armv7s,arm64,i386,x86_64çš„é™æ€åº“.a</a></p>
<p><a href="http://www.cnblogs.com/hikoming/p/3708659.html" target="_blank" rel="external">Xcodeçš„Architecturesã€Valid Architectureså’ŒBuild Active Architecture Onlyå±æ€§(åŸåˆ›)</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¹‹å‰åœ¨ç»™é¡¹ç›®é€‚é…64ä½æ—¶ï¼Œçœ‹åˆ°Xcodeä¸­æœ‰è¿™ä¸ªè®¾ç½®ï¼Œå› ä¸ºå…³ç³»åˆ°é€‚é…é—®é¢˜ï¼Œåˆæ¯”è¾ƒå¥½å¥‡ï¼Œå°±äº†è§£äº†ä¸€ç•ªã€‚å‘ç°è¿™ä¸ªè®¾ç½®ä¹Ÿæœ‰ä¸å°çš„ä½œç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://obzx0h1re.bkt.clouddn.com/Build%20Active%20Archi
    
    </summary>
    
    
      <category term="Xcode" scheme="https:guohuaden.com/tags/Xcode/"/>
    
  </entry>
  
  <entry>
    <title>èŠä¸€èŠWKWebView</title>
    <link href="https:guohuaden.com/2017/02/11/WKWebView/"/>
    <id>https:guohuaden.com/2017/02/11/WKWebView/</id>
    <published>2017-02-11T02:33:52.000Z</published>
    <updated>2017-02-14T00:57:40.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>ç”±äºä¹‹å‰ä¸€ç›´åœ¨ç”¨<code>UIWebView</code>,æ‰€ä»¥å¯¹äº<code>WKWebView</code>åªæ˜¯åœç•™åœ¨çŸ¥é“ï¼Œäº†è§£çš„çŠ¶æ€ï¼Œå¹¶æœªæ·±å…¥çš„å»ç ”ç©¶ã€‚å‰å¤©ä¸€ä¸ªé¡¹ç›®è¦æ±‚æ”¯æŒiOS8ä»¥ä¸Šï¼Œè¦åŠ å…¥ä¸€ä¸ªwebç•Œé¢ã€‚åœ¨ä¹ æƒ¯æ€§ä½¿ç”¨<code>UIWebView</code>å†™åˆ°ä¸€åŠçš„æ—¶å€™ï¼Œçªç„¶æƒ³ä½¿ç”¨<code>WKWebView</code>å»å®ç°ï¼Œæ‰€ä»¥ä¸“é—¨èŠ±è´¹äº†äº›æ—¶é—´å»ç ”ç©¶äº†ä¸€ä¸‹<code>WKWebView</code>ï¼Œå¾ˆæ˜¯å–œæ¬¢ã€‚</p>
<h3 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h3><p>æ¥ä¸‹æ¥çºªå½•ä¸€ä¸‹ä½¿ç”¨<code>WKWebView</code>çš„è¿‡ç¨‹ç»†èŠ‚ã€‚ä½†å…³äº<code>WKWebView</code>ä¸<code>js</code>äº’äº¤çš„éƒ¨åˆ†ä¿ç•™æ„è§ï¼Œå› ä¸ºå¹¶æ²¡æœ‰æ·±å…¥å»ç ”ç©¶è¿™ä¸€ç‚¹ã€‚</p>
<h3 id="1ã€å¼•å…¥WebKitåº“"><a href="#1ã€å¼•å…¥WebKitåº“" class="headerlink" title="1ã€å¼•å…¥WebKitåº“"></a>1ã€å¼•å…¥WebKitåº“</h3><p>Appleæ–¹é¢ä¸ºä½¿ç”¨<code>WKWebView</code>ä¸“é—¨æ·»åŠ äº†<code>WebKit</code>åº“ï¼Œåœ¨ä½¿ç”¨<code>WKWebView</code>æ—¶å€™å¿…é¡»å¼•å…¥<code>WebKit</code>åº“æ‰å¯ä»¥ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#import &lt;WebKit/WebKit.h&gt;</div></pre></td></tr></table></figure></p>
<h3 id="2ã€åˆå§‹åŒ–WKWebView"><a href="#2ã€åˆå§‹åŒ–WKWebView" class="headerlink" title="2ã€åˆå§‹åŒ–WKWebView"></a>2ã€åˆå§‹åŒ–WKWebView</h3><p>åœ¨æ–‡æ¡£ä¸­å¯ä»¥çœ‹å‡ºï¼Œ<code>WKWebView</code>çš„åˆå§‹åŒ–æ–¹æ³•æœ‰ä¸¤ç§ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">- (instancetype)initWithFrame:(CGRect)frame;</div><div class="line">- (instancetype)initWithFrame:(CGRect)frame configuration:(WKWebViewConfiguration *)configuration NS_DESIGNATED_INITIALIZER</div></pre></td></tr></table></figure>
<ul>
<li>æˆ‘ä»¬å¤§å¤šä½¿ç”¨ç¬¬ä¸€ç§æ–¹å¼ï¼Œè¿™ä¹Ÿæ˜¯æ–‡æ¡£ä¸­é»˜è®¤çš„ä¸€ç§æ–¹å¼ã€‚è¿™é‡Œä¸å†å¤šè¯´ã€‚</li>
<li>å…³äºç¬¬äºŒç§æ–¹å¼ï¼Œå…¶å®å°±æ˜¯åœ¨åˆå§‹åŒ–<code>WKWebView</code>æ—¶ï¼Œç»™<code>webView</code>åšä¸€ä¸ªé…ç½®ï¼Œæˆ‘è¿™é‡Œç»™å‡ºä¸€æ®µç®€å•çš„é…ç½®ä»£ç ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">WKWebViewConfiguration *config = [[WKWebViewConfiguration alloc]init];</div><div class="line">config.preferences = [WKPreferences new];</div><div class="line">config.preferences.minimumFontSize = 20.f;</div><div class="line">config.preferences.javaScriptEnabled = YES; //The default value is YES</div><div class="line">config.preferences.javaScriptCanOpenWindowsAutomatically = NO;//The default value is NO in iOS and YES in OS X.</div><div class="line">//config.preferences.javaEnabled = NO ; //The default value is NO .ä¸åœ¨iphoneä¸­ä½¿ç”¨çš„æ–¹æ³•</div><div class="line">config.userContentController = [WKUserContentController new];  </div><div class="line">self.webView = [[WKWebView alloc]initWithFrame:self.view.bounds configuration:config];</div></pre></td></tr></table></figure>
<p><strong>æ³¨ï¼š</strong>å…¶å®ç¬¬ä¸€ç§æ–¹å¼ï¼Œè™½ç„¶æˆ‘ä»¬å¹¶æ²¡æœ‰æŒ‡å®šåˆå§‹åŒ–çš„é…ç½®ï¼Œä½†Appleä¹Ÿä¸ºæˆ‘ä»¬æŒ‡å®šäº†ä¸€ä¸ªé»˜è®¤çš„é…ç½®ã€‚</p>
<h3 id="3ã€åŠ è½½ç½‘é¡µ"><a href="#3ã€åŠ è½½ç½‘é¡µ" class="headerlink" title="3ã€åŠ è½½ç½‘é¡µ"></a>3ã€åŠ è½½ç½‘é¡µ</h3><p>æ–¹æ³•æœ‰å‡ ç§ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„æ˜¯</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">NSURLRequest *request = [[NSURLRequest alloc]initWithURL:[NSURL URLWithString:@&quot;https://www.baidu.com&quot;]];</div><div class="line">[self.webView loadRequest:request];</div></pre></td></tr></table></figure>
<p>å‰©ä¸‹çš„å‡ ç§ä¸ºï¼š</p>
<pre><code>[self.webView loadHTMLString:(nonnull NSString *) baseURL:(nullable NSURL *)];

[self.webView loadFileURL:(nonnull NSURL *) allowingReadAccessToURL:(nonnull NSURL *)];

[self.webView loadData:(nonnull NSData *) MIMEType:(nonnull NSString *) characterEncodingName:(nonnull NSString *) baseURL:(nonnull NSURL *)];
</code></pre><h3 id="4ã€åŠ è½½jsä»£ç "><a href="#4ã€åŠ è½½jsä»£ç " class="headerlink" title="4ã€åŠ è½½jsä»£ç "></a>4ã€åŠ è½½jsä»£ç </h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">// å›¾ç‰‡ç¼©æ”¾çš„jsä»£ç </div><div class="line">NSString *js = @&quot;var count = document.images.length;for (var i = 0; i &lt; count; i++) &#123;var image = document.images[i];image.style.width=500;image.style.height=600;&#125;;window.alert(&apos;æ‰¾åˆ°&apos; + count + &apos;å¼ å›¾&apos;);&quot;;</div><div class="line">// æ ¹æ®JSå­—ç¬¦ä¸²åˆå§‹åŒ–WKUserScriptå¯¹è±¡</div><div class="line">WKUserScript *script = [[WKUserScript alloc] initWithSource:js injectionTime:WKUserScriptInjectionTimeAtDocumentEnd forMainFrameOnly:YES];</div><div class="line">// æ ¹æ®ç”Ÿæˆçš„WKUserScriptå¯¹è±¡ï¼Œåˆå§‹åŒ–WKWebViewConfiguration</div><div class="line">WKWebViewConfiguration *config = [[WKWebViewConfiguration alloc] init];</div><div class="line">[config.userContentController addUserScript:script];</div><div class="line">_webView = [[WKWebView alloc] initWithFrame:self.view.bounds configuration:config];</div><div class="line">[_webView loadHTMLString:@&quot;&lt;head&gt;&lt;/head&gt;&lt;img src=&apos;http://og3hqoz3g.bkt.clouddn.com/%E5%B9%B8%E7%A6%8F%E9%82%AE%E5%B1%80.jpg&apos; /&gt;&quot;baseURL:nil];</div><div class="line">[self.view addSubview:_webView];</div></pre></td></tr></table></figure>
<h3 id="5ã€ä»£ç†"><a href="#5ã€ä»£ç†" class="headerlink" title="5ã€ä»£ç†"></a>5ã€ä»£ç†</h3><p><code>WKWebView</code>çš„ä»£ç†æœ‰ä¸¤ä¸ªï¼š<code>WKNavigationDelegate</code> å’Œ <code>WKUIDelegate</code></p>
<ul>
<li><strong>5.1ã€ WKNavigationDelegateï¼ˆåŠ è½½ç•Œé¢æ—¶è°ƒç”¨çš„åè®®æ–¹æ³•ï¼‰</strong></li>
</ul>
<p>è¿‡ç¨‹ï¼š</p>
<ol>
<li>åœ¨è¯·æ±‚å‘é€ä¹‹å‰ï¼Œå†³å®šæ˜¯å¦è·³è½¬</li>
<li>é¡µé¢å¼€å§‹åŠ è½½æ—¶è°ƒç”¨</li>
<li>åœ¨æ”¶åˆ°å“åº”åï¼Œå†³å®šæ˜¯å¦è·³è½¬</li>
<li>å†…å®¹å¼€å§‹åŠ è½½æ—¶è°ƒç”¨</li>
<li>æ¥æ”¶åˆ°æœåŠ¡å™¨è·³è½¬è¯·æ±‚ä¹‹åè°ƒç”¨ï¼ˆä¸ä¸€å®šè°ƒç”¨è¯¥æ–¹æ³•ï¼‰</li>
<li>é¡µé¢åŠ è½½å®Œæˆæ—¶è°ƒç”¨</li>
<li>è¯·æ±‚å¤±è´¥æ—¶è°ƒç”¨</li>
</ol>
<p>åè®®æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line">//é¡µé¢å¼€å§‹åŠ è½½æ—¶è°ƒç”¨</div><div class="line">- (void)webView:(WKWebView *)webView didStartProvisionalNavigation:(null_unspecified WKNavigation *)navigation</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;é¡µé¢å¼€å§‹åŠ è½½æ—¶è°ƒç”¨ã€‚   2&quot;);</div><div class="line">&#125;</div><div class="line">//å†…å®¹è¿”å›æ—¶è°ƒç”¨ï¼Œå¾—åˆ°è¯·æ±‚å†…å®¹æ—¶è°ƒç”¨(å†…å®¹å¼€å§‹åŠ è½½) -&gt; viewçš„è¿‡æ¸¡åŠ¨ç”»å¯åœ¨æ­¤æ–¹æ³•ä¸­åŠ è½½</div><div class="line">- (void)webView:(WKWebView *)webView didCommitNavigation:( WKNavigation *)navigation</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;å†…å®¹è¿”å›æ—¶è°ƒç”¨ï¼Œå¾—åˆ°è¯·æ±‚å†…å®¹æ—¶è°ƒç”¨ã€‚ 4&quot;);</div><div class="line">&#125;</div><div class="line">//é¡µé¢åŠ è½½å®Œæˆæ—¶è°ƒç”¨</div><div class="line">- (void)webView:(WKWebView *)webView didFinishNavigation:( WKNavigation *)navigation</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;é¡µé¢åŠ è½½å®Œæˆæ—¶è°ƒç”¨ã€‚ 5&quot;);</div><div class="line">&#125;</div><div class="line">//è¯·æ±‚å¤±è´¥æ—¶è°ƒç”¨</div><div class="line">- (void)webView:(WKWebView *)webView didFailProvisionalNavigation:(WKNavigation *)navigation withError:(NSError *)error</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;error1:%@&quot;,error);</div><div class="line">&#125;</div><div class="line">-(void)webView:(WKWebView *)webView didFailNavigation:(WKNavigation *)navigation withError:(NSError *)error</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;error2:%@&quot;,error);</div><div class="line">&#125;</div><div class="line">//åœ¨è¯·æ±‚å‘é€ä¹‹å‰ï¼Œå†³å®šæ˜¯å¦è·³è½¬ -&gt; è¯¥æ–¹æ³•å¦‚æœä¸å®ç°ï¼Œç³»ç»Ÿé»˜è®¤è·³è½¬ã€‚å¦‚æœå®ç°è¯¥æ–¹æ³•ï¼Œåˆ™éœ€è¦è®¾ç½®å…è®¸è·³è½¬ï¼Œä¸è®¾ç½®åˆ™æŠ¥é”™ã€‚</div><div class="line">//è¯¥æ–¹æ³•æ‰§è¡Œåœ¨åŠ è½½ç•Œé¢ä¹‹å‰</div><div class="line">//Terminating app due to uncaught exception &apos;NSInternalInconsistencyException&apos;, reason: &apos;Completion handler passed to -[ViewController webView:decidePolicyForNavigationAction:decisionHandler:] was not called&apos;</div><div class="line">- (void)webView:(WKWebView *)webView decidePolicyForNavigationAction:(WKNavigationAction *)navigationAction decisionHandler:(void (^)(WKNavigationActionPolicy))decisionHandler</div><div class="line">&#123;</div><div class="line">    //å…è®¸è·³è½¬</div><div class="line">    decisionHandler(WKNavigationActionPolicyAllow);</div><div class="line">    </div><div class="line">    //ä¸å…è®¸è·³è½¬</div><div class="line">//    decisionHandler(WKNavigationActionPolicyCancel);</div><div class="line">    NSLog(@&quot;åœ¨è¯·æ±‚å‘é€ä¹‹å‰ï¼Œå†³å®šæ˜¯å¦è·³è½¬ã€‚  1&quot;);</div><div class="line">&#125;</div><div class="line">//åœ¨æ”¶åˆ°å“åº”åï¼Œå†³å®šæ˜¯å¦è·³è½¬ï¼ˆåŒä¸Šï¼‰</div><div class="line">//è¯¥æ–¹æ³•æ‰§è¡Œåœ¨å†…å®¹è¿”å›ä¹‹å‰</div><div class="line">- (void)webView:(WKWebView *)webView decidePolicyForNavigationResponse:(WKNavigationResponse *)navigationResponse decisionHandler:(void (^)(WKNavigationResponsePolicy))decisionHandler</div><div class="line">&#123;</div><div class="line">    //å…è®¸è·³è½¬</div><div class="line">    decisionHandler(WKNavigationResponsePolicyAllow);</div><div class="line">    //ä¸å…è®¸è·³è½¬</div><div class="line">//    decisionHandler(WKNavigationResponsePolicyCancel);</div><div class="line">    NSLog(@&quot;åœ¨æ”¶åˆ°å“åº”åï¼Œå†³å®šæ˜¯å¦è·³è½¬ã€‚ 3&quot;);</div><div class="line">    </div><div class="line">&#125;</div><div class="line">//æ¥æ”¶åˆ°æœåŠ¡å™¨è·³è½¬è¯·æ±‚ä¹‹åè°ƒç”¨</div><div class="line">- (void)webView:(WKWebView *)webView didReceiveServerRedirectForProvisionalNavigation:(null_unspecified WKNavigation *)navigation</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;æ¥æ”¶åˆ°æœåŠ¡å™¨è·³è½¬è¯·æ±‚ä¹‹åè°ƒç”¨&quot;);</div><div class="line">&#125;</div><div class="line">-(void)webViewWebContentProcessDidTerminate:(WKWebView *)webView</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;webViewWebContentProcessDidTerminate&quot;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><strong>5.2ã€WKUIDelegate</strong></li>
</ul>
<p>è¿™æ–¹é¢åŒ…æ‹¬ï¼šåˆ›å»ºæ–°çš„WebViewã€ç•Œé¢å¼¹å‡ºæç¤ºæ¡†<br><strong><em>åˆ›å»ºæ–°çš„WebView</em></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">// åˆ›å»ºä¸€ä¸ªæ–°çš„WebView</div><div class="line">- (WKWebView *)webView:(WKWebView *)webView createWebViewWithConfiguration:(WKWebViewConfiguration *)configuration forNavigationAction:(WKNavigationAction *)navigationAction windowFeatures:(WKWindowFeatures *)windowFeatures;</div></pre></td></tr></table></figure>
<p><strong><em>ç•Œé¢å¼¹å‡ºæç¤ºæ¡†</em></strong></p>
<p>ç³»ç»Ÿæä¾›äº†ä¸‰ç§å¼¹å‡ºæç¤ºæ¡†çš„æ–¹æ³•ï¼šè­¦å‘Šæ¡†ã€ç¡®è®¤æ¡†ã€è¾“å…¥æ¡†</p>
<p>ç›´æ¥æŸ¥çœ‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line">//è­¦å‘Šæ¡†</div><div class="line">/**</div><div class="line"> webViewç•Œé¢ä¸­æœ‰å¼¹å‡ºè­¦å‘Šæ¡†æ—¶è°ƒç”¨</div><div class="line"> @param webView             webè§†å›¾è°ƒç”¨å§”æ‰˜æ–¹æ³•</div><div class="line"> @param message             è­¦å‘Šæ¡†æç¤ºå†…å®¹</div><div class="line"> @param frame               ä¸»çª—å£</div><div class="line"> @param completionHandler   è­¦å‘Šæ¡†æ¶ˆå¤±è°ƒç”¨</div><div class="line"> */</div><div class="line">- (void)webView:(WKWebView *)webView runJavaScriptAlertPanelWithMessage:(NSString *)message initiatedByFrame:(WKFrameInfo *)frame completionHandler:(void (^)(void))completionHandler</div><div class="line">&#123;</div><div class="line">    completionHandler();</div><div class="line">    NSLog(@&quot;è­¦å‘Šæ¡†&quot;);</div><div class="line">&#125;</div><div class="line">//è¾“å…¥æ¡†</div><div class="line">/**</div><div class="line"> webç•Œé¢ä¸­å¼¹å‡ºè¾“å…¥æ¡†æ—¶è°ƒç”¨</div><div class="line"> @param webView             webè§†å›¾è°ƒç”¨å§”æ‰˜æ–¹æ³•</div><div class="line"> @param prompt              è¾“å…¥æ¶ˆæ¯çš„æ˜¾ç¤º</div><div class="line"> @param defaultText         åˆå§‹åŒ–æ—¶æ˜¾ç¤ºçš„è¾“å…¥æ–‡æœ¬</div><div class="line"> @param frame               ä¸»çª—å£</div><div class="line"> @param completionHandler   è¾“å…¥ç»“æŸåè°ƒç”¨</div><div class="line"> */</div><div class="line">-(void)webView:(WKWebView *)webView runJavaScriptTextInputPanelWithPrompt:(NSString *)prompt defaultText:(NSString *)defaultText initiatedByFrame:(WKFrameInfo *)frame completionHandler:(void (^)(NSString * _Nullable))completionHandler</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;è¾“å…¥æ¡†&quot;);</div><div class="line">    completionHandler(@&quot;http&quot;);</div><div class="line">&#125;</div><div class="line">//ç¡®è®¤æ¡†</div><div class="line">/**</div><div class="line"> æ˜¾ç¤ºä¸€ä¸ªJavaScriptç¡®è®¤é¢æ¿</div><div class="line"> @param webView             webè§†å›¾è°ƒç”¨å§”æ‰˜æ–¹æ³•</div><div class="line"> @param message             æ˜¾ç¤ºçš„ä¿¡æ¯</div><div class="line"> @param frame               ä¸»çª—å£</div><div class="line"> @param completionHandler   ç¡®è®¤åå®Œæˆå¤„ç†ç¨‹åºè°ƒç”¨</div><div class="line"> */</div><div class="line">-(void)webView:(WKWebView *)webView runJavaScriptConfirmPanelWithMessage:(NSString *)message initiatedByFrame:(WKFrameInfo *)frame completionHandler:(void (^)(BOOL))completionHandler</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;ç¡®è®¤æ¡†&quot;);</div><div class="line">    completionHandler(YES);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><em>ä»¥ä¸Šå°±æ˜¯WKWebViewåŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼Œå…¶ä»–çš„ä¸åšæ‰©å±•å’Œè¡¥å……ã€‚ä¹Ÿè®¸ä»¥åå†æ·±å…¥ç ”ç©¶æ—¶ï¼Œä¼šæœ‰ä¸ä¸€æ ·çš„çœ‹æ³•ï¼Œåˆ°æ—¶å†åšæ¨ç¿»æˆ–è¡¥å……ã€‚</em></p>
<p>ä»¥ä¸‹æ˜¯ä¸ªäººçš„ä¸€ç‚¹çœ‹æ³•ï¼š</p>
<ol>
<li><code>WKWebView</code>æ˜¯åœ¨iOS8ä¹‹åå‡ºç°çš„æ–°çš„ç½‘é¡µåŠ è½½æ§ä»¶ï¼Œå°†æ¥ä¹Ÿå¿…å°†å–ä»£<code>UIWebView</code>ï¼Œè¿™æ˜¯æ¯‹åº¸ç½®ç–‘çš„äº‹æƒ…ã€‚</li>
<li>å…³äºé¡¹ç›®ä¼˜åŒ–æ–¹é¢ï¼šå…¶å®å¾ˆå¤šäººå»ºè®®åœ¨é¡¹ç›®ä¸­æ·»åŠ <code>WKWebView</code>å»æ›¿ä»£<code>UIWebView</code>ã€‚ä»¥æœªæ¥çš„å‘å±•è¶‹åŠ¿æ¥çœ‹ï¼Œè¿™ç‚¹æ— å¯åšéã€‚</li>
</ol>
<p>æˆ‘ä¸‹é¢æƒ³è¯´çš„æ˜¯ç«™åœ¨è€é¡¹ç›®å¹¶ä¸”å…¶ä¸­å†…åµŒç½‘é¡µæ¯”è¾ƒå¤šçš„ç«‹åœºçš„ï¼ŒiOS8ä»¥ä¸Šä½¿ç”¨<code>WKWebView</code>ï¼ŒiOS8ä»¥ä¸‹ä½¿ç”¨<code>UIWebView</code>ã€‚è¿™æ˜¯ç›®å‰è§£å†³æ–¹æ¡ˆçš„å¥½åŠæ³•ã€‚ä½†ç»´æŠ¤å’Œä¼˜åŒ–éƒ½éœ€è¦æˆæœ¬ï¼Œæ—¶é—´ä¹Ÿæ˜¯æˆæœ¬çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>è¿™é‡Œé™„ä¸Šdemoä¸€ä»½ï¼š<a href="https://github.com/Wheat-Qin/WKWebView_test" target="_blank" rel="external">WKWebViewä»£ç </a></p>
<p>è¿™é‡Œç»™å‡ºå‡ ä¸ªè®²è§£<code>WKWebView</code>çš„ğŸ”—,å¯¹æˆ‘å¸®åŠ©å¾ˆå¤§ï¼š</p>
<ol>
<li><a href="http://www.brighttj.com/ios/ios-wkwebview-new-features-and-use.html" target="_blank" rel="external">WKWebViewçš„æ–°ç‰¹æ€§ä¸ä½¿ç”¨</a></li>
<li><a href="http://www.jianshu.com/p/6ba2507445e4" target="_blank" rel="external">ä½¿ç”¨WKWebViewæ›¿æ¢UIWebView</a> </li>
<li><a href="http://www.cnblogs.com/junhuawang/p/5759224.html" target="_blank" rel="external">UIWebViewã€WKWebViewä½¿ç”¨è¯¦è§£åŠæ€§èƒ½åˆ†æ</a></li>
<li><a href="http://www.jianshu.com/p/7bb5f15f1daa" target="_blank" rel="external">WKWebViewå­¦ä¹ ç¬”è®°</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h3&gt;&lt;p&gt;ç”±äºä¹‹å‰ä¸€ç›´åœ¨ç”¨&lt;code&gt;UIWebView&lt;/code&gt;,æ‰€ä»¥å¯¹äº&lt;code&gt;WKWebView&lt;/code&gt;åªæ˜¯åœç•™åœ¨çŸ¥é“ï¼Œäº†è§£çš„çŠ¶æ€
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºappæ”¯æŒ64bit</title>
    <link href="https:guohuaden.com/2017/01/15/support-64bit/"/>
    <id>https:guohuaden.com/2017/01/15/support-64bit/</id>
    <published>2017-01-15T07:18:34.000Z</published>
    <updated>2017-01-16T02:13:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>å…³äºiOSåº”ç”¨ï¼Œå…¶å®è‹¹æœå¾ˆæ—©å°±å°±å‘å¸ƒæ¶ˆæ¯ï¼š2015å¹´çš„2æœˆå¼€å§‹ï¼Œæäº¤App Storeçš„åº”ç”¨å¿…é¡»æ”¯æŒ64-bitã€‚è€ŒAppleåœ¨iPhone 5s å°±å·²ç»æ­é…64ä½åŒæ ¸è‹¹æœA7å¤„ç†å™¨ã€‚è¿˜æ˜¯åœ¨15å¹´6æœˆï¼Œè‹¹æœApp Storeä¸­æ‰€æœ‰åº”ç”¨æ›´æ–°éƒ½å¿…é¡»æ”¯æŒ64bitã€‚</p>
<p>ä½†è¿™å¯¹äºä¼ä¸šçº§åº”ç”¨æ¥è¯´ï¼Œå¹¶ä¸èƒ½é™åˆ¶åº”ç”¨å»æ”¯æŒ64bitï¼Œå› ä¸ºä¼ä¸šçº§åº”ç”¨ä¸å¿…æäº¤App Storeå®¡æ ¸ã€‚ä½†Appleåˆæœ‰äº†æ–°çš„å¯¹ç­–ï¼šåœ¨iOS 10.1æµ‹è¯•ç‰ˆä¸­åŠ å…¥äº†ä¸€é¡¹æç¤ºï¼Œå¦‚æœç”¨æˆ·ä¸‹è½½çš„æ˜¯ä¸€ä¸ª32ä½åº”ç”¨ï¼Œç³»ç»Ÿä¼šæç¤º<code>â€œXXXâ€å¯èƒ½ä½¿iPhoneå˜æ…¢ï¼Œåº”ç”¨å¼€å‘è€…éœ€è¦æ›´æ–°æ­¤åº”ç”¨ä»¥æ”¹è¿›å…¶å…¼å®¹æ€§ã€‚</code></p>
<p><img src="http://obzx0h1re.bkt.clouddn.com/64Bit-Prompt.jpg" alt="æç¤ºæ•ˆæœå›¾"><br>ç°åœ¨çœ‹æ¥Appleè¿™ç§æ–¹å¼ï¼Œå¯ç®—æ˜¯æœ€æœ‰æ•ˆçš„æ–¹å¼äº†ï¼Œå› ä¸ºè¿™æ ·ä¼šç›´æ¥å¯¼è‡´ç”¨æˆ·å¯¹ä¸€ä¸ªåº”ç”¨çš„ä¸åŒæ€åº¦ã€‚ç”šè‡³æ˜¯ä¸æ­¢é™ä½ç”¨æˆ·é‡ã€‚å¦‚æœæ˜¯ä¼ä¸šçº§ç”¨æˆ·ï¼Œå¯ä»¥ç›´æ¥å¼•èµ·ç”¨æˆ·çš„å¼ºçƒˆä¸æ»¡ã€‚</p>
<p>ä¸ç®¡æ€ä¹ˆè¯´ï¼Œä½œä¸ºä¸€ä¸ªiOSå¼€å‘è€…ï¼Œæ—¢ç„¶Appleå·²ç»æå‡ºï¼Œè¿˜æ˜¯è¦å»æ”¯æŒ64-bitã€‚</p>
<p>å…·ä½“åšæ³•ï¼š<br><img src="http://obzx0h1re.bkt.clouddn.com/64Bit-Work.png" alt="æ–¹æ³•å¦‚å›¾"></p>
<p>å…³äºXcode <code>â€œBuild Settingâ€</code>ä¸­çš„<code>Architectures</code>å‚æ•°é—®é¢˜ï¼š</p>
<ul>
<li><p><code>Architectures</code>ï¼šä½ æƒ³æ”¯æŒçš„æŒ‡ä»¤é›†ã€‚ï¼ˆæ”¯æŒæŒ‡ä»¤é›†æ˜¯é€šè¿‡ç¼–è¯‘ç”Ÿæˆå¯¹åº”çš„äºŒè¿›åˆ¶æ•°æ®åŒ…å®ç°çš„ï¼Œå¦‚æœæ”¯æŒçš„æŒ‡ä»¤é›†æ•°ç›®æœ‰å¤šä¸ªï¼Œå°±ä¼šç¼–è¯‘å‡ºåŒ…å«å¤šä¸ªæŒ‡ä»¤é›†ä»£ç çš„æ•°æ®åŒ…ï¼Œé€ æˆæœ€ç»ˆç¼–è¯‘çš„åŒ…å¾ˆå¤§ã€‚ï¼‰</p>
</li>
<li><p><code>Valid architectures</code>ï¼šå³å°†ç¼–è¯‘çš„æŒ‡ä»¤é›†ã€‚ï¼ˆ<code>Valid architectures</code> å’Œ <code>Architecture</code>ä¸¤ä¸ªé›†åˆçš„äº¤é›†ä¸ºæœ€ç»ˆç¼–è¯‘ç”Ÿæˆçš„ç‰ˆæœ¬ï¼‰</p>
</li>
<li><p><code>Build Active Architecture Only</code>ï¼šæ˜¯å¦åªç¼–è¯‘å½“å‰è®¾å¤‡é€‚ç”¨çš„æŒ‡ä»¤é›†ï¼ˆå¦‚æœè¿™ä¸ªå‚æ•°è®¾ä¸ºYESï¼Œä½¿ç”¨iPhone 6è°ƒè¯•ï¼Œé‚£ä¹ˆæœ€ç»ˆç”Ÿæˆçš„ä¸€ä¸ªæ”¯æŒARM64æŒ‡ä»¤é›†çš„Binaryã€‚ä¸€èˆ¬åœ¨DEBUGæ¨¡å¼ä¸‹è®¾ä¸ºYESï¼ŒRELEASEè®¾ä¸ºNOï¼‰</p>
</li>
</ul>
<p>å¯¹äºæ”¯æŒ64-bit,æˆ‘ä»¬å¯ä»¥è®¾ç½®<code>Architectures</code>ä¸º <code>Standard architectures</code>ï¼Œå®ƒåŒ…æ‹¬ <code>armv7ã€armv7s å’Œ arm64</code>ã€‚</p>
<p>è€Œæ˜¯å¯¹äºä»£ç ä¸­çš„æ”¹å˜å…¶å®ä¹Ÿå°±åˆ†ä¸ºï¼š<strong>æ•°æ®ç±»å‹å’Œæ–¹æ³•è°ƒç”¨</strong> ä¸¤ä¸ªéƒ¨åˆ†ã€‚</p>
<p>æ¯”å¦‚ï¼š<code>int -&gt; NSInteger</code></p>
<p>ä»¥åŠå¾—åˆ°æ•°ç»„ä¸ªæ•°çš„æ–¹æ³•ï¼š<code>[dataArray count] -&gt; dataArray.count</code></p>
<p>è¿™æ˜¯å…³äºæ•°æ®ç±»å‹æ”¹å˜çš„æ€»ç»“ï¼š<br><img src="http://obzx0h1re.bkt.clouddn.com/64bit-Summary.png" alt="64bit-Summary"><br>ä¸Šå›¾æ‰€è¯´ï¼š</p>
<ul>
<li>é¿å…å°†é•¿æ•´å‹longèµ‹å€¼ç»™æ•´å‹int (64-bitä¸Šä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±)</li>
<li>é¿å…å°†æŒ‡é’ˆç±»å‹pointerèµ‹å€¼ç»™æ•´å‹int (64-bitå¯¼è‡´åœ°å€æ•°æ®ä¸¢å¤±)ã€‚</li>
<li>ç•™æ„æ•°å€¼è®¡ç®—ï¼Œé¿å…æŒ‡é’ˆå’Œé•¿æ•´å‹åœ¨è¿ç®—ä¸Šçš„æˆªæ–­é—®é¢˜(æ©ç è®¡ç®—,æ— ç¬¦å·æ•´æ•°å’Œæœ‰ç¬¦å·æ•´æ•°åŒæ—¶ä½¿ç”¨ç­‰)ã€‚</li>
<li>ç•™æ„å¯¹é½æ–¹æ³•å¸¦æ¥çš„å˜åŒ–ã€‚</li>
<li>32-bitåˆ°64-bitä¹‹é—´æ•°æ®è½¬åŒ–(é€šè¿‡ç½‘ç»œä¼ é€’çš„ç”¨æˆ·æ•°æ®ï¼Œå¯èƒ½åŒæ—¶å­˜åœ¨äº32-bitå’Œ64-bitçš„ç¯å¢ƒä¸‹)ã€‚</li>
<li>é‡å†™æ±‡ç¼–ä»£ç ï¼Œè®©ä½ çš„ä»£ç ä½¿ç”¨æ–°çš„64-bitæ“ä½œç å’Œè¿è¡Œæ—¶ã€‚</li>
<li>ä¸è¦åœ¨å¯å˜å‚æ•°æ–¹æ³•å’Œä¸å¯å˜å‚æ•°æ–¹æ³•ä¹‹å‰è¿›è¡Œå¼ºåˆ¶è½¬åŒ–ã€‚</li>
</ul>
<p>å…·ä½“å¯ä»¥çœ‹ï¼šã€Š<a href="https://developer.apple.com/library/content/documentation/General/Conceptual/CocoaTouch64BitGuide/Major64-BitChanges/Major64-BitChanges.html" target="_blank" rel="external">64-Bit Transition Guide for Cocoa Touch</a>ã€‹</p>
<p>å…³äºiOSåº”ç”¨æ”¯æŒ64ä½çš„ä¸€äº›è¯¦æƒ…ï¼Œå¯ä»¥çœ‹çœ‹è¿™ç¯‡ä¸é”™çš„æ–‡ç« ï¼š<br>ã€Š<a href="http://www.codeceo.com/article/ios-64-bit.html" target="_blank" rel="external">iOSåº”ç”¨å¦‚ä½•å®ç°64ä½çš„æ”¯æŒ</a>ã€‹</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å…³äºiOSåº”ç”¨ï¼Œå…¶å®è‹¹æœå¾ˆæ—©å°±å°±å‘å¸ƒæ¶ˆæ¯ï¼š2015å¹´çš„2æœˆå¼€å§‹ï¼Œæäº¤App Storeçš„åº”ç”¨å¿…é¡»æ”¯æŒ64-bitã€‚è€ŒAppleåœ¨iPhone 5s å°±å·²ç»æ­é…64ä½åŒæ ¸è‹¹æœA7å¤„ç†å™¨ã€‚è¿˜æ˜¯åœ¨15å¹´6æœˆï¼Œè‹¹æœApp Storeä¸­æ‰€æœ‰åº”ç”¨æ›´æ–°éƒ½å¿…é¡»æ”¯æŒ64bitã€‚&lt;/p&gt;
&lt;p
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>iOSä¹‹é¡¹ç›®æ€»ç»“äºŒï¼šå…³äºé¡¹ç›®ä¸­ä¸€äº›åŠŸèƒ½çš„æ”¹è¿›å»ºè®®ï¼ˆä»ä¸€ä¸ªç»´æŠ¤è€…çš„è§’åº¦ï¼‰</title>
    <link href="https:guohuaden.com/2017/01/11/project-summary-two/"/>
    <id>https:guohuaden.com/2017/01/11/project-summary-two/</id>
    <published>2017-01-11T15:38:00.000Z</published>
    <updated>2017-05-02T01:35:09.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€ï¼š"><a href="#å‰è¨€ï¼š" class="headerlink" title="å‰è¨€ï¼š"></a>å‰è¨€ï¼š</h3><p>æœ€è¿‘ä¸€ç›´åœ¨ç»´æŠ¤è€çš„é¡¹ç›®ï¼Œé‡åˆ°çš„é—®é¢˜ä¹Ÿåƒå¥‡ç™¾æ€ªï¼Œéœ€è¦ä¿®è¡¥çš„ï¼Œéœ€è¦ä¼˜åŒ–çš„ï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†çš„ï¼Œæ„Ÿè§‰æ€»æ˜¯é‚£ä¹ˆçš„æ— è¯­ã€‚ä¹Ÿè®¸è¿™æ—¶å€™ä¹Ÿåº”è¯¥æ„Ÿå¹ä¸€å¥ï¼šè·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢å§ã€‚<br>è¿™ç¯‡æ–‡ç« å°±åªæ˜¯è®²è®²è€é¡¹ç›®ä¸­é‡åˆ°çš„ç§ç§ä¸æ•¢è‹ŸåŒçš„ä»£ç å†™æ³•ï¼Œä»¥åŠé‡åˆ°ä¸€äº›é—®é¢˜æ—¶çš„å¤„ç†æ–¹æ³•ã€‚</p>
<h3 id="1ã€å…³äºæŒ‰é’®äº‹ä»¶çš„é‡å¤ç‚¹å‡»é—®é¢˜"><a href="#1ã€å…³äºæŒ‰é’®äº‹ä»¶çš„é‡å¤ç‚¹å‡»é—®é¢˜" class="headerlink" title="1ã€å…³äºæŒ‰é’®äº‹ä»¶çš„é‡å¤ç‚¹å‡»é—®é¢˜"></a>1ã€å…³äºæŒ‰é’®äº‹ä»¶çš„é‡å¤ç‚¹å‡»é—®é¢˜</h3><p>æˆ‘ä»¬å¼€å‘ä¸­å¤§æ¦‚éƒ½ç»å†è¿‡è¿™æ ·çš„äº‹æƒ…ï¼Œæˆ‘çš„ä¸€ä¸ª<code>button</code>è¢«é‡å¤çš„å¿«é€Ÿç‚¹å‡»ï¼Œï¼ˆæˆ‘ä»¬å¼€å‘è€…åº”è¯¥æ›´æ¸…æ¥šçš„çŸ¥é“è¿™æ„å‘³ç€ä»€ä¹ˆï¼‰ã€‚é‚£æˆ‘ä»¬å†æ·±å…¥çš„æƒ³ä¸€ä¸‹ï¼ˆç»™è¿™æ ·çš„äº‹ä»¶å®‰æ’ä¸€ä¸ªç‰¹å®šçš„ç¯å¢ƒï¼‰ï¼šä¾‹å¦‚å½“ç½‘ç»œè¾ƒå·®çš„æƒ…å†µä¸‹ï¼Œå†ä¾‹å¦‚å½“<code>button</code>çš„æ‰§è¡Œäº‹ä»¶è¾ƒä¸ºè€—æ—¶æ—¶ã€‚è¿™æ—¶å°±ä¼šå‡ºç°å¾ˆå¤šçš„é—®é¢˜ï¼šæœ‰æ—¶æ˜¯ç•Œé¢å‡ºç°é—®é¢˜ï¼ˆå½“<code>button</code>æ‰§è¡Œäº‹ä»¶ä¸­å‡ºç°è°ƒèŠ‚ç•Œé¢<code>frame</code>çš„æ—¶å€™ï¼‰ï¼›æœ‰æ—¶åˆ™ä¼šå‡ºç°å¡é¡¿ï¼Œæ›´ç”šè‡³ä¼šå‡ºç°å´©æºƒç°è±¡ã€‚å¯¹äºè¿™ç§é—®é¢˜ï¼Œæˆ‘ä»¬è¦æå‰è€ƒè™‘åˆ°ï¼Œåšå¥½é˜²èŒƒå¤„ç†ï¼šå³ç‚¹å‡»æŒ‰é’®äº‹ä»¶æ—¶,æ·»åŠ é˜²æ­¢é‡å¤ç‚¹å‡»åŠŸèƒ½ã€‚</p>
<p><strong>æ€è·¯æ˜¯</strong>ï¼šé˜²æ­¢æŒ‰é’®é‡å¤ç‚¹å‡»<br>æ¯”è¾ƒæ¨èçš„è§£å†³æ–¹æ³•ä»£ç ï¼š</p>
<pre> - (void)btnClicked:(id)sender {
    //åœ¨è¿™é‡ŒåšæŒ‰é’®çš„æƒ³åšçš„äº‹æƒ…ã€‚
}
- (void)buttonClicked:(id)sender {
   //å…ˆå°†æœªåˆ°æ—¶é—´æ‰§è¡Œå‰çš„ä»»åŠ¡å–æ¶ˆã€‚
    [[self class] cancelPreviousPerformRequestsWithTarget:self selector:@selector(btnClicked:)object:sender];
    [self performSelector:@selector(btnClicked:)withObject:sender afterDelay:0.2f];
}</pre>

<p><strong>åŸç†æ˜¯</strong> ï¼šæˆ‘ä»¬æ¯æ¬¡ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œå…ˆæ‰§è¡Œå–æ¶ˆä¹‹å‰çš„æŒ‰é’®ç‚¹å‡»æ‰§è¡Œäº‹ä»¶ï¼Œç„¶åå†å»æ‰§è¡Œä¸€ä¸ªå»¶è¿Ÿæ‰§è¡Œæ–¹æ³•ï¼ˆæ–¹æ³•ä¸­æ‰§è¡Œçš„æ˜¯æŒ‰é’®æ‰§è¡Œçš„äº‹ä»¶ï¼‰ã€‚</p>
<p>è¿˜æœ‰ä¸€ç§æ–¹æ³•ä¹Ÿæ˜¯å¯ä»¥å®ç°çš„ï¼šå…·ä½“çš„çœ‹ã€Š<a href="http://www.cnblogs.com/LQCQ-Silent/p/6082086.html" target="_blank" rel="external">iOSä¹‹é˜²æ­¢ç”¨æˆ·é‡å¤ç‚¹å‡»Buttonï¼ˆæŒ‰é’®ï¼‰é—®é¢˜</a> ã€‹</p>
<h3 id="2ã€å¾ˆå¤šç•Œé¢å…±ç”¨ä¸€ä¸ªç•Œé¢æ—¶ï¼šä½¿ç”¨æšä¸¾åšç±»å‹åˆ¤æ–­"><a href="#2ã€å¾ˆå¤šç•Œé¢å…±ç”¨ä¸€ä¸ªç•Œé¢æ—¶ï¼šä½¿ç”¨æšä¸¾åšç±»å‹åˆ¤æ–­" class="headerlink" title="2ã€å¾ˆå¤šç•Œé¢å…±ç”¨ä¸€ä¸ªç•Œé¢æ—¶ï¼šä½¿ç”¨æšä¸¾åšç±»å‹åˆ¤æ–­"></a>2ã€å¾ˆå¤šç•Œé¢å…±ç”¨ä¸€ä¸ªç•Œé¢æ—¶ï¼šä½¿ç”¨æšä¸¾åšç±»å‹åˆ¤æ–­</h3><p>è€çš„é¡¹ç›®ä¸­ä¼šå‡ºç°å¾ˆå¤šè¿™æ ·çš„ç°è±¡ï¼šå¾ˆå¤šç•Œé¢é‡å¤ä½¿ç”¨ä¸€ä¸ªç•Œé¢ï¼Œè¿™æ ·å°±è‡ªç„¶è€Œç„¶çš„éœ€è¦åœ¨ä¸åŒçš„ç•Œé¢è·³è½¬åˆ°å¤ç”¨çš„ç•Œé¢æ—¶å»åšåˆ¤æ–­ã€‚è€Œå¥‡æ€ªçš„åœ°æ–¹åœ¨äºï¼šåˆ¤æ–­çš„ä¾æ®æ˜¯<code>self.title</code>ã€‚é‚£ä¹ˆå°±ä¼šå‡ºç°è¿™æ ·ä¸€ç§ç°è±¡ï¼šåœ¨è·³è½¬ç•Œé¢åä¼šæœ‰ä¸€å¤§æ®µ<code>if</code>å»åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ç­‰äº<code>self.title</code> ã€‚</p>
<p><strong>å¦‚æœæˆ‘ä»¬åšä¸€äº›æ”¹å˜ï¼šä½¿ç”¨æšä¸¾æ¥åšç•Œé¢ç±»å‹çš„åˆ¤æ–­ï¼Œä½¿ç”¨<code>switch case</code>è¯­å¥åšåˆ¤æ–­æ‰§è¡Œä»£ç ã€‚è¿™æ ·ä¼šä¸ä¼šæ›´ä¼˜ç¾ï¼Œç®€æ´ä¸€äº›ã€‚</strong></p>
<h3 id="3ã€å…³äºè€é¡¹ç›®ä¸­iOS10ä»¥ä¸Šçš„æƒ…å†µä¸‹ï¼Œå¯¼èˆªæ ä¸­æŒ‰é’®ä¸æ˜¾ç¤ºé—®é¢˜"><a href="#3ã€å…³äºè€é¡¹ç›®ä¸­iOS10ä»¥ä¸Šçš„æƒ…å†µä¸‹ï¼Œå¯¼èˆªæ ä¸­æŒ‰é’®ä¸æ˜¾ç¤ºé—®é¢˜" class="headerlink" title="3ã€å…³äºè€é¡¹ç›®ä¸­iOS10ä»¥ä¸Šçš„æƒ…å†µä¸‹ï¼Œå¯¼èˆªæ ä¸­æŒ‰é’®ä¸æ˜¾ç¤ºé—®é¢˜"></a>3ã€å…³äºè€é¡¹ç›®ä¸­iOS10ä»¥ä¸Šçš„æƒ…å†µä¸‹ï¼Œå¯¼èˆªæ ä¸­æŒ‰é’®ä¸æ˜¾ç¤ºé—®é¢˜</h3><p>å¦‚æœä½ çš„<code>viewController</code>éƒ½ç»§æ‰¿äºåŸºç±»ï¼Œé‚£ä¹ˆåœ¨åŸºç±»ä¸­æ·»åŠ è¿™æ ·ä¸€æ®µä»£ç ï¼ˆè¿™ä¹Ÿæ˜¯ç›®å‰æˆ‘å‘ç°çš„æœ€çœäº‹çš„æ–¹æ³•ï¼‰ï¼š</p>
<pre>- (void)viewWillAppear:(BOOL)animated { 
    [super viewWillAppear:animated];
    [self.navigationController setNavigationBarHidden:YES animated:NO];
    [self.navigationController setNavigationBarHidden:NO animated:NO];
}
- (void)viewWillDisappear:(BOOL)animated {
    [super viewWillDisappear:animated];
    [self.navigationController setNavigationBarHidden:YES animated:NO];
    [self.navigationController setNavigationBarHidden:NO animated:NO];
}</pre>



<h3 id="4ã€äº‹ä»¶æ–¹æ³•è¦æ¯ä¸ªç•Œé¢åŒºåˆ†å¼€"><a href="#4ã€äº‹ä»¶æ–¹æ³•è¦æ¯ä¸ªç•Œé¢åŒºåˆ†å¼€" class="headerlink" title="4ã€äº‹ä»¶æ–¹æ³•è¦æ¯ä¸ªç•Œé¢åŒºåˆ†å¼€"></a>4ã€äº‹ä»¶æ–¹æ³•è¦æ¯ä¸ªç•Œé¢åŒºåˆ†å¼€</h3><p>è€é¡¹ç›®ä¸­ä¼šæœ‰è¿™ç§æƒ…å†µï¼šåœ¨æœ¬ç•Œé¢ commandç‚¹å‡»ä¸€ä¸ª<code>button</code>æ‰§è¡Œäº‹ä»¶æ–¹æ³•æˆ–è€…æ‰‹åŠ¿äº‹ä»¶æ–¹æ³•æ—¶ï¼Œä¼šè«åå…¶å¦™çš„è·³è½¬åˆ°å¦å¤–ä¸€ä¸ªç•Œé¢ã€‚<br>æˆ‘ä»¬åœ¨å¼€å‘æ—¶æœ€å¥½ç»™ä¸åŒç•Œé¢<code>button</code>çš„<code>clicked</code>äº‹ä»¶å‘½åæ˜¯åŒºåˆ†å¼€æ¥ï¼Œä¾‹å¦‚ï¼šç•Œé¢å + <code>ButtonClicked</code></p>
<h3 id="5ã€å¯¹è±¡ä¸ºç©ºç°è±¡"><a href="#5ã€å¯¹è±¡ä¸ºç©ºç°è±¡" class="headerlink" title="5ã€å¯¹è±¡ä¸ºç©ºç°è±¡"></a>5ã€å¯¹è±¡ä¸ºç©ºç°è±¡</h3><p>åœ¨å¼€å‘ä¸­å¦‚æœå­˜åœ¨<code>image</code>ä¸ºç©ºï¼Œæˆ–è€…å¿…é¡»æ˜¾ç¤ºçš„<code>String</code>ä¸ºç©ºç°è±¡ï¼Œ<br>è®°å¾—åœ¨ä»£ç ä¸­ä½œåˆ¤æ–­ï¼Œå›¾ç‰‡å¯ä»¥ç›´æ¥è®¾ç½®é»˜è®¤å›¾ç‰‡ï¼Œå­—ç¬¦ä¸²ä¹Ÿå¯ä»¥è®¾ç½®é»˜è®¤å­—ç¬¦ä¸²<br>è¿™ä¸€ç‚¹å¯ä»¥å­¦ä¸€ä¸‹SDWebImageåº“ä¸­å¯¹äºç½‘ç»œè¯·æ±‚å›¾ç‰‡ä¸å­˜åœ¨çš„å¤„ç†æ–¹æ³•ï¼š</p>
<pre>//ç»™ä¸€å¼ é»˜è®¤å›¾ç‰‡ï¼Œå…ˆä½¿ç”¨é»˜è®¤å›¾ç‰‡ï¼Œå½“å›¾ç‰‡åŠ è½½å®Œæˆåå†æ›¿æ¢
[self.image1 sd_setImageWithURL:imagePath1 placeholderImage:[UIImage imageNamed:@"default"]];</pre>

<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">UIImage *image = [UIImage imageNamed:@&quot;image&quot;];</div><div class="line">UIImage *defaultImage = [UIImage imageNamed:@&quot;defaultImage&quot;];</div><div class="line">UIImageView *imageView = [[UIImageView alloc]initWithImage:image==nil ?  image:defaultImage];</div></pre></td></tr></table></figure>
<p>å­—ç¬¦ä¸²å½“ç„¶ä¹Ÿæ˜¯ç±»ä¼¼ï¼Œå…¶å®çœ‹ä¼¼æœ‰äº›è´¹äº‹ç”šè‡³æœ‰çš„æ˜¾å¾—å¤šä½™çš„å†™æ³•ï¼Œä¼šä½¿ä»¥åçš„ç»´æŠ¤å˜å¾—æ›´åŠ çš„å¦‚æ„ã€‚</p>
<h3 id="6ã€ä¸€ä¸ªç•Œé¢å¤šç½‘ç»œè¯·æ±‚é—®é¢˜ï¼Œè€Œä¸”éœ€è¦å¤šä¸ªè¯·æ±‚éƒ½å®Œæˆåï¼Œå¯¹ç•Œé¢æœ‰ä¸€äº›æ“ä½œã€‚"><a href="#6ã€ä¸€ä¸ªç•Œé¢å¤šç½‘ç»œè¯·æ±‚é—®é¢˜ï¼Œè€Œä¸”éœ€è¦å¤šä¸ªè¯·æ±‚éƒ½å®Œæˆåï¼Œå¯¹ç•Œé¢æœ‰ä¸€äº›æ“ä½œã€‚" class="headerlink" title="6ã€ä¸€ä¸ªç•Œé¢å¤šç½‘ç»œè¯·æ±‚é—®é¢˜ï¼Œè€Œä¸”éœ€è¦å¤šä¸ªè¯·æ±‚éƒ½å®Œæˆåï¼Œå¯¹ç•Œé¢æœ‰ä¸€äº›æ“ä½œã€‚"></a>6ã€ä¸€ä¸ªç•Œé¢å¤šç½‘ç»œè¯·æ±‚é—®é¢˜ï¼Œè€Œä¸”éœ€è¦å¤šä¸ªè¯·æ±‚éƒ½å®Œæˆåï¼Œå¯¹ç•Œé¢æœ‰ä¸€äº›æ“ä½œã€‚</h3><p>è¿™æ˜¯ä¸€ä¸ªè€çš„è¯é¢˜äº†ï¼Œæˆ‘ä¹‹æ‰€ä»¥é‡æ–°æåŠè¿™ä¸ªè¯é¢˜ï¼ŒåŸå› æ˜¯æˆ‘ä»ä¸€äº›æ–‡ç« ä¸­å‘ç°äº†ä¸€ä¸ªä»æ¥æ²¡ä½¿ç”¨è¿‡çš„æ–¹æ³•ï¼Œè¿™ä¸ªä¸‹é¢ä¼šæåˆ°ï¼Œç°åœ¨å°±è®©æˆ‘ä»¬åˆ—ä¸¾å‡ºæ¥æ¯”è¾ƒå¸¸ç”¨çš„æ–¹æ³•ã€‚å°±ä»¥ä¸€ä¸ªç•Œé¢ä¸¤ä¸ªç½‘ç»œè¯·æ±‚ä¸ºä¾‹ Aå’ŒB.</p>
<p><strong>ï¼ˆ1ï¼‰ä¸¤ä¸ªè¯·æ±‚äº’å¥—)(ä¹Ÿæ˜¯æœ€ç¬¨çš„æ–¹æ³•)</strong><br>     å…·ä½“æ˜¯è¿™æ ·çš„ï¼Œæˆ‘åœ¨Aè¯·æ±‚æˆåŠŸåï¼Œå†è¯·æ±‚Bã€‚å½“ç„¶å¦‚æœè¯·æ±‚å¤šçš„è¯ï¼Œè¿™ä¸ªè‚¯å®šæ˜¯ä½œåºŸçš„ã€‚</p>
<p><strong>ï¼ˆ2ï¼‰ä½¿ç”¨GCDä¸­çš„é€šçŸ¥</strong></p>
<p><pre>dispatch_group_t serviceGroup = dispatch_group_create();<br>// å¼€å§‹ç¬¬ä¸€ä¸ªç½‘ç»œè¯·æ±‚<br>servicedispatch_group_enter(serviceGroup);<br>[self.configService startWithCompletion:^(ConfigResponse <em>results, NSError </em>error) {<br> //è¯·æ±‚æˆåŠŸåçš„æ“ä½œ<br>    configError = error;<br>    dispatch_group_leave(serviceGroup);//å®Œæˆåç¦»å¼€åˆ†ç»„<br>}];<br>// å¼€å§‹ç¬¬äºŒä¸ªè¯·æ±‚<br>dispatch_group_enter(serviceGroup);<br>[self.preferenceService startWithCompletion:^(PreferenceResponse <em>results, NSError </em>error) {<br> //è¯·æ±‚æˆåŠŸåçš„æ“ä½œ<br>    preferenceError = error;<br>    dispatch_group_leave(serviceGroup);//å®Œæˆåç¦»å¼€åˆ†ç»„<br>}];<br>dispatch_group_notify(serviceGroup,dispatch_get_main_queue(),^{<br> // Assess any errors<br>     NSError *overallError = nil;<br>    if (configError || preferenceError)  {<br> // åˆ¤æ–­æ—¶å€™è¯·æ±‚æœ‰å¤±è´¥<br>        overallError = configError ?: preferenceError;<br>     }<br>// æœ€åå®Œæˆåæ‰§è¡Œçš„block<br>    completion(overallError);<br>});<br></pre></p>
<p><strong>ï¼ˆ3ï¼‰åˆ©ç”¨GCDä¸­çš„ä¿¡å·é‡</strong></p>
<p>åœ¨GCDä¸­æœ‰ä¸‰ä¸ªå‡½æ•°æ˜¯<code>semaphore</code>çš„æ“ä½œï¼Œåˆ†åˆ«æ˜¯ï¼šã€€ã€€<br><code>dispatch_semaphore_create</code> åˆ›å»ºä¸€ä¸ªsemaphoreã€€ã€€<br><code>dispatch_semaphore_signal</code> å‘é€ä¸€ä¸ªä¿¡å·ã€€<br><code>dispatch_semaphore_wait</code> ç­‰å¾…ä¿¡å·ã€€ã€€<br>ç®€å•çš„ä»‹ç»ä¸€ä¸‹è¿™ä¸‰ä¸ªå‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå‡½æ•°æœ‰ä¸€ä¸ªæ•´å½¢çš„å‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºä¿¡å·çš„æ€»é‡ï¼Œ<code>dispatch_semaphore_signal</code>æ˜¯å‘é€ä¸€ä¸ªä¿¡å·ï¼Œè‡ªç„¶ä¼šè®©ä¿¡å·æ€»é‡åŠ 1ï¼Œ<code>dispatch_semaphore_wait</code>ç­‰å¾…ä¿¡å·ï¼Œå½“ä¿¡å·æ€»é‡å°‘äº0çš„æ—¶å€™å°±ä¼šä¸€ç›´ç­‰å¾…ï¼Œå¦åˆ™å°±å¯ä»¥æ­£å¸¸çš„æ‰§è¡Œï¼Œå¹¶è®©ä¿¡å·æ€»é‡-1ï¼Œæ ¹æ®è¿™æ ·çš„åŸç†ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥å¿«é€Ÿçš„åˆ›å»ºä¸€ä¸ªå¹¶å‘æ§åˆ¶æ¥åŒæ­¥ä»»åŠ¡å’Œæœ‰é™èµ„æºè®¿é—®æ§åˆ¶ã€‚</p>
<p>åˆ©ç”¨è¿™æ ·çš„æœºåˆ¶ï¼Œå½“ä¿¡å·é‡è¾¾åˆ°æˆ‘ä»¬ç½‘ç»œè¯·æ±‚çš„æ•°é‡æ—¶ï¼Œè¯·æ±‚ç»“æŸã€‚</p>
<p><strong>ï¼ˆ4ï¼‰è¿™ä¸ªä¹Ÿæ˜¯æˆ‘ä¸Šé¢è¯´çš„æ— æ„ä¸­çœ‹åˆ°çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä»…æ‹¿å‡ºæ¥ä½œä¸ºå‚è€ƒ</strong></p>
<p><pre>dispatch_async(concurrent_queue, ^{<br>     NSLog(@â€â€”å¹¶å‘ä»»åŠ¡1â€”â€œ);<br>});<br>dispatch_async(concurrent_queue, ^{<br>     NSLog(@â€â€”å¹¶å‘ä»»åŠ¡2â€”â€œ);<br>});<br>dispatch_barrier_async(concurrent_queue, ^{<br>    dispatch_async(dispatch_get_main_queue(), ^{<br>        NSLog(@â€â€”æ‰€æœ‰å¹¶å‘ä»»åŠ¡ç»“æŸåå›åˆ°ä¸»çº¿ç¨‹åˆ·æ–°â€”â€œ);<br>    });<br>}); </pre></p>
<p>ä»¥ä¸Šå°±æ˜¯å…³äºä¸€ç•Œé¢å¤šè¯·æ±‚çš„ä¸åŒè§£å†³æ–¹æ¡ˆã€‚</p>
<h3 id="7ã€ä»£ç è§„èŒƒé—®é¢˜"><a href="#7ã€ä»£ç è§„èŒƒé—®é¢˜" class="headerlink" title="7ã€ä»£ç è§„èŒƒé—®é¢˜"></a>7ã€ä»£ç è§„èŒƒé—®é¢˜</h3><ul>
<li>ä¸ºä»€ä¹ˆè¿™ä¸ªæ™®é€šçš„è¯é¢˜æ”¾åˆ°æœ€åå‘¢ï¼Œå¤§æ¦‚æ˜¯å› ä¸ºæˆ‘è§‰å¾—è¿™ä¸ªå¾ˆé‡è¦çš„é—®é¢˜å§ï¼Œæ¯•ç«ŸæŠ€æœ¯æ°´å¹³ä¸é«˜ï¼Œè¿˜æ˜¯å¯ä»¥æå‡çš„ã€‚ä½†ä»£ç ä¸è§„èŒƒçš„è¯ï¼Œå…»æˆä¹ æƒ¯åå¾ˆéš¾æ”¹çš„ï¼Œæˆ‘è§è¿‡å¤ªå¤šé¡¹ç›®ä¸­ä½¿ç”¨ã€æ‹¼éŸ³å‘½åã€ä¸æ³¨æ„é©¼å³°å‘½åæ³•ã€defineé¢„å¤„ç†æŒ‡ä»¤æ»¡å¤©é£ç­‰ç­‰çš„ä»£ç ã€‘è¿™äº›å‡ºç°åœ¨é¡¹ç›®ä¸­å°±åƒæ—¶æ—¶åˆ»åˆ»åœ¨æé†’ä½ ï¼Œçœ‹è¿™æ ·çš„é¡¹ç›®æ˜¯ä¸€ç§ç…ç†¬ã€‚</li>
<li>å…¶å®ä»£ç è§„èŒƒä¸ä»…ä»…æ˜¯å…¬å¸å¯¹å¼€å‘è€…çš„è¦æ±‚,ä¹Ÿæ˜¯å¼€å‘è€…å¯¹è‡ªå·±çš„ä¸€ä¸ªè¦æ±‚ã€‚å› ä¸ºå¦‚æœç»Ÿä¸€æ¯ä¸ªäººçš„å†™ä½œè§„èŒƒï¼Œæ˜¯ä¸€ä»¶è€—æ—¶ï¼Œè€—è´¢çš„äº‹æƒ…ã€‚å°ä¸€äº›çš„å…¬å¸æ˜¯åšä¸æ¥ï¼Œä¸­å‹çš„å…¬å¸å¤§å¤šæ˜¯ä¸æƒ³åšã€‚è€Œå¤§å‹çš„å…¬å¸æ€»æ˜¯èŠ±è´¹è¿‘å‡ ä¸ªæœˆçš„æ—¶é—´å»åŸ¹å…»å‘˜å·¥çš„ä»£ç è§„èŒƒï¼Œè¿™å°±æ˜¯è´¢å¤§æ°”ç²—å§ã€‚è€Œä¸”å¼€å‘è€…æœ¬èº«å¯¹äºæŠ€æœ¯çš„æå‡ã€è¿½æ±‚ç­‰ï¼Œéƒ½æ— å½¢ä¸­è¦æ±‚è‡ªå·±æ³¨æ„ä»£ç è§„èŒƒé—®é¢˜ã€‚</li>
<li>å¯¹äºè¿™éƒ¨åˆ†ï¼Œå»ºè®®çœ‹çœ‹ã€ŠEffective Objective-C 2.0ã€‹è¿™æœ¬ä¹¦ï¼Œå…¶ä¸­æåˆ°äº†è¿™éƒ¨åˆ†å†…å®¹ã€‚</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å‰è¨€ï¼š&quot;&gt;&lt;a href=&quot;#å‰è¨€ï¼š&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€ï¼š&quot;&gt;&lt;/a&gt;å‰è¨€ï¼š&lt;/h3&gt;&lt;p&gt;æœ€è¿‘ä¸€ç›´åœ¨ç»´æŠ¤è€çš„é¡¹ç›®ï¼Œé‡åˆ°çš„é—®é¢˜ä¹Ÿåƒå¥‡ç™¾æ€ªï¼Œéœ€è¦ä¿®è¡¥çš„ï¼Œéœ€è¦ä¼˜åŒ–çš„ï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†çš„ï¼Œæ„Ÿè§‰æ€»æ˜¯é‚£ä¹ˆçš„æ— è¯­ã€‚ä¹Ÿè®¸è¿™æ—¶å€™ä¹Ÿåº”è¯¥æ„Ÿå¹ä¸€å¥ï¼š
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>SVNæäº¤é”™è¯¯ï¼š&quot;XXX&quot; is scheduled for addition, but is missing</title>
    <link href="https:guohuaden.com/2016/12/15/SVN-error/"/>
    <id>https:guohuaden.com/2016/12/15/SVN-error/</id>
    <published>2016-12-15T03:18:00.000Z</published>
    <updated>2017-01-15T07:14:45.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€ï¼š"><a href="#å‰è¨€ï¼š" class="headerlink" title="å‰è¨€ï¼š"></a>å‰è¨€ï¼š</h3><p>æœ€è¿‘åœ¨ç»´æŠ¤è€é¡¹ç›®ï¼Œæ‰€ä»¥å‡ºç°äº†å¾ˆå¤šä»¥å‰æ²¡é‡åˆ°è¿‡çš„é—®é¢˜ã€‚ä¹Ÿç®—è§è¯†ä¸€ç•ªå§ã€‚<br>ç›®å‰æ‰€åœ¨çš„å…¬å¸ä½¿ç”¨SVNä½œä¸ºç‰ˆæœ¬æ§åˆ¶å™¨ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥è¿™ä¸ªé—®é¢˜ä¹Ÿæ˜¯å°±å…³äºSVNçš„ã€‚</p>
<h3 id="æ­£æ–‡ï¼š"><a href="#æ­£æ–‡ï¼š" class="headerlink" title="æ­£æ–‡ï¼š"></a>æ­£æ–‡ï¼š</h3><p>ä»Šå¤©ä½¿ç”¨SVNæäº¤é¡¹ç›®æ—¶ï¼Œå‡ºç°äº†è¿™æ ·çš„æç¤ºï¼š<pre><code>â€œXXXâ€ is scheduled for addition, but is missingã€‚ï¼ˆæ— å…³ç´§è¦çš„ä¸œè¥¿ç”¨XXXä»£æ›¿ï¼‰ã€‚ </code></pre><br>çœ‹æŠ¥é”™è¯´æ˜æ˜¯è¿™æ ·çš„ï¼š<code>â€œXXXâ€å·²ç»è¢«åˆ—ä¸ºæ·»åŠ çŠ¶æ€ï¼Œä½†æˆ‘ä»¬æäº¤æ—¶å´ç¼ºå°‘â€XXXâ€è¿™ä¸ªã€‚</code></p>
<h3 id="åŸå› ï¼š"><a href="#åŸå› ï¼š" class="headerlink" title="åŸå› ï¼š"></a>åŸå› ï¼š</h3><p>ä¹‹å‰ç”¨SVNæäº¤è¿‡çš„æ–‡ä»¶/æ–‡ä»¶å¤¹ï¼Œè¢«æ ‡è®°ä¸ºâ€additionâ€çŠ¶æ€ï¼Œç­‰å¾…è¢«åŠ å…¥åˆ°ä»“åº“ã€‚è™½ç„¶ä½ æŠŠè¿™ä¸ªæ–‡ä»¶åˆ é™¤äº†ï¼ŒSVNæäº¤çš„æ—¶å€™è¿˜æ˜¯ä¼šå°è¯•æäº¤è¿™ä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥å°±ä¼šæç¤ºï¼š<code>â€œbut is missingâ€ã€‚</code><br>å½“ç„¶åˆ é™¤è¿™ä¸ªä¸œè¥¿ï¼Œå°±æ˜¯å› ä¸ºå®ƒå¤šä½™ï¼Œä¸ç„¶ä¹Ÿä¸ä¼šå¤šæ­¤ä¸€ä¸¾ã€‚ç°åœ¨å‡ºç°è¿™ç§é”™è¯¯ï¼Œæˆ‘ä»¬ä¸å¯èƒ½å†å»æ·»åŠ ä¸Šå»ï¼Œæ‰€ä»¥è§£å†³æ–¹æ³•åªèƒ½ä»SVNä¸Šç€æ‰‹äº†ï¼Œé¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯æ›´æ–°SVNé…ç½®æ–‡ä»¶ã€‚<br>æˆ‘çš„â€XXXâ€æ˜¯è¿™æ ·çš„ï¼š<pre><code> /Users/guohua/Desktop/é¡¹ç›®/é¡¹ç›®åå­—XXX/idealservice/idealservice/Classes/External/SDWebImage/FLAnimatedImage  </code></pre>ç¼ºå°‘çš„æ–‡ä»¶å¤¹æ˜¯ï¼š<code>FLAnimatedImage  ã€‚</code><br>æ€è·¯æ˜¯å¯¹çš„ï¼Œé‚£å°±çœ‹è§£å†³æ–¹æ³•å§ï¼š<br><code>å‘½ä»¤è¡Œï¼šsvn revert  å°†â€XXXâ€  revertï¼ˆæ¢å¤ï¼‰ åˆ°å®ƒçš„ä¸Šçº§ç›®å½•</code><br>å…·ä½“è¿™æ ·ï¼š<pre><code><br>svn revert  /Users/guohua/Desktop/é¡¹ç›®/é¡¹ç›®åå­—XXX/idealservice/idealservice/Classes/External/SDWebImage â€“depth infinity </code></pre></p>
<p>å¦‚æœä½ SVNæç¤ºç¼ºå°‘<code>XXX.png</code><br>å¯ä»¥ç›´æ¥å¤åŸåˆ°è¿™ä¸ªå›¾ç‰‡ä½ç½®ï¼š<pre><code>svn revert  /Users/guohua/Desktop/é¡¹ç›®/é¡¹ç›®åå­—XXX/â€¦/XXX.png  </code></pre></p>
<p>ä¸‹é¢æˆ‘ä»¬å»æäº¤ï¼Œå°±æ²¡æœ‰è¿™ç§æŠ¥é”™æç¤ºäº†ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å‰è¨€ï¼š&quot;&gt;&lt;a href=&quot;#å‰è¨€ï¼š&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€ï¼š&quot;&gt;&lt;/a&gt;å‰è¨€ï¼š&lt;/h3&gt;&lt;p&gt;æœ€è¿‘åœ¨ç»´æŠ¤è€é¡¹ç›®ï¼Œæ‰€ä»¥å‡ºç°äº†å¾ˆå¤šä»¥å‰æ²¡é‡åˆ°è¿‡çš„é—®é¢˜ã€‚ä¹Ÿç®—è§è¯†ä¸€ç•ªå§ã€‚&lt;br&gt;ç›®å‰æ‰€åœ¨çš„å…¬å¸ä½¿ç”¨SVNä½œä¸ºç‰ˆæœ¬æ§åˆ¶å™¨ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥è¿™ä¸ªé—®
    
    </summary>
    
    
      <category term="SVN" scheme="https:guohuaden.com/tags/SVN/"/>
    
  </entry>
  
  <entry>
    <title>Swiftä¹‹æ¨¡ç³Šæ•ˆæœï¼ˆæ¯›ç»ç’ƒæ•ˆæœï¼Œè™šåŒ–æ•ˆæœï¼‰çš„å®ç°</title>
    <link href="https:guohuaden.com/2016/11/29/Swift-BlurEffect/"/>
    <id>https:guohuaden.com/2016/11/29/Swift-BlurEffect/</id>
    <published>2016-11-29T06:19:25.000Z</published>
    <updated>2017-03-10T06:55:31.000Z</updated>
    
    <content type="html"><![CDATA[<font color="#FF8000"><strong>å‰è¨€ï¼š</strong></font>

<p>ä¹‹å‰é¡¹ç›®ä¸­æœ‰ç”¨åˆ°è¿‡<code>Objective-C</code>çš„çš„æ¨¡ç³Šæ•ˆæœï¼Œæ„Ÿè§‰å¾ˆæ˜¯ä¸é”™ï¼Œè€Œä¸”iOS8ä¹‹åå®˜æ–¹SDKä¹Ÿç›´æ¥æä¾›äº†å¯ä»¥å®ç°æ¯›ç»ç’ƒæ•ˆæœçš„ä¸‰ä¸ªç±»ï¼š<code>UIBlurEffect</code>ã€<code>UIVibrancyEffect</code> å’Œ <code>UIVisualEffectView</code>ã€‚é€šè¿‡è¿™ä¸‰ä¸ªç±»å¯ä»¥å¾ˆå®¹æ˜“çš„å»å®ç°æ¯›ç»ç’ƒæ•ˆæœã€‚</p>
<p>æœ€è¿‘åœ¨ç†Ÿæ‚‰<code>Swift</code>ï¼Œæ‰€ä»¥ä»Šå¤©è¯´çš„æ˜¯ä½¿ç”¨Swiftå»å®ç°è¿™ç§æ•ˆæœã€‚<br>å‰æï¼š</p>
<p>æˆ‘ä»¬å»å®ç°çš„æ¨¡ç³Šæ•ˆæœæœ‰ä¸ªå‰æï¼Œå°±æ˜¯éœ€è¦èƒŒæ™¯æœ‰ä¸€ä¸ªè‰²è°ƒï¼Œè¿™æ ·æ‰èƒ½ä½¿æ¯›ç»ç’ƒæœ‰ä¸€ä¸ªæ˜æ˜¾çš„æ•ˆæœï¼Œè¿™é‡Œæˆ‘ç›´æ¥åœ¨åº•éƒ¨æ·»åŠ ä¸€ä¸ªèƒŒæ™¯å›¾ç‰‡å§</p>
<p><img src="http://obzx0h1re.bkt.clouddn.com/Swift-BlurImage.png" alt="èƒŒæ™¯å›¾ç‰‡"></p>
<p>æˆ‘ä»¬å°±åœ¨è¿™å¼ èƒŒæ™¯å›¾ç‰‡ä¸Šå»å®ç°æ¨¡ç³Šæ•ˆæœã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">//MARK: ******* åˆ›å»ºèƒŒæ™¯å›¾ç‰‡ *************</div><div class="line">func createBackgroundImageView() &#123;</div><div class="line">    self.imageView1 = UIImageView(frame: self.view.bounds)</div><div class="line">    imageView1.layer.borderColor     = UIColor.black.cgColor</div><div class="line">    imageView1.layer.borderWidth     = 2 </div><div class="line">    imageView1.layer.cornerRadius    = 5</div><div class="line">    imageView1.clipsToBounds         = true</div><div class="line">    imageView1.image = UIImage(named: &quot;05&quot;)</div><div class="line">    self.view.addSubview(imageView1)  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<font color="#0B1746"><strong>1ã€<code>UIBlurEffect</code>ç±»ï¼ˆç”¨ä½œåˆ›å»ºä¸€ä¸ªæ¨¡ç³Šæ•ˆæœï¼‰</strong></font>

<p>SDKä¸­æä¾›çš„æ¨¡ç³Šæ•ˆæœæœ‰5ç§ï¼Œå…¶ä¸­ä¸¤ç§æ˜¯iOS10ä¹‹åæ·»åŠ çš„ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line">     public enum UIBlurEffectStyle : Int &#123;</div><div class="line">     </div><div class="line">     </div><div class="line">     case extraLight</div><div class="line">     </div><div class="line">     case light</div><div class="line">     </div><div class="line">     case dark</div><div class="line">     </div><div class="line">     </div><div class="line">     @available(iOS 10.0, *)</div><div class="line">     case regular // Adapts to user interface style</div><div class="line">     </div><div class="line">     @available(iOS 10.0, *)</div><div class="line">     case prominent // Adapts to user interface style</div><div class="line">     &#125;</div><div class="line">     */</div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å°±ç›´æ¥åˆ›å»ºå¥½äº†ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//åˆ›å»ºä¸€ä¸ªæ¨¡ç³Šæ•ˆæœ</div><div class="line">  let blurEffect = UIBlurEffect(style: .light)</div></pre></td></tr></table></figure>
<p>ä¸Šé¢ä½¿ç”¨çš„æ˜¯æ™®é€šçš„äº®è‰²ã€‚</p>
<font color="#0B1746"><strong>2ã€<code>UIVibrancyEffect</code>ç±»</strong></font>

<p><code>UIVibrancyEffect</code> ä¸»è¦ç”¨äºæ”¾å¤§å’Œè°ƒæ•´ <code>UIVisualEffectView</code> è§†å›¾ä¸‹é¢çš„å†…å®¹çš„é¢œè‰²ï¼ŒåŒæ—¶è®© <code>UIVisualEffectView</code> çš„ <code>contentView</code> ä¸­çš„å†…å®¹çœ‹èµ·æ¥æ›´åŠ ç”ŸåŠ¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//åˆ›å»ºå¹¶æ·»åŠ vibrancy&lt;/code&gt;è§†å›¾</div><div class="line">let vibrancyEffect = UIVibrancyEffect(blurEffect: blurEffect)</div></pre></td></tr></table></figure>
<font color="#0B1746"><strong>3ã€<code>UIVisualEffectView</code>ç±»</strong></font>

<p><code>UIVisualEffectView</code>ï¼šæ¨¡ç³Šè§†å›¾ã€‚å°†å‰é¢åˆ›å»ºçš„ <code>UIBlurEffect</code> ç±»çš„å®ä¾‹åº”ç”¨åˆ°è¿™ä¸ªæ¨¡ç³Šè§†å›¾ä¸Šã€‚å°† <code>UIVisualEffectView</code> ç±»çš„å®ä¾‹ï¼ˆæ¨¡ç³Šè§†å›¾ï¼‰ç½®äºå¾…æ¯›ç»ç’ƒåŒ–çš„è§†å›¾ä¹‹ä¸Šå³å¯ã€‚åœ¨å…¶ä¸‹æ–¹çš„æ‰€æœ‰è§†å›¾éƒ½ä¼šæœ‰æ¨¡ç³Šæ•ˆæœã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼šä¸è¦ç›´æ¥æ·»åŠ å­è§†å›¾å»<code>UIVisualEffectView</code>ï¼Œè€Œæ˜¯è¦æ·»åŠ åˆ°<code>contentView</code>ä¸Šã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//åˆ›å»ºä¸€ä¸ªæ‰¿è½½æ¨¡ç³Šæ•ˆæœçš„è§†å›¾</div><div class="line">let blurView = UIVisualEffectView(effect: blurEffect)</div></pre></td></tr></table></figure>
<font color="#0B1746"><strong>4ã€æ•´ä½“çš„ä»£ç å®ç°</strong></font>

<p>ä¸‹é¢æˆ‘ä»¬ç›´æ¥çœ‹æ•´ä½“çš„ä»£ç å®ç°ï¼š</p>
<p>è¿™éƒ¨åˆ†åˆ†ä¸ºä¸¤ç§ï¼Œæ•ˆæœä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ï¼š</p>
<p>å…ˆçœ‹ä¸€ä¸‹æ•ˆæœå›¾ï¼š<br><img src="http://obzx0h1re.bkt.clouddn.com/Swift-blurEffec.png" alt="Swift-blurEffec"><br>æ¯›ç»ç’ƒæ•ˆæœå›¾</p>
<font color="##87CEEB"><strong>4.1 <code>UIBlurEffect</code> å’Œ <code>UIVisualEffectView</code>ä¸¤è€…é…åˆä½¿ç”¨</strong></font>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">func showBlurEffect() &#123;   </div><div class="line">//åˆ›å»ºä¸€ä¸ªæ¨¡ç³Šæ•ˆæœ</div><div class="line">let blurEffect = UIBlurEffect(style: .light)</div><div class="line">//åˆ›å»ºä¸€ä¸ªæ‰¿è½½æ¨¡ç³Šæ•ˆæœçš„è§†å›¾</div><div class="line">let blurView = UIVisualEffectView(effect: blurEffect)   </div><div class="line">blurView.frame = CGRect(x: 0, y: 64, width: viewWidth+2*space, height: Double(viewHeight))</div><div class="line">let label = UILabel(frame: CGRect(x: 10, y: 100, width: viewWidth - 20, height: 100))   </div><div class="line">label.text = &quot;bfjnecsjdkcmslc,samosacmsacdfvneaui&quot;  </div><div class="line">label.font = UIFont.boldSystemFont(ofSize: 30)</div><div class="line">label.numberOfLines = 0</div><div class="line">label.textAlignment = .center</div><div class="line">label.textColor = UIColor.white    </div><div class="line">blurView.contentView.addSubview(label)   </div><div class="line">self.view.addSubview(blurView)   </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<font color="##87CEEB"><strong>4.2 <code>UIBlurEffect</code>ã€<code>UIVibrancyEffect</code> å’Œ <code>UIVisualEffectView</code></strong></font>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">func showBlurEffectWithUIVibrancyEffect() &#123;</div><div class="line">//åˆ›å»ºä¸€ä¸ªæ¨¡ç³Šæ•ˆæœ</div><div class="line">let blurEffect = UIBlurEffect(style: .light)</div><div class="line">//åˆ›å»ºä¸€ä¸ªæ‰¿è½½æ¨¡ç³Šæ•ˆæœçš„è§†å›¾</div><div class="line">let blurView = UIVisualEffectView(effect: blurEffect)    </div><div class="line">blurView.frame = CGRect(x: 0, y: Double(viewHeight+64), width: viewWidth+2*space, height: Double(viewHeight))    </div><div class="line">self.view.addSubview(blurView)    </div><div class="line">//åˆ›å»ºå¹¶æ·»åŠ vibrancyè§†å›¾</div><div class="line">let vibrancyEffect = UIVibrancyEffect(blurEffect: blurEffect)    </div><div class="line">let vibrancyView = UIVisualEffectView(effect:vibrancyEffect)</div><div class="line">vibrancyView.frame = self.view.bounds       </div><div class="line">let label = UILabel(frame: CGRect(x: 10, y: viewY, width: viewWidth - 20, height: 100))    </div><div class="line">label.text = &quot;bfjnecsjdkcmslc,samosacmsacdfvneaui&quot;    </div><div class="line">label.font = UIFont.boldSystemFont(ofSize: 30)</div><div class="line">label.numberOfLines = 0</div><div class="line">label.textAlignment = .center</div><div class="line">label.textColor = UIColor.white    </div><div class="line">vibrancyView.contentView.addSubview(label)    </div><div class="line">blurView.contentView.addSubview(vibrancyView)   </div><div class="line">self.view.addSubview(blurView)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p> <font color="#6B8E23"><strong>å›¾ç‰‡çš„å‰è€…æ˜¯ï¼š</strong></font><code>UIBlurEffect</code> å’Œ <code>UIVisualEffectView</code>ä¸¤è€…é…åˆä½¿ç”¨</p>
<p><font color="#6B8E23"><strong>åè€…ï¼š</strong></font><code>UIBlurEffect</code>ã€<code>UIVibrancyEffect</code> å’Œ <code>UIVisualEffectView</code></p>
]]></content>
    
    <summary type="html">
    
      &lt;font color=&quot;#FF8000&quot;&gt;&lt;strong&gt;å‰è¨€ï¼š&lt;/strong&gt;&lt;/font&gt;

&lt;p&gt;ä¹‹å‰é¡¹ç›®ä¸­æœ‰ç”¨åˆ°è¿‡&lt;code&gt;Objective-C&lt;/code&gt;çš„çš„æ¨¡ç³Šæ•ˆæœï¼Œæ„Ÿè§‰å¾ˆæ˜¯ä¸é”™ï¼Œè€Œä¸”iOS8ä¹‹åå®˜æ–¹SDKä¹Ÿç›´æ¥æä¾›äº†å¯ä»¥å®ç°æ¯›ç»ç’ƒæ•ˆæœçš„ä¸‰ä¸ªç±»ï¼š&lt;code&gt;
    
    </summary>
    
    
      <category term="Swift" scheme="https:guohuaden.com/tags/Swift/"/>
    
  </entry>
  
  <entry>
    <title>iOSä¹‹ä½¿ç”¨æ¨¡æ‹Ÿå™¨é”™è¯¯ (Code Sign Error:resource fork, Finder information, or similar detritus not allowed)</title>
    <link href="https:guohuaden.com/2016/11/14/Xcode-error-Code%20Sign%20Error/"/>
    <id>https:guohuaden.com/2016/11/14/Xcode-error-Code Sign Error/</id>
    <published>2016-11-14T12:01:31.000Z</published>
    <updated>2017-02-08T02:14:13.000Z</updated>
    
    <content type="html"><![CDATA[<p>å¾ˆå¥‡æ€ªçš„é—®é¢˜ï¼Œä½¿ç”¨çœŸæœºæµ‹è¯•æ²¡æœ‰é—®é¢˜ã€‚ä½†ä½¿ç”¨æ¨¡æ‹Ÿå™¨æµ‹è¯•çš„æ—¶å€™å°±ä¼šæŠ¥è¿™æ ·çš„é”™è¯¯ï¼Œé”™è¯¯ç±»å‹ä¸ºï¼š<code>Code Sign Error</code></p>
<p>é”™è¯¯æç¤ºæ˜¯è¿™æ ·ï¼š<code>resource fork, Finder information, or similar detritus not allowedã€‚</code></p>
<p>æ‰¾äº†å¾ˆå¤šèµ„æ–™ï¼Œè¯´çš„éƒ½æ˜¯ä¸€åŠä¸€åŠï¼Œæœ‰çš„çœ‹äº†ä»æ˜¯æ— ä»ä¸‹æ‰‹ã€‚æœ€åçœ‹åˆ°çš„å¤„ç†æ–¹å¼æ˜¯è¿™æ ·çš„ï¼š</p>
<p>é¦–å…ˆå…³é—­<code>Xcode</code>ï¼Œæ‰“å¼€ç»ˆç«¯ï¼š</p>
<p>è¿›å…¥<code>DerivedData</code>ç›®å½•</p>
<p><code>cd ~/Library/Developer/Xcode/DerivedData/ </code></p>
<p>ç„¶åå†ç»ˆç«¯è¾“å…¥ï¼š<code>xattr -rc .</code> </p>
<p><code>xattr -rc .</code> </p>
<p>å†æ¬¡è¿è¡Œé¡¹ç›®ï¼Œå°±æ²¡æœ‰è¿™æ ·æŠ¥é”™äº†ã€‚ï¼ˆä¹Ÿç®—æ˜¯å¯¹ç—‡ä¸‹è¯å§ï¼‰</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¾ˆå¥‡æ€ªçš„é—®é¢˜ï¼Œä½¿ç”¨çœŸæœºæµ‹è¯•æ²¡æœ‰é—®é¢˜ã€‚ä½†ä½¿ç”¨æ¨¡æ‹Ÿå™¨æµ‹è¯•çš„æ—¶å€™å°±ä¼šæŠ¥è¿™æ ·çš„é”™è¯¯ï¼Œé”™è¯¯ç±»å‹ä¸ºï¼š&lt;code&gt;Code Sign Error&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;é”™è¯¯æç¤ºæ˜¯è¿™æ ·ï¼š&lt;code&gt;resource fork, Finder information, or simil
    
    </summary>
    
    
      <category term="Xcode" scheme="https:guohuaden.com/tags/Xcode/"/>
    
  </entry>
  
  <entry>
    <title>iOSä¹‹é€€å‡ºapp(é¡¹ç›®)çš„å‡ ç§æ–¹æ³•</title>
    <link href="https:guohuaden.com/2016/11/13/Project-Logout/"/>
    <id>https:guohuaden.com/2016/11/13/Project-Logout/</id>
    <published>2016-11-13T03:01:32.000Z</published>
    <updated>2017-03-10T06:55:09.000Z</updated>
    
    <content type="html"><![CDATA[<p>è·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢ã€‚ä¹Ÿç®—æ˜¯å¯¹ç¨‹åºå‘˜çš„ä¸€ç§çœŸå®å†™ç…§äº†å§ã€‚</p>
<p>ä»Šå¤©æƒ³ç ”ç©¶ä¸€ä¸‹iOSä¸­é€€å‡ºé¡¹ç›®çš„æ–¹æ³•ï¼Œè¯´æ˜¯ä»Šå¤©ï¼Œå…¶å®ä¹Ÿå…³æ³¨å¹¶å»äº†è§£å¾ˆä¹…äº†ã€‚åªæ˜¯å§‹ç»ˆæ‰¾ä¸åˆ°è‡ªå·±è®¤ä¸ºå¾ˆå¥½çš„æ–¹æ³•ã€‚ä»Šå¤©å°±å…ˆæŠŠè‡ªå·±äº†è§£çš„åˆ—ä¸¾ä¸€ä¸‹ï¼Œä»¥åå¦‚æœè¿˜èƒ½æ‰¾åˆ°è®¤ä¸ºæ›´å¥½çš„ï¼Œå°±åœ¨è¡¥å……å§ã€‚</p>
<p>è¿™é‡Œæ˜¯æˆ‘ä»¬åœ¨é¡¹ç›®çš„<code>AppDelegate</code>ä¸­æ™®éå†™åˆ°çš„ä¸€å¥ä»£ç ï¼ˆè‡³äºæ‰©å±•å’Œä¸°å¯Œï¼Œæˆ‘ä»¬æš‚ä¸å»æ·±ç©¶ï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions &#123; </div><div class="line">	LoginViewController *loginVC = [[LoginViewController alloc] init];</div><div class="line">//    UINavigationController *homeNavigationView = [[UINavigationController alloc] initWithRootViewController:loginVC];</div><div class="line">//    self.window.rootViewController = 	homeNavigationView;</div><div class="line">	self.window.rootViewController = loginVC;</div><div class="line">    return YES;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä¸‹é¢æˆ‘ä»¬å°±å›´ç»•<code>LoginViewController</code>è¿™ä¸ªç™»å½•ç•Œé¢å±•å¼€æˆ‘ä»¬çš„è®¨è®ºã€‚æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œç™»å½•çš„æ–¹å¼ä¸åŒï¼Œæ‰ä¼šå¯¼è‡´é€€å‡ºçš„æ–¹å¼å·®å¼‚ï¼Œæœ‰ç™»å½•æ‰æœ‰é€€å‡ºï¼Œè¿™æ˜¯å› æœå…³ç³»ã€‚</p>
<p>è€Œæˆ‘ä»¬çš„ç™»å½•æ–¹å¼æ— å¤–ä¹è¿™å‡ ç§ï¼šåˆ©ç”¨ <code>Modal</code> å½¢å¼å±•ç¤ºæ§åˆ¶å™¨ ï¼›åˆ©ç”¨å¯¼èˆªæ§åˆ¶å™¨<code>UINavigationController</code>è·³è½¬ï¼›å½“ç„¶ä¹Ÿå¯ä»¥æ›´æ”¹ <code>UIWindow</code> çš„ <code>rootViewController</code>ã€‚ä¸‹é¢æˆ‘ä»¬å°±ä»‹ç»ä¸€ä¸‹è¿™å‡ ç§ç™»å½•æ–¹å¼å§ã€‚</p>
<font color="#228B22"><strong>1ã€ç™»å½•é€€å‡ºA</strong></font>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">- (void)login</div><div class="line">&#123;</div><div class="line">	HomeViewController *homeVC = [[HomeViewController alloc]init];  </div><div class="line">	[self presentViewController:homeVC animated:YES completion:nil];</div><div class="line">&#125; </div><div class="line">- (void)exit</div><div class="line">&#123;</div><div class="line">	[self dismissViewControllerAnimated:YES completion:nil];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™æ˜¯åˆ©ç”¨<code>model</code>å½¢å¼ç™»å½•å’Œé€€å‡ºappçš„ã€‚å½“ç„¶ç™»å½•çš„åŠ¨ç”»å½¢å¼æ˜¯å¤šé€‰çš„ï¼Œä½ å¯ä»¥æŒ‘é€‰ä¸€ç§å–œæ¬¢çš„æ–¹å¼ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰è½¬åœºåŠ¨ç”»ï¼Œè¿™æ˜¯ä½ çš„è‡ªç”±ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line">     UIModalTransitionStyleCoverVertical = 0,</div><div class="line">     UIModalTransitionStyleFlipHorizontal __TVOS_PROHIBITED,</div><div class="line">     UIModalTransitionStyleCrossDissolve,</div><div class="line">     UIModalTransitionStylePartialCurl NS_ENUM_AVAILABLE_IOS(3_2) __TVOS_PROHIBITED,</div><div class="line">     */</div></pre></td></tr></table></figure>
<p>è¿™é‡Œæˆ‘åšäº†ä¸ªgifåŠ¨ç”»ï¼Œæ˜¯å…³äºç³»ç»Ÿè‡ªå¸¦çš„ï¼Œå¯ä»¥çœ‹ä¸‹ï¼š<br><img src="http://obzx0h1re.bkt.clouddn.com/%E8%BD%AC%E5%9C%BA%E5%8A%A8%E7%94%BB.gif" alt="logout_gif"></p>
<font color="#228B22"><strong>2ã€ç™»å½•é€€å‡ºB</strong></font>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">- (void)login</div><div class="line">&#123;</div><div class="line">	HomeViewController *homeVC = [[HomeViewController alloc]init];</div><div class="line">	[self.navigationController pushViewController:homeVC animated:YES];</div><div class="line">&#125;</div><div class="line">- (void)exit</div><div class="line">&#123;</div><div class="line">	[self.navigationController popViewControllerAnimated:YES];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™æ˜¯åˆ©ç”¨å¯¼èˆªæ§åˆ¶å™¨<code>UINavigationController</code>è·³è½¬ã€‚ä¹Ÿæ˜¯æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ç»å¸¸ç”¨åˆ°çš„ä¸€ç§æ–¹å¼ï¼Œå½“ç„¶ï¼Œç™»å½•é€€å‡ºä¹Ÿæ˜¯å¸¸ç”¨è¿™ç§æ–¹å¼çš„ã€‚è¿™é‡Œå°±ä¸è¿‡å¤šå»è¿°ã€‚</p>
<font color="#228B22"><strong>3ã€æ›´æ”¹ <code>UIWindow</code> çš„ <code>rootViewController</code></strong></font>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">- (void)login&#123;</div><div class="line">    HomeViewController *homeVC = [[HomeViewController alloc]init];</div><div class="line">    self.window.rootViewController = homeVC;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ˜¯å†™åœ¨AppDelegateä¸­çš„ï¼Œé€€å‡ºæ—¶å†è°ƒç”¨è¯¥æ–¹æ³•ã€‚</p>
<font color="#228B22"><strong>4ã€é€€å‡ºappç¨‹åºï¼ˆä¸æ¨èä½¿ç”¨ï¼Œè¿™ç§æ–¹å¼ä¼šè®©ç”¨æˆ·è§‰å¾—appé—ªé€€ï¼‰</strong></font>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">- (void)exitApplication &#123;</div><div class="line">    UIWindow *window =  [UIApplication sharedApplication].keyWindow;</div><div class="line">    [UIView animateWithDuration:1.0f animations:^&#123;</div><div class="line">        window.alpha = 0;</div><div class="line">        window.frame = CGRectMake(0, window.bounds.size.width, 0, 0);</div><div class="line">    &#125; completion:^(BOOL finished) &#123;</div><div class="line">        exit(0);</div><div class="line">    &#125;];  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p> <font color="#E3170D"><strong>è­¦å‘Šï¼š</strong></font>ä¸è¦ä½¿ç”¨<code>exit</code>å‡½æ•°ï¼Œè°ƒç”¨<code>exit</code>ä¼šè®©ç”¨æˆ·æ„Ÿè§‰ç¨‹åºå´©æºƒäº†ï¼Œä¸ä¼šæœ‰æŒ‰<code>Home</code>é”®è¿”å›æ—¶çš„å¹³æ»‘è¿‡æ¸¡å’ŒåŠ¨ç”»æ•ˆæœã€‚</p>
<p> å¦å¤–ï¼Œä½¿ç”¨<code>exit</code>å¯èƒ½ä¼šä¸¢å¤±æ•°æ®ï¼Œå› ä¸ºè°ƒç”¨<code>exit</code>å¹¶ä¸ä¼šè°ƒç”¨<code>-applicationWillTerminate:</code>æ–¹æ³•å’Œ<code>UIApplicationDelegate</code>æ–¹æ³•ï¼› </p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢ã€‚ä¹Ÿç®—æ˜¯å¯¹ç¨‹åºå‘˜çš„ä¸€ç§çœŸå®å†™ç…§äº†å§ã€‚&lt;/p&gt;
&lt;p&gt;ä»Šå¤©æƒ³ç ”ç©¶ä¸€ä¸‹iOSä¸­é€€å‡ºé¡¹ç›®çš„æ–¹æ³•ï¼Œè¯´æ˜¯ä»Šå¤©ï¼Œå…¶å®ä¹Ÿå…³æ³¨å¹¶å»äº†è§£å¾ˆä¹…äº†ã€‚åªæ˜¯å§‹ç»ˆæ‰¾ä¸åˆ°è‡ªå·±è®¤ä¸ºå¾ˆå¥½çš„æ–¹æ³•ã€‚ä»Šå¤©å°±å…ˆæŠŠè‡ªå·±äº†è§£çš„åˆ—ä¸¾ä¸€ä¸‹ï¼Œä»¥åå¦‚æœè¿˜èƒ½æ‰¾åˆ°è®¤ä¸ºæ›´å¥½çš„ï¼Œå°±åœ¨è¡¥å……å§ã€‚&lt;/p&gt;
&lt;p
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
</feed>
