<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Wheat</title>
  <subtitle>æ™¨é’Ÿä¸€å©ï¼Œä¸‡å¢ƒçš†ç©º</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https:guohuaden.com/"/>
  <updated>2017-03-15T03:23:33.000Z</updated>
  <id>https:guohuaden.com/</id>
  
  <author>
    <name>é’å·ä¸‰éƒ¨</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>__bridge å’Œ Core Foundation</title>
    <link href="https:guohuaden.com/2017/03/14/bridge-understand/"/>
    <id>https:guohuaden.com/2017/03/14/bridge-understand/</id>
    <published>2017-03-14T02:25:36.000Z</published>
    <updated>2017-03-15T03:23:33.000Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™ç¯‡çŸ¥è¯†æ¯”è¾ƒåï¼Œæ˜¯åä½å±‚ä¸€äº›çš„ã€‚</p>
<p><strong>ä¸€ï¼š__birdge</strong></p>
<p>ç”±äº<code>__bridge</code>å¾ˆå°‘æ¥è§¦ï¼Œæ‰€ä»¥ä¸“é—¨å»æŸ¥æ‰¾äº†ä¸€ä¸‹ã€‚å…¶å®å®ƒçš„ä½œç”¨å¾ˆç®€å•ï¼Œå°±æ˜¯ï¼šå®ç°<code>id</code>ç±»å‹ä¸<code>void*</code> ç±»å‹çš„ç›¸äº’è½¬æ¢ã€‚</p>
<p>çœ‹ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">id obj = [[NSObject alloc]init];</div><div class="line">void *c = (__bridge void *)(obj); </div><div class="line">id d = (__bridge id)(c);</div><div class="line">NSLog(@&quot;\n obj=%@,\n c=%@,\n d=%@\n&quot;,obj,c,d);</div></pre></td></tr></table></figure>
<p>è¿™é‡Œæˆ‘ä»¬å°±ç”¨åˆ°äº†<code>__bridge</code>ã€‚<br>æ‰“å°ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="http://obzx0h1re.bkt.clouddn.com/__bridgePrint.png" alt="__bridgePrint"></p>
<p>ä¸‹é¢çœ‹ä¸‹ä½¿ç”¨å’Œä¸ä½¿ç”¨<code>__bridge</code>çš„å¯¹æ¯”</p>
<p><img src="http://obzx0h1re.bkt.clouddn.com/__bridgeError.png" alt="__bridgeError"></p>
<p><img src="http://obzx0h1re.bkt.clouddn.com/__bridge.png" alt="__bridge"></p>
<p>   <br></p>
<p><strong>äºŒï¼šCore Foundation</strong></p>
<p><strong>1ã€ä»€ä¹ˆæ˜¯Core Foundation</strong></p>
<p>Core Foundationæ¡†æ¶ (CoreFoundation.framework) æ˜¯ä¸€ç»„Cè¯­è¨€æ¥å£ï¼Œå®ƒä»¬ä¸ºiOSåº”ç”¨ç¨‹åºæä¾›åŸºæœ¬æ•°æ®ç®¡ç†å’ŒæœåŠ¡åŠŸèƒ½ã€‚</p>
<p><strong>æ³¨ï¼š</strong>Core Foundationæ˜¯åº•å±‚æ¡†æ¶ï¼Œå®ƒçš„å¯¹è±¡å¹¶ä¸åœ¨ARCç®¡ç†ä¸‹ï¼Œæ‰€ä»¥éœ€è¦å¼€å‘è€…è‡ªå·±å»ç»´æŠ¤è¿™äº›å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ã€‚</p>
<p><strong>2ã€Core Foundaton çš„ä½œç”¨</strong><br>è‡³äºå®ƒçš„ä½œç”¨ï¼Œè¿™é‡Œæœ‰ä¸€æ®µè‹±æ–‡è§£é‡Šï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">The programming interfaces of Core Foundation objects have been designed for ease of use and reuse. At a general level, Core Foundation:</div><div class="line">    Enables sharing of code and data among various frameworks and libraries.</div><div class="line">    Makes some degree of operating-system independence possible .</div><div class="line">    Supports internationalization with Unicode strings.</div><div class="line">    Provides common API and other useful capabilities, including a plug-in architecture, XML property lists, and preferences.</div><div class="line">Core Foundation makes it possible for the different frameworks and libraries on OS X to share code and data. Applications, libraries, and frameworks can define C routines that incorporate Core Foundation types in their external interfaces; they can thus communicate dataâ€”as Core Foundation objectsâ€”to each other through these interfaces.</div></pre></td></tr></table></figure>
<p>ç¿»è¯‘åï¼Œå¤§è‡´æ„æ€æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Core Foundationå¯¹è±¡çš„ç¼–ç¨‹æ¥å£å·²è®¾è®¡ä¸ºæ˜“äºä½¿ç”¨å’Œé‡ç”¨ã€‚ åœ¨ä¸€èˆ¬çš„æ„ä¹‰ï¼ŒCore Foundationï¼š</div><div class="line">     1ã€æ”¯æŒåœ¨å„ç§æ¡†æ¶å’Œåº“ä¹‹é—´å…±äº«ä»£ç å’Œæ•°æ®</div><div class="line">     2ã€ä½¿æŸç§ç¨‹åº¦çš„æ“ä½œç³»ç»Ÿç‹¬ç«‹æ€§æˆä¸ºå¯èƒ½</div><div class="line">     3ã€æ”¯æŒä½¿ç”¨Unicodeå­—ç¬¦ä¸²è¿›è¡Œå›½é™…åŒ–</div><div class="line">     4ã€æä¾›é€šç”¨APIå’Œå…¶ä»–æœ‰ç”¨çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬æ’ä»¶æ¶æ„ï¼ŒXMLå±æ€§åˆ—è¡¨å’Œé¦–é€‰é¡¹</div><div class="line">Core Foundationä½¿å¾—OS Xä¸Šçš„ä¸åŒæ¡†æ¶å’Œåº“å¯ä»¥å…±äº«ä»£ç å’Œæ•°æ®ã€‚ åº”ç”¨ç¨‹åºï¼Œåº“å’Œæ¡†æ¶å¯ä»¥å®šä¹‰åœ¨å…¶å¤–éƒ¨æ¥å£ä¸­å¹¶å…¥Core Foundationç±»å‹çš„Cä¾‹ç¨‹; å®ƒä»¬å› æ­¤å¯ä»¥é€šè¿‡è¿™äº›æ¥å£å°†æ•°æ®ä½œä¸ºCore Foundationå¯¹è±¡ä¼ é€’åˆ°å½¼æ­¤ã€‚</div></pre></td></tr></table></figure>
<p><strong>ä¸‰ã€Objective-C å’Œ Core Foundation å¯¹è±¡ä¹‹é—´è½¬æ¢</strong></p>
<p>iOSå…è®¸Objective-C å’Œ Core Foundation å¯¹è±¡ä¹‹é—´å¯ä»¥è½»æ¾çš„è½¬æ¢ã€‚</p>
<p>åœ¨ã€ŠiOSå¼€å‘è¿›é˜¶ã€‹ä¸€ä¹¦ä¸­ï¼Œå”å·§æåˆ°ï¼šåœ¨ARCä¸‹ï¼Œæœ‰æ—¶å€™éœ€è¦å°†ä¸€ä¸ªCore Foundationå¯¹è±¡è½¬æ¢æˆä¸€ä¸ªObject-Cå¯¹è±¡ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œè½¬æ¢è¿‡ç¨‹ä¸­å¼•ç”¨è®¡æ•°éœ€è¦å¦‚ä½•è°ƒæ•´ï¼Œè¿™æ—¶ä¹Ÿä¼šç”¨åˆ°bridgeè¿™ä¸ªå…³é”®å­—ã€‚</p>
<ul>
<li>__bridge: åªåšç±»å‹è½¬æ¢ï¼Œä¸ä¿®æ”¹ç›¸å…³å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ï¼ŒåŸæ¥çš„Core Foundationå¯¹è±¡åœ¨ä¸ç”¨æ—¶ï¼Œéœ€è¦è°ƒç”¨CFReleaseæ–¹æ³•ã€‚</li>
<li>__bridge_retained: ç±»å‹è½¬æ¢åå°†ç›¸å…³å¯¹è±¡çš„å¼•ç”¨è®¡æ•°åŠ 1ï¼ŒåŸæ¥çš„Core Foundationå¯¹è±¡åœ¨ä¸ç”¨æ—¶ï¼Œéœ€è¦è°ƒç”¨CFReleaseæ–¹æ³•ã€‚</li>
<li>__bridge_transfer: ç±»å‹è½¬æ¢åï¼Œå°†è¯¥å¯¹è±¡çš„å¼•ç”¨è®¡æ•°äº¤ç»™ARCç®¡ç†ï¼ŒCore Foundationå¯¹è±¡åœ¨ä¸ç”¨æ—¶ï¼Œä¸å†éœ€è¦è°ƒç”¨CFReleaseæ–¹æ³•ã€‚</li>
</ul>
<hr>
<p><code><strong>__bridge</strong></code></p>
<hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">    id obj = [[NSObject alloc]init];</div><div class="line">//    void *a = obj;</div><div class="line">//    id b = a;</div><div class="line">    void *c = (__bridge void *)(obj);//åªåšç±»å‹è½¬æ¢ï¼Œä¸ä¿®æ”¹ç›¸å…³å¯¹è±¡çš„å¼•ç”¨è®¡æ•°</div><div class="line">    NSLog(@&quot;obj-c count is %ld&quot;, CFGetRetainCount(c));//è¾“å‡ºç»“æœï¼š obj-c count is 1</div><div class="line">    id d = (__bridge id)(c); </div><div class="line">    NSLog(@&quot;obj-d retainCount %ld&quot;,CFGetRetainCount((__bridge CFTypeRef)(d)));//è¾“å‡ºç»“æœï¼šobj-d retainCount 2</div><div class="line">    NSLog(@&quot;\n obj=%@,\n c=%@,\n d=%@\n&quot;,obj,c,d);</div><div class="line">    //__bridge</div><div class="line">    CFStringRef CFString = CFStringCreateWithCString(kCFAllocatorDefault, &quot;hello Core Foundation&quot;, kCFStringEncodingASCII);</div><div class="line">    NSLog(@&quot;CFString retainCount= %ld&quot;,CFGetRetainCount(CFString));//CFString retainCount= 1</div><div class="line">    NSString *string = (__bridge NSString *)CFString;</div><div class="line">    NSLog(@&quot;CFstring==%@,\nstring==%@\n&quot;,CFString,string);</div><div class="line">    NSString *qStr = @&quot;qgh&quot;;</div><div class="line">    CFStringRef qCFStr = (__bridge CFStringRef)qStr;</div><div class="line">    NSLog(@&quot;qStr==%@,qCFStr==%@\n&quot;,qStr,qCFStr);</div><div class="line">    NSArray *array = @[@&quot;a&quot;,@&quot;b&quot;,@&quot;c&quot;,@&quot;d&quot;,@&quot;e&quot;,@&quot;f&quot;,@&quot;g&quot;,@&quot;h&quot;];</div><div class="line">    CFArrayRef CFArray = (__bridge CFArrayRef)(array);</div><div class="line">    NSLog(@&quot;CFArray retainCount= %ld&quot;,CFGetRetainCount(CFArray));//CFArray retainCount= 1</div><div class="line">    NSLog(@&quot;array==%@&quot;,CFArray);</div></pre></td></tr></table></figure>
<hr>
<p><strong><code>__bridge_transfer</code></strong></p>
<hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//__bridge_transfer:ç±»å‹è½¬æ¢åï¼Œå°†è¯¥å¯¹è±¡çš„å¼•ç”¨è®¡æ•°äº¤ç»™ARCç®¡ç†.</div><div class="line">NSString *transferString = [[NSString alloc]initWithFormat:@&quot;test:::__bridge_transfer&quot;];</div><div class="line">CFStringRef CFTransferString = (__bridge_retained CFStringRef)(transferString);</div><div class="line">NSLog(@&quot;CFTransferString count is %ld&quot;, CFGetRetainCount(CFTransferString));//CFTransferString count is 2</div><div class="line">transferString = (__bridge_transfer NSString *)(CFTransferString);</div><div class="line">NSLog(@&quot;transferString count is %ld&quot;, CFGetRetainCount((__bridge CFTypeRef)(transferString)));//transferString count is 1</div></pre></td></tr></table></figure>
<hr>
<p><strong><code>__bridge_retained</code></strong></p>
<hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//__bridge_retained: ç±»å‹è¢«è½¬æ¢æ—¶ï¼Œå…¶å¯¹è±¡çš„æ‰€æœ‰æƒä¹Ÿå°†è¢«å˜æ¢åå˜é‡æ‰€æŒæœ‰</div><div class="line">void *y = 0;</div><div class="line">id object = [[NSObject alloc]init];</div><div class="line">y = (__bridge_retained void*)(object);//ç±»å‹è½¬æ¢åå°†ç›¸å…³å¯¹è±¡çš„å¼•ç”¨è®¡æ•°åŠ 1</div><div class="line">NSLog(@&quot;object-y count is %ld&quot;, CFGetRetainCount(y));//object-y count is 2</div><div class="line">NSLog(@&quot;class=%@&quot;,[(__bridge id)(y) class]);</div></pre></td></tr></table></figure>
<hr>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™ç¯‡çŸ¥è¯†æ¯”è¾ƒåï¼Œæ˜¯åä½å±‚ä¸€äº›çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸€ï¼š__birdge&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç”±äº&lt;code&gt;__bridge&lt;/code&gt;å¾ˆå°‘æ¥è§¦ï¼Œæ‰€ä»¥ä¸“é—¨å»æŸ¥æ‰¾äº†ä¸€ä¸‹ã€‚å…¶å®å®ƒçš„ä½œç”¨å¾ˆç®€å•ï¼Œå°±æ˜¯ï¼šå®ç°&lt;code&gt;id&lt;/code&gt;ç±»å‹ä¸&lt;code&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>å€Ÿæˆ‘</title>
    <link href="https:guohuaden.com/2017/03/12/borrow-me/"/>
    <id>https:guohuaden.com/2017/03/12/borrow-me/</id>
    <published>2017-03-12T01:44:16.000Z</published>
    <updated>2017-03-13T02:18:33.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>å€Ÿæˆ‘ä¸€ä¸ªæš®å¹´ï¼Œ</strong></p>
<p><strong>å€Ÿæˆ‘ç¢ç‰‡ï¼Œ</strong></p>
<p><strong>å€Ÿæˆ‘ç»å‰ä¸é¡¾åï¼Œ</strong></p>
<p><strong>å€Ÿæˆ‘æ‰§æ‹—å¦‚å°‘å¹´ã€‚</strong></p>
<p><strong>å€Ÿæˆ‘åå¤©é•¿æˆçš„å…ˆå¤©ï¼Œ</strong></p>
<p><strong>å€Ÿæˆ‘å˜å¦‚ä¸æ›¾æ”¹å˜ã€‚</strong></p>
<p><strong>å€Ÿæˆ‘ç´ æ·¡çš„ä¸–æ•…å’Œæ˜ç™½çš„æ„šï¼Œ</strong></p>
<p><strong>å€Ÿæˆ‘å¯é¢„çŸ¥çš„é™©ã€‚</strong></p>
<p><strong>å€Ÿæˆ‘æ‚²æ€†çš„ç£Šè½ï¼Œ</strong></p>
<p><strong>å€Ÿæˆ‘æ¸©è½¯çš„é²è½å’Œç©ç¬‘çš„åº„ä¸¥ã€‚</strong></p>
<p><strong>å€Ÿæˆ‘æœ€åˆä¸æœ€ç»ˆçš„ä¸æ•¢ï¼Œå€Ÿæˆ‘ä¸è¨€è€Œå–»çš„ä¸è§ã€‚</strong></p>
<p><strong>å€Ÿæˆ‘ä¸€åœºç§‹å•Šï¼Œå¯ä½ è¯´è¿™å·²æ˜¯å†¬å¤©ã€‚</strong><br><br> </p>
<p><font color="#DC143C"><strong>æ³¨ï¼š</strong></font>è¿™é¦–è¯—æ„Ÿè§‰å¾ˆç‰¹åˆ«ï¼Œåˆæ¬¡è¯»åˆ°æ—¶æ˜¯åœ¨ä¸€ä¸ªå¥½æœ‹å‹å‘è¡¨çš„è¯´è¯´ä¸­ï¼Œé‚£æ—¶çš„æ„Ÿè§‰å¾ˆæ˜¯æ¬¢å–œï¼Œä¹Ÿæœ‰ä¸€äº›è‡ªè´£ã€‚æ¬¢å–œæ˜¯å› ä¸ºå¾ˆå–œæ¬¢ï¼Œè€Œä¸”æœ€ç»ˆè¿˜æ˜¯çœ‹åˆ°äº†è¿™é¦–è¯—ï¼›è‡ªè´£æ˜¯å› ä¸ºï¼Œè¿™ä¹ˆå¥½çš„ä¸€é¦–è¯—ï¼Œæˆ‘å´è¿Ÿè¿Ÿæœªæ›¾å‘ç°ï¼Œå¦‚æœä¸æ˜¯å› ä¸ºè¿™ä¸ªå¥½æœ‹å‹å‘çš„è¯´è¯´ï¼Œæˆ‘ä¹Ÿè®¸å°±ä¼šé”™è¿‡ã€‚<br><br></p>
<p><font color="#DC143C"><strong>å¦æ³¨ï¼š</strong></font>æœ‰äººè¯´è¿™é¦–è¯—æ˜¯æ¨Šå°çº¯å†™ç»™æœ¨å¿ƒçš„ï¼Œä¹Ÿæœ‰äººè¯´æ˜¯æœ¨å¿ƒå†™çš„ã€‚æˆ‘ä¸ç¡®å®šï¼Œæ‰€ä»¥æ²¡æœ‰æ³¨æ˜ä½œè€…ã€‚ä½†è¿™å¹¶ä¸å½±å“æˆ‘å¯¹è¿™é¦–è¯—çš„å–œæ¬¢ï¼Œæˆ‘å–œæ¬¢çš„å§‹ç»ˆæ˜¯è¯—ï¼Œè·Ÿä½œè€…çš„æ˜¯è°å…³ç³»å¹¶ä¸å¤ªå¤§ï¼Œä½†å†™å‡ºè¿™é¦–è¯—çš„ä½œè€…ï¼Œæˆ‘æ˜¯å¾ˆä½©æœçš„ã€‚  <br></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;å€Ÿæˆ‘ä¸€ä¸ªæš®å¹´ï¼Œ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å€Ÿæˆ‘ç¢ç‰‡ï¼Œ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å€Ÿæˆ‘ç»å‰ä¸é¡¾åï¼Œ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å€Ÿæˆ‘æ‰§æ‹—å¦‚å°‘å¹´ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å€Ÿ
    
    </summary>
    
    
      <category term="è¯—æ–‡é›†" scheme="https:guohuaden.com/tags/%E8%AF%97%E6%96%87%E9%9B%86/"/>
    
  </entry>
  
  <entry>
    <title>æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿ --åŒ—å²›</title>
    <link href="https:guohuaden.com/2017/03/12/I-am-not-familiar-with-this-world/"/>
    <id>https:guohuaden.com/2017/03/12/I-am-not-familiar-with-this-world/</id>
    <published>2017-03-12T01:04:32.000Z</published>
    <updated>2017-03-13T01:21:09.000Z</updated>
    
    <content type="html"><![CDATA[<p>ã€€ã€€æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿã€‚ </p>
<p>ã€€ã€€è¿™å¹¶éæ˜¯æˆ‘å®‰é™çš„åŸå› ã€‚ </p>
<p>ã€€ã€€æˆ‘ä¾æ—§æœ‰å¾ˆå¤šé—®é¢˜ï¼Œ </p>
<p>ã€€ã€€é—®å—æ–¹ï¼Œé—®æ•…é‡Œï¼Œé—®å¸Œæœ›ï¼Œé—®è·ç¦»ã€‚  <br>
ã€€ã€€ </p>
<p>ã€€ã€€æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿã€‚ </p>
<p>ã€€ã€€è¿™å¹¶éæ˜¯æˆ‘ç»æœ›çš„åŸå› ã€‚ </p>
<p>ã€€ã€€æˆ‘ä¾æ—§æœ‰å¾ˆå¤šçƒ­æƒ…ï¼Œ </p>
<p>ã€€ã€€ç»™åˆ†å¼€ï¼Œç»™æ­»äº¡ï¼Œç»™æ˜¨å¤©ï¼Œç»™å®‰å¯‚ã€‚  <br>
ã€€ã€€ </p>
<p>ã€€ã€€æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿã€‚ </p>
<p>ã€€ã€€è¿™å¹¶éæ˜¯æˆ‘è™šå‡çš„åŸå› ã€‚ </p>
<p>ã€€ã€€æˆ‘ä¾æ—§æœ‰å¾ˆå¤šçœŸè¯šï¼Œ </p>
<p>ã€€ã€€ç¦»ä¸å¼€ï¼Œæ”¾ä¸ä¸‹ï¼Œæ´»ä¸‹å»ï¼Œçˆ±å¾—èµ·ã€‚  <br>
ã€€ã€€ </p>
<p>ã€€ã€€æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿã€‚ </p>
<p>ã€€ã€€è¿™å¹¶éæ˜¯æˆ‘å­¤å¯‚çš„åŸå› ã€‚ </p>
<p>ã€€ã€€æˆ‘ä¾æ—§æœ‰å¾ˆå¤šè¯‰æ±‚ï¼Œ </p>
<p>ã€€ã€€éœ€æ…°è—‰ï¼Œå¾…åˆ†äº«ï¼Œæƒ¹å¿ƒçƒ¦ï¼Œå‘Šè¯‰ä½ ã€‚  <br>
ã€€ã€€ </p>
<p>ã€€ã€€æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿã€‚ </p>
<p>ã€€ã€€è¿™å¹¶éæ˜¯æˆ‘å†·æ¼ çš„åŸå› ã€‚ </p>
<p>ã€€ã€€æˆ‘ä¾æ—§æœ‰å¾ˆå¤šåŠ¨æƒ…ï¼Œ </p>
<p>ã€€ã€€ä¸ºæ—¶é—´ï¼Œä¸ºç™½äº‘ï¼Œä¸ºå¤©é»‘ï¼Œç•å¤©å‘½ã€‚  <br>
ã€€ã€€ </p>
<p>ã€€ã€€æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿã€‚ </p>
<p>ã€€ã€€è¿™å¹¶éæ˜¯æˆ‘é€ƒé¿çš„åŸå› ã€‚ </p>
<p>ã€€ã€€æˆ‘ä¾æ—§æœ‰å¾ˆå¤šæ†§æ†¬ï¼Œ </p>
<p>ã€€ã€€å¯¹æ¢¦æƒ³ï¼Œå¯¹è®°å¿†ï¼Œå¯¹å¤±è´¥ï¼Œå¯¹å¸Œå†€ã€‚  <br>
ã€€ã€€ </p>
<p>ã€€ã€€æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿã€‚ </p>
<p>ã€€ã€€è¿™å¹¶éæ˜¯æˆ‘å‘å¾®çš„åŸå› ã€‚ </p>
<p>ã€€ã€€æˆ‘ä¾æ—§æœ‰å¾ˆå¤šå‹‡æ•¢ï¼Œ </p>
<p>ã€€ã€€ä¸ä¿¡è¾“ï¼Œä¸ä¿¡ç¥ï¼Œä¸ä¿¡å¤©ï¼Œä¸ä¿¡åœ°ã€‚  <br>
ã€€ã€€ </p>
<p>ã€€ã€€æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿã€‚ </p>
<p>ã€€ã€€è¿™å¹¶éæ˜¯æˆ‘å¤±è½çš„åŸå› ã€‚ </p>
<p>ã€€ã€€æˆ‘ä¾æ—§æœ‰å¾ˆå¤šé«˜æ˜‚ï¼Œ </p>
<p>ã€€ã€€æœ‰å­˜åœ¨ï¼Œæœ‰ä»·å€¼ï¼Œæœ‰ç‹¬ç‰¹ï¼Œæœ‰æ„ä¹‰ã€‚  <br>
ã€€ã€€ </p>
<p>ã€€ã€€æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿã€‚ </p>
<p>ã€€ã€€è¿™å¹¶éæ˜¯æˆ‘è¿·èŒ«çš„åŸå› ã€‚ </p>
<p>ã€€ã€€æˆ‘ä¾æ—§æœ‰å¾ˆå¤šæ–¹å‘ï¼Œ </p>
<p>ã€€ã€€å¾€å‰èµ°ï¼Œå›å¤´æœ›ï¼Œä¼šè·³è·ƒï¼Œä¼šåœæ¯ã€‚  <br>
ã€€ã€€ </p>
<p>ã€€ã€€æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿã€‚ </p>
<p>ã€€ã€€è¿™å¹¶éæ˜¯æˆ‘æ’•è£‚çš„åŸå› ã€‚ </p>
<p>ã€€ã€€æˆ‘ä¾æ—§æœ‰å¾ˆå¤šå®Œæ•´ï¼Œ </p>
<p>ã€€ã€€è‡³å°‘æˆ‘è¦æˆå…¨æˆ‘è‡ªå·±ã€‚  <br>
ã€€ã€€ </p>
<p>ã€€ã€€æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿã€‚ </p>
<p>ã€€ã€€è¿™å¹¶éæ˜¯æˆ‘é€‰æ‹©æ­»äº¡æˆ–è€…ç”Ÿå­˜çš„åŸå› ã€‚ </p>
<p>ã€€ã€€æˆ‘ä¾æ—§æœ‰å¾ˆå¤šé€‰æ‹©ï¼Œ </p>
<p>ã€€ã€€åˆšå·§ï¼Œè¿™ä¸¤è€…ï¼Œéƒ½ä¸æ˜¯é€‰é¡¹ä¹‹ä¸€ã€‚  <br>
ã€€ã€€</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€€ã€€æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿã€‚ &lt;/p&gt;
&lt;p&gt;ã€€ã€€è¿™å¹¶éæ˜¯æˆ‘å®‰é™çš„åŸå› ã€‚ &lt;/p&gt;
&lt;p&gt;ã€€ã€€æˆ‘ä¾æ—§æœ‰å¾ˆå¤šé—®é¢˜ï¼Œ &lt;/p&gt;
&lt;p&gt;ã€€ã€€é—®å—æ–¹ï¼Œé—®æ•…é‡Œï¼Œé—®å¸Œæœ›ï¼Œé—®è·ç¦»ã€‚  &lt;br&gt;
ã€€ã€€ &lt;/p&gt;
&lt;p&gt;ã€€ã€€æˆ‘å’Œè¿™ä¸ªä¸–ç•Œä¸ç†Ÿã€‚ &lt;/p&gt;
&lt;p&gt;ã€€ã€€è¿™å¹¶éæ˜¯æˆ‘ç»æœ›çš„åŸå› ã€‚ &lt;/p&gt;

    
    </summary>
    
    
      <category term="è¯—æ–‡é›†" scheme="https:guohuaden.com/tags/%E8%AF%97%E6%96%87%E9%9B%86/"/>
    
  </entry>
  
  <entry>
    <title>iOSä¹‹é˜²æ­¢ç”¨æˆ·é‡å¤ç‚¹å‡»Buttonï¼ˆæŒ‰é’®ï¼‰é—®é¢˜</title>
    <link href="https:guohuaden.com/2017/03/10/Repeat-ButtonClick/"/>
    <id>https:guohuaden.com/2017/03/10/Repeat-ButtonClick/</id>
    <published>2017-03-10T06:46:31.000Z</published>
    <updated>2017-03-10T06:59:02.000Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼šå› ä¸ºç½‘ç»œè¾ƒæ…¢çš„åŸå› ï¼Œç”¨æˆ·ä¼šä¸è€çƒ¦çš„ä¸€ç›´å»ç‚¹å‡»æŒ‰é’®ï¼Œè¿™æ ·å¯¼è‡´çš„ç»“æœæ—¶ï¼šç›¸å…³ä»£ç ä¸€éä¸€éçš„è¢«é‡å¤æ‰§è¡Œï¼Œå¦‚æœæŒ‰é’®çš„äº‹ä»¶æ˜¯ç½‘ç»œè¯·æ±‚çš„è¯ï¼Œè¿™æ ·åˆå¯¼è‡´ä¸€ç§ç½‘ç»œè¯·æ±‚çš„å¾ªç¯ã€‚æ‰€ä»¥æˆ‘ä»¬è§£å†³çš„æ–¹æ³•æ˜¯åœ¨æ‰§è¡ŒæŒ‰é’®ç‚¹å‡»äº‹ä»¶æ—¶ï¼Œä¸º<code>Button</code>åŠ ä¸Šé˜²æ­¢é‡å¤ç‚¹å‡»çš„æ–¹æ³•ã€‚</p>
<p>å…·ä½“çš„æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼š</p>
<font color="#0B1746"><strong>1ã€ä½¿ç”¨<code>performSelector</code>æ–¹æ³•</strong></font>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- (void)performSelector:(SEL)aSelector withObject:(nullable id)anArgument afterDelay:(NSTimeInterval)delay;</div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬åœ¨ç‚¹å‡»äº‹ä»¶ä¸­æ·»åŠ å»¶è¿Ÿæ‰§è¡Œäº‹ä»¶ï¼Œåœ¨å»¶è¿Ÿçš„è¿™ä¸ªæœŸé—´ï¼Œè¯¥æŒ‰é’®çš„<code>enabled</code>è®¾ç½®ä¸ºNOï¼Œå³ä¸èƒ½ç‚¹å‡»ã€‚è¿‡äº†å»¶è¿Ÿæ—¶é—´åå†è®¾ç½®ä¸º<code>YES</code>ã€‚ä»¥è¿™ç§æ–¹å¼é˜²æ­¢ç”¨æˆ·é‡å¤ç‚¹å‡»æŒ‰é’®ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">-(void)buttonClicked:(id)sender</div><div class="line">&#123;</div><div class="line">   sender.enabled = NO;</div><div class="line">  //é˜²æ­¢ç”¨æˆ·é‡å¤ç‚¹å‡»</div><div class="line">  	[self performSelector:@selector(changeButtonStatus:) withObject:nil afterDelay:1.0f];</div><div class="line">&#125;</div><div class="line">-(void)changeButtonStatus:(id)sender</div><div class="line">&#123;</div><div class="line">    sender.enabled = YES;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä»¥ä¸Šçš„æ–¹æ³•å¯ä»¥å¾ˆå¥½çš„è§£å†³æˆ‘ä»¬é‡å¤ç‚¹å‡»æŒ‰é’®çš„é—®é¢˜ï¼Œä½†æ›´æ¨èçš„å´æ˜¯ä¸‹é¢çš„è¿™ç§æ–¹æ³•ï¼š</p>
<font color="#0B1746"><strong>2ã€ä½¿ç”¨<code>cancelPreviousPerformRequestsWithTarget</code> å’Œ  <code>performSelector</code> ç»“åˆçš„æ–¹æ³•ï¼ˆæ¨èä½¿ç”¨</strong>ï¼‰</font>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">+ (void)cancelPreviousPerformRequestsWithTarget:(id)aTarget selector:(SEL)aSelector object:(nullable id)anArgument;</div><div class="line">- (void)performSelector:(SEL)aSelector withObject:(nullable id)anArgument afterDelay:(NSTimeInterval)delay;</div></pre></td></tr></table></figure>
<p>åŸç†æ˜¯ï¼šæˆ‘ä»¬æ¯æ¬¡ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œå…ˆæ‰§è¡Œå–æ¶ˆä¹‹å‰çš„æŒ‰é’®ç‚¹å‡»æ‰§è¡Œäº‹ä»¶ï¼Œç„¶åå†å»æ‰§è¡Œä¸€ä¸ªå»¶è¿Ÿæ‰§è¡Œæ–¹æ³•ï¼ˆæ–¹æ³•ä¸­æ‰§è¡Œçš„æ˜¯æŒ‰é’®æ‰§è¡Œçš„äº‹ä»¶ï¼‰ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">- (void)buttonClicked:(id)sender</div><div class="line">&#123;</div><div class="line">    //åœ¨è¿™é‡ŒåšæŒ‰é’®çš„æƒ³åšçš„äº‹æƒ…ã€‚</div><div class="line">&#125;</div><div class="line">- (void)starButtonClicked:(id)sender</div><div class="line">&#123;</div><div class="line">    //å…ˆå°†æœªåˆ°æ—¶é—´æ‰§è¡Œå‰çš„ä»»åŠ¡å–æ¶ˆã€‚</div><div class="line">    [[self class] cancelPreviousPerformRequestsWithTarget:self selector:@selector(buttonClicked:)object:sender];</div><div class="line">    [self performSelector:@selector(buttonClicked:)withObject:sender afterDelay:0.2f];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç¬¬äºŒç§æ˜¯æˆ‘ä»¬æ¯”è¾ƒæ¨èçš„æ–¹æ³•ï¼Œä½†è¿™ä¸¤ç§æ–¹æ³•éƒ½å¯ä»¥è§£å†³æŒ‰é’®è¢«é‡å¤ç‚¹å‡»çš„é—®é¢˜ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼šå› ä¸ºç½‘ç»œè¾ƒæ…¢çš„åŸå› ï¼Œç”¨æˆ·ä¼šä¸è€çƒ¦çš„ä¸€ç›´å»ç‚¹å‡»æŒ‰é’®ï¼Œè¿™æ ·å¯¼è‡´çš„ç»“æœæ—¶ï¼šç›¸å…³ä»£ç ä¸€éä¸€éçš„è¢«é‡å¤æ‰§è¡Œï¼Œå¦‚æœæŒ‰é’®çš„äº‹ä»¶æ˜¯ç½‘ç»œè¯·æ±‚çš„è¯ï¼Œè¿™æ ·åˆå¯¼è‡´ä¸€ç§ç½‘ç»œè¯·æ±‚çš„å¾ªç¯ã€‚æ‰€ä»¥æˆ‘ä»¬è§£å†³çš„æ–¹æ³•æ˜¯åœ¨æ‰§è¡ŒæŒ‰é’®ç‚¹å‡»äº‹ä»¶æ—¶ï¼Œä¸º&lt;code&gt;Button&lt;/code
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>æœåŠ¡å™¨è¿”å›çš„jsonæ•°æ®ä¸­å«æœ‰nullçš„å¤„ç†æ–¹æ³•</title>
    <link href="https:guohuaden.com/2017/03/06/json-dataNull/"/>
    <id>https:guohuaden.com/2017/03/06/json-dataNull/</id>
    <published>2017-03-06T05:33:53.000Z</published>
    <updated>2017-03-10T05:49:44.000Z</updated>
    
    <content type="html"><![CDATA[<p>å› ä¸ºæœ‰é‡åˆ°è¿‡ç±»ä¼¼æƒ…å†µï¼Œæ‰€ä»¥å°±æƒ³åˆ°äº†ä¸€äº›è§£å†³æ–¹æ³•ï¼Œå¹¶ä¸”å®è·µäº†ä¸€ä¸‹ï¼Œè¿™é‡Œç®€å•çš„åšä¸ªè®°å½•ã€‚</p>
<p><strong>æ³¨ï¼š</strong>æœ‰çœ‹åˆ°ä¸å°‘çš„è¯„ä»·ï¼Œæœ‰è¯´åå°è´£ä»»ï¼Œä¹Ÿæœ‰è¯´æ€ªç§»åŠ¨ç«¯æ²¡æœ‰åšå®¹é”™å¤„ç†ã€‚æˆ‘è¿™é‡Œå°±äº‹è®ºäº‹çš„è¯´ä¸‹ï¼Œç§»åŠ¨ç«¯ä»æœåŠ¡å™¨å¾—åˆ°çš„æ•°æ®ä¸­ç¡®å®æ˜¯ä¸åº”è¯¥åŒ…å«<code>null</code>çš„ï¼Œå› ä¸ºè¿™æœ¬èº«å°±æ˜¯ä¸åˆç†çš„ã€‚ï¼ˆå½“ç„¶ï¼Œæˆ‘çš„å°±äº‹è®ºäº‹æ˜¯ç«™åœ¨iOSç«‹åœºä¸Šè¯´çš„ï¼Œè¿™ä¸ªæ— å¯åšéï¼‰ã€‚</p>
<p>ä¸‹é¢ğŸ‘‡è¯´ä¸€ä¸‹æƒ³åˆ°çš„å‡ ç§æ–¹æ³•ï¼š</p>
<p><strong>ä¸€ã€ å¯¹äºæ‰€æœ‰ä½¿ç”¨åˆ°çš„jsonä¸­çš„å¯¹è±¡åšåˆ¤æ–­ï¼ˆå½“ç„¶è¿™æ˜¯æœ€ç¬¨çš„æ–¹æ³•ï¼‰</strong></p>
<pre><code>NSString *msg ;
if ([str isKindOfClass: [NSNull class]]){
    NSLog(@&quot;str ä¸ºç©ºï¼&quot;);
}
//æˆ–è€…ä½¿ç”¨[str isEqual:[NSNull null]]
</code></pre><p>ä¸ºä»€ä¹ˆé¦–å…ˆè¯´è¿™ç§æ–¹æ³•å‘¢ï¼Œå¤§æŠµæ˜¯å› ä¸ºè¿™ä¸ªæ–¹æ³•çš„å·¥ä½œé‡æ¯”è¾ƒå¤§å§ã€‚ä½†æœ‰æ—¶å€™ä½ æ˜¯å®Œå…¨ä¸èƒ½é¿å…è¿™ç§æƒ…å†µçš„ï¼Œå°¤å…¶æ˜¯åœ¨è€æ—§çš„é¡¹ç›®ä¸­ï¼Œå½“ä½ çœ‹åˆ°é¡¹ç›®ä¸­æ‰€æœ‰çš„è§£æéƒ½æ˜¯<code>KVO</code>æ¨¡å¼æ—¶ï¼Œä½ å°±çŸ¥é“ä¸€ä¸ªä¸ªå»åˆ¤æ–­æ˜¯å¤šä¹ˆè®©äººçº ç»“çš„äº‹æƒ…äº†ã€‚</p>
<hr>
<p><strong>äºŒã€ä½¿ç”¨<code>JSONModel</code>ç­‰ç¬¬ä¸‰æ–¹jsonè§£æåº“</strong>  </p>
<p><code>JSONModel</code>æœ‰ä¸“é—¨é’ˆå¯¹å¯¹è±¡ä¸º<code>null</code>çš„å¤„ç†ï¼Œä½¿å…¶è¿”å›<code>â€œ<null>â€œ</null></code>ã€‚iOSç§»åŠ¨ç«¯èµ‹å€¼ä¸º<code>nil</code>ã€‚</p>
<hr>
<p><strong>ä¸‰ã€æœ‰ä¸€ä¸ªä¸“é—¨é’ˆå¯¹æ•°æ®ä¸º<code>null</code>çš„å¤„ç†åº“ï¼Œ<code>NullSafe</code></strong></p>
<p>è¿™ä¸ªåº“æ˜¯ä¸“é—¨å¤„ç†å¯¹è±¡ä¸ºnullçš„ã€‚åªæœ‰ä¸€ä¸ª<code>.m</code>æ–‡ä»¶ã€‚ä½¿ç”¨ä¹Ÿç®€å•ï¼Œå› ä¸ºä½ åªéœ€è¦æ·»åŠ åˆ°é¡¹ç›®ä¸­å°±å¯ä»¥äº†ï¼Œä¸å†éœ€è¦å¼•å…¥å¤´æ–‡ä»¶ç­‰å…¶ä»–ä»»æ„æ“ä½œã€‚</p>
<p>è¿™é‡Œæ”¾ä¸€ä¸ªæˆ‘æµ‹è¯•æ˜¯ä½¿ç”¨çš„ç®€å•demo</p>
<p><a href="https://github.com/Wheat-Qin/Data_null_test" target="_blank" rel="external">github:data_nullDemo</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å› ä¸ºæœ‰é‡åˆ°è¿‡ç±»ä¼¼æƒ…å†µï¼Œæ‰€ä»¥å°±æƒ³åˆ°äº†ä¸€äº›è§£å†³æ–¹æ³•ï¼Œå¹¶ä¸”å®è·µäº†ä¸€ä¸‹ï¼Œè¿™é‡Œç®€å•çš„åšä¸ªè®°å½•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ³¨ï¼š&lt;/strong&gt;æœ‰çœ‹åˆ°ä¸å°‘çš„è¯„ä»·ï¼Œæœ‰è¯´åå°è´£ä»»ï¼Œä¹Ÿæœ‰è¯´æ€ªç§»åŠ¨ç«¯æ²¡æœ‰åšå®¹é”™å¤„ç†ã€‚æˆ‘è¿™é‡Œå°±äº‹è®ºäº‹çš„è¯´ä¸‹ï¼Œç§»åŠ¨ç«¯ä»æœåŠ¡å™¨å¾—åˆ°çš„æ•°æ®ä¸­ç¡®å®æ˜¯ä¸åº”è¯¥åŒ…å«&lt;code
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>WebView æ‰“ä¸å¼€é—®é¢˜ (è½¬ç é—®é¢˜)</title>
    <link href="https:guohuaden.com/2017/02/27/WebView-ErrorOpen/"/>
    <id>https:guohuaden.com/2017/02/27/WebView-ErrorOpen/</id>
    <published>2017-02-27T01:56:54.000Z</published>
    <updated>2017-03-08T02:23:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>æ— æ„ä¸­é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œé¡¹ç›®ä¸­ä½¿ç”¨<code>UIWebView</code>æ‰“ä¸å¼€<code>web</code>ç•Œé¢ï¼Œæ£€æŸ¥è¿‡<code>URL</code>å’Œä»£ç ï¼Œå‘ç°å¹¶æ²¡æœ‰é—®é¢˜ã€‚éšè€ƒè™‘åˆ°ä¸€ç‚¹ï¼š<strong>URLä¸­åŒ…å«æ±‰å­—</strong>ã€‚</p>
<p>å¤„ç†å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">NSString *URLString = [NSString stringWithFormat:@&quot;%@id=%@&amp;email=%@&quot;,ProviderOrder,self.orderID,emailStr];</div><div class="line">//æ–¹æ³•æ˜¯ç”¨æ¥è¿›è¡Œè½¬ç çš„ï¼Œå³å°†æ±‰å­—è½¬ç </div><div class="line">NSString *encodedString1 = [URLString stringByAddingPercentEncodingWithAllowedCharacters:[NSCharacterSet URLQueryAllowedCharacterSet]];</div><div class="line">//è¯¥æ–¹æ³•ç”¨æ¥è¿›è¡Œè½¬ç çš„ï¼Œå³å°†æ±‰å­—è½¬ç ï¼ˆåœ¨Xcode7ä¸­ï¼ŒiOS9ï¼‰</div><div class="line">//NSString *encodedString = [URLString stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];</div><div class="line">NSURL *url =[NSURL URLWithString:[NSString stringWithFormat:@&quot;%@&quot;,encodedString1]];</div><div class="line">self.webView = [[UIWebView alloc]initWithFrame:self.view.bounds];</div><div class="line">self.webView.delegate = self;</div><div class="line">NSURLRequest *request = [NSURLRequest requestWithURL:url ];</div><div class="line">[self.webView loadRequest:request];</div><div class="line">[self.view addSubview:self.webView];</div></pre></td></tr></table></figure>
<p>ä¸Šé¢ä¸ºä»€ä¹ˆæ¨èä½¿ç”¨<br><code>(NSString *)stringByAddingPercentEncodingWithAllowedCharacters:(NSCharacterSet *)allowedCharacters</code>,<br>è¿™é‡Œæ˜¯æ–‡æ¡£ä¸­ç»™å‡ºçš„è§£é‡Šï¼š</p>
<p><strong>å…¶ä¸€ï¼š</strong></p>
<pre>
Use -stringByAddingPercentEncodingWithAllowedCharacters: instead, 
which always uses the recommended UTF-8 encoding, 
and which encodes for a specific URL component or subcomponent since each URL component or subcomponent has different rules for what characters are valid.
</pre>

<p>ç¿»è¯‘å¦‚ä¸‹ï¼š</p>
<p>ä½¿ç”¨<code>-stringByAddingPercentEncodingWithAllowedCharactersï¼š</code>æ”¹ä¸ºï¼Œ<br>å®ƒæ€»æ˜¯ä½¿ç”¨æ¨èçš„<code>UTF-8</code>ç¼–ç ï¼Œ<br>å¹¶ä¸”å…¶å¯¹ç‰¹å®šçš„URLç»„ä»¶æˆ–å­ç»„ä»¶è¿›è¡Œç¼–ç ï¼Œå› ä¸ºæ¯ä¸ªURLç»„ä»¶æˆ–å­ç»„ä»¶å¯¹äºä»€ä¹ˆå­—ç¬¦æ˜¯æœ‰æ•ˆçš„å…·æœ‰ä¸åŒçš„è§„åˆ™ã€‚</p>
<p><strong>å…¶äºŒï¼š</strong></p>
<pre>
Returns a new string made from the receiver by replacing all characters not in the allowedCharacters set with percent encoded characters. 
UTF-8 encoding is used to determine the correct percent encoded characters. 
Entire URL strings cannot be percent-encoded. 
This method is intended to percent-encode an URL component or subcomponent string, NOT the entire URL string. 
Any characters in allowedCharacters outside of the 7-bit ASCII range are ignored.
</pre>

<p>ç¿»è¯‘å¦‚ä¸‹ï¼š</p>
<p>é€šè¿‡æ›¿æ¢ä¸åœ¨allowedCharactersä¸­çš„æ‰€æœ‰å­—ç¬¦ï¼Œä½¿ç”¨ç™¾åˆ†æ¯”ç¼–ç å­—ç¬¦è¿”å›ä»æ¥æ”¶å™¨åˆ›å»ºçš„æ–°å­—ç¬¦ä¸²ã€‚ UTF-8ç¼–ç ç”¨äºç¡®å®šæ­£ç¡®çš„ç™¾åˆ†æ¯”ç¼–ç å­—ç¬¦ã€‚ æ•´ä¸ªURLå­—ç¬¦ä¸²ä¸èƒ½è¿›è¡Œç™¾åˆ†å·ç¼–ç ã€‚ æ­¤æ–¹æ³•æ—¨åœ¨å¯¹URLç»„ä»¶æˆ–å­ç»„ä»¶å­—ç¬¦ä¸²ï¼ˆè€Œä¸æ˜¯æ•´ä¸ªURLå­—ç¬¦ä¸²ï¼‰è¿›è¡Œç™¾åˆ†æ¯”ç¼–ç ã€‚ å°†å¿½ç•¥7ä½ASCIIèŒƒå›´ä¹‹å¤–çš„allowedCharactersä¸­çš„ä»»ä½•å­—ç¬¦ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ— æ„ä¸­é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œé¡¹ç›®ä¸­ä½¿ç”¨&lt;code&gt;UIWebView&lt;/code&gt;æ‰“ä¸å¼€&lt;code&gt;web&lt;/code&gt;ç•Œé¢ï¼Œæ£€æŸ¥è¿‡&lt;code&gt;URL&lt;/code&gt;å’Œä»£ç ï¼Œå‘ç°å¹¶æ²¡æœ‰é—®é¢˜ã€‚éšè€ƒè™‘åˆ°ä¸€ç‚¹ï¼š&lt;strong&gt;URLä¸­åŒ…å«æ±‰å­—&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¤„ç†å¦‚ä¸‹ï¼š&lt;
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>å¯¹äºXcodeä¸­ Build Active Architecture Only çš„è®¤è¯†</title>
    <link href="https:guohuaden.com/2017/02/16/Build-Active-Architecture-Only-Query/"/>
    <id>https:guohuaden.com/2017/02/16/Build-Active-Architecture-Only-Query/</id>
    <published>2017-02-16T07:11:12.000Z</published>
    <updated>2017-02-16T08:57:15.000Z</updated>
    
    <content type="html"><![CDATA[<p>ä¹‹å‰åœ¨ç»™é¡¹ç›®é€‚é…64ä½æ—¶ï¼Œçœ‹åˆ°Xcodeä¸­æœ‰è¿™ä¸ªè®¾ç½®ï¼Œå› ä¸ºå…³ç³»åˆ°é€‚é…é—®é¢˜ï¼Œåˆæ¯”è¾ƒå¥½å¥‡ï¼Œå°±äº†è§£äº†ä¸€ç•ªã€‚å‘ç°è¿™ä¸ªè®¾ç½®ä¹Ÿæœ‰ä¸å°çš„ä½œç”¨ã€‚</p>
<p><img src="http://obzx0h1re.bkt.clouddn.com/Build%20Active%20Architecture%20Only2.png" alt="Build Active Architecture Only2"></p>
<font color="#9ACD32"><code>Build Active Architecture Only</code>ï¼šæŒ‡å®šæ˜¯å¦åªå¯¹å½“å‰è¿æ¥è®¾å¤‡æ‰€æ”¯æŒçš„æŒ‡ä»¤é›†ç¼–è¯‘</font>

<p>ç³»ç»Ÿé»˜è®¤æ˜¯ï¼šDebugè®¾ç½®ä¸º<code>Yes</code>ï¼ŒReleaseè®¾ç½®ä¸º<code>No</code>ã€‚</p>
<p><strong>åŸå› </strong>æ˜¯ï¼š</p>
<p>å½“ç›´æ¥æŠŠ<code>Build Active Architecture Only</code> è®¾ç½®ä¸º<code>Yes</code>æ—¶ï¼Œå¯ä»¥ä½¿Debugçš„æ—¶å€™ç¼–è¯‘é€Ÿåº¦æ›´å¿«ï¼Œå› ä¸ºå®ƒåªç¼–è¯‘å½“å‰çš„Architectureç‰ˆæœ¬ã€‚</p>
<p>è€Œå¦‚æœè®¾ç½®ä¸º<code>No</code>ï¼Œåˆ™ç¼–è¯‘çš„äº‹æ‰€æœ‰çš„ç‰ˆæœ¬ã€‚</p>
<p><strong>æ³¨</strong>ï¼š<font color="#FF7F50">    å…¶ä¸­æåˆ°çš„ç‰ˆæœ¬æ˜¯Architectureçš„æ”¯æŒç‰ˆæœ¬ï¼š<code>arm64</code>ã€<code>armv7</code>ã€<code>armv7s</code>ã€<code>i386</code>ã€<code>x86_64</code>ç­‰ã€‚</font></p>
<p>å…¶ä¸­</p>
<font color="#808000"><br><strong><code>i386</code>æ˜¯é’ˆå¯¹intelé€šç”¨å¾®å¤„ç†å™¨32ä½å¤„ç†å™¨</strong><br><br><strong><code>x86_64</code>æ˜¯é’ˆå¯¹x86æ¶æ„çš„64ä½å¤„ç†å™¨</strong><br><br><strong>æ¨¡æ‹Ÿå™¨32ä½å¤„ç†å™¨æµ‹è¯•éœ€è¦<code>i386</code>æ¶æ„</strong><br><br><strong>æ¨¡æ‹Ÿå™¨64ä½å¤„ç†å™¨æµ‹è¯•éœ€è¦<code>x86_64</code>æ¶æ„</strong><br><br><strong>çœŸæœº32ä½å¤„ç†å™¨éœ€è¦<code>armv7</code>,æˆ–è€…<code>armv7s</code>æ¶æ„</strong><br><br><strong>çœŸæœº64ä½å¤„ç†å™¨éœ€è¦<code>arm64</code>æ¶æ„</strong><br><br></font>

<p>æ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬é»˜è®¤Debugè®¾ç½®ä¸º<code>Yes</code>ï¼ŒReleaseè®¾ç½®ä¸º<code>No</code>ã€‚ç¼–è¯‘å‡ºçš„ç‰ˆæœ¬æ˜¯å‘ä¸‹å…¼å®¹çš„ï¼Œè¿æ¥çš„è®¾å¤‡çš„æŒ‡ä»¤é›†åŒ¹é…æ˜¯ç”±é«˜åˆ°ä½ï¼ˆ<code>arm64</code> &gt; <code>armv7s</code> &gt; <code>armv7</code>ï¼‰ä¾æ¬¡åŒ¹é…çš„ã€‚æ¯”å¦‚ä½ è®¾ç½®æ­¤å€¼ä¸ºyesï¼Œç”¨iphone4ç¼–è¯‘å‡ºæ¥çš„æ˜¯<code>armv7</code>ç‰ˆæœ¬çš„ï¼Œiphone5ä¹Ÿå¯ä»¥è¿è¡Œï¼Œä½†æ˜¯<code>armv6</code>çš„è®¾å¤‡å°±ä¸èƒ½è¿è¡Œã€‚  æ‰€ä»¥ï¼Œä¸€èˆ¬Debugçš„æ—¶å€™å¯ä»¥é€‰æ‹©è®¾ç½®ä¸º<code>Yes</code>ï¼ŒReleaseçš„æ—¶å€™è¦æ”¹ä¸º<code>No</code>ï¼Œä»¥ä¾¿äºé€‚é…ä¸åŒçš„ç‰ˆæœ¬ã€‚<br><img src="http://obzx0h1re.bkt.clouddn.com/Build%20Active%20Architecture%20Only%20Picture.png" alt="    
Build Active Architecture Only Picture"></p>
<p><strong>ä½†ä¹Ÿæœ‰ç›´æ¥å°†<code>Build Active Architecture Only</code>è®¾ç½®ä¸º<code>No</code>çš„æƒ…å†µ</strong><br><img src="http://obzx0h1re.bkt.clouddn.com/Build%20Active%20Architecture%20Only1.png" alt="Build Active Architecture Only1"></p>
<p>è¿™æ ·åšçš„åŸå› æ˜¯å› ä¸ºä½¿ç”¨é»˜è®¤è®¾ç½®è¿è¡Œé¡¹ç›®æ—¶å‡ºç°é”™è¯¯ï¼š<font color="#FF6347"><strong><code>Module â€˜Alamofireâ€™ has no member â€˜requestâ€™</code></strong></font><br>è§£å†³æ–¹æ³•å°±æ˜¯ç›´æ¥éƒ½è®¾ç½®ä¸º<code>No</code>ã€‚</p>
<p><font color="#008000"><strong>é—®é¢˜</strong>ï¼š</font><br><img src="http://obzx0h1re.bkt.clouddn.com/Module%20%27Alamofire%27%20has%20no%20member%20%27request%27.png" alt="Module &#39;Alamofire&#39; has no member &#39;request&#39;"></p>
<p><font color="#008000"><strong>æ–¹æ³•</strong>ï¼š</font><br><img src="http://obzx0h1re.bkt.clouddn.com/Module%20%27Alamofire%27%20has%20no%20member%20%27request%27-answer.png" alt="Module &#39;Alamofire&#39; has no member &#39;request&#39;-answer"></p>
<p>ä¸€äº›æœ‰ç›Šéæµ…çš„é“¾æ¥ï¼š</p>
<p><a href="http://blog.csdn.net/lizhongfu2013/article/details/42387311" target="_blank" rel="external">iOSå¼€å‘ï½åˆ¶ä½œåŒæ—¶æ”¯æŒarmv7,armv7s,arm64,i386,x86_64çš„é™æ€åº“.a</a></p>
<p><a href="http://www.cnblogs.com/hikoming/p/3708659.html" target="_blank" rel="external">Xcodeçš„Architecturesã€Valid Architectureså’ŒBuild Active Architecture Onlyå±æ€§(åŸåˆ›)</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¹‹å‰åœ¨ç»™é¡¹ç›®é€‚é…64ä½æ—¶ï¼Œçœ‹åˆ°Xcodeä¸­æœ‰è¿™ä¸ªè®¾ç½®ï¼Œå› ä¸ºå…³ç³»åˆ°é€‚é…é—®é¢˜ï¼Œåˆæ¯”è¾ƒå¥½å¥‡ï¼Œå°±äº†è§£äº†ä¸€ç•ªã€‚å‘ç°è¿™ä¸ªè®¾ç½®ä¹Ÿæœ‰ä¸å°çš„ä½œç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://obzx0h1re.bkt.clouddn.com/Build%20Active%20Archi
    
    </summary>
    
    
      <category term="Xcode" scheme="https:guohuaden.com/tags/Xcode/"/>
    
  </entry>
  
  <entry>
    <title>èŠä¸€èŠWKWebView</title>
    <link href="https:guohuaden.com/2017/02/11/WKWebView/"/>
    <id>https:guohuaden.com/2017/02/11/WKWebView/</id>
    <published>2017-02-11T02:33:52.000Z</published>
    <updated>2017-02-14T00:57:40.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>ç”±äºä¹‹å‰ä¸€ç›´åœ¨ç”¨<code>UIWebView</code>,æ‰€ä»¥å¯¹äº<code>WKWebView</code>åªæ˜¯åœç•™åœ¨çŸ¥é“ï¼Œäº†è§£çš„çŠ¶æ€ï¼Œå¹¶æœªæ·±å…¥çš„å»ç ”ç©¶ã€‚å‰å¤©ä¸€ä¸ªé¡¹ç›®è¦æ±‚æ”¯æŒiOS8ä»¥ä¸Šï¼Œè¦åŠ å…¥ä¸€ä¸ªwebç•Œé¢ã€‚åœ¨ä¹ æƒ¯æ€§ä½¿ç”¨<code>UIWebView</code>å†™åˆ°ä¸€åŠçš„æ—¶å€™ï¼Œçªç„¶æƒ³ä½¿ç”¨<code>WKWebView</code>å»å®ç°ï¼Œæ‰€ä»¥ä¸“é—¨èŠ±è´¹äº†äº›æ—¶é—´å»ç ”ç©¶äº†ä¸€ä¸‹<code>WKWebView</code>ï¼Œå¾ˆæ˜¯å–œæ¬¢ã€‚</p>
<h3 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h3><p>æ¥ä¸‹æ¥çºªå½•ä¸€ä¸‹ä½¿ç”¨<code>WKWebView</code>çš„è¿‡ç¨‹ç»†èŠ‚ã€‚ä½†å…³äº<code>WKWebView</code>ä¸<code>js</code>äº’äº¤çš„éƒ¨åˆ†ä¿ç•™æ„è§ï¼Œå› ä¸ºå¹¶æ²¡æœ‰æ·±å…¥å»ç ”ç©¶è¿™ä¸€ç‚¹ã€‚</p>
<h3 id="1ã€å¼•å…¥WebKitåº“"><a href="#1ã€å¼•å…¥WebKitåº“" class="headerlink" title="1ã€å¼•å…¥WebKitåº“"></a>1ã€å¼•å…¥WebKitåº“</h3><p>Appleæ–¹é¢ä¸ºä½¿ç”¨<code>WKWebView</code>ä¸“é—¨æ·»åŠ äº†<code>WebKit</code>åº“ï¼Œåœ¨ä½¿ç”¨<code>WKWebView</code>æ—¶å€™å¿…é¡»å¼•å…¥<code>WebKit</code>åº“æ‰å¯ä»¥ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#import &lt;WebKit/WebKit.h&gt;</div></pre></td></tr></table></figure></p>
<h3 id="2ã€åˆå§‹åŒ–WKWebView"><a href="#2ã€åˆå§‹åŒ–WKWebView" class="headerlink" title="2ã€åˆå§‹åŒ–WKWebView"></a>2ã€åˆå§‹åŒ–WKWebView</h3><p>åœ¨æ–‡æ¡£ä¸­å¯ä»¥çœ‹å‡ºï¼Œ<code>WKWebView</code>çš„åˆå§‹åŒ–æ–¹æ³•æœ‰ä¸¤ç§ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">- (instancetype)initWithFrame:(CGRect)frame;</div><div class="line">- (instancetype)initWithFrame:(CGRect)frame configuration:(WKWebViewConfiguration *)configuration NS_DESIGNATED_INITIALIZER</div></pre></td></tr></table></figure>
<ul>
<li>æˆ‘ä»¬å¤§å¤šä½¿ç”¨ç¬¬ä¸€ç§æ–¹å¼ï¼Œè¿™ä¹Ÿæ˜¯æ–‡æ¡£ä¸­é»˜è®¤çš„ä¸€ç§æ–¹å¼ã€‚è¿™é‡Œä¸å†å¤šè¯´ã€‚</li>
<li>å…³äºç¬¬äºŒç§æ–¹å¼ï¼Œå…¶å®å°±æ˜¯åœ¨åˆå§‹åŒ–<code>WKWebView</code>æ—¶ï¼Œç»™<code>webView</code>åšä¸€ä¸ªé…ç½®ï¼Œæˆ‘è¿™é‡Œç»™å‡ºä¸€æ®µç®€å•çš„é…ç½®ä»£ç ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">WKWebViewConfiguration *config = [[WKWebViewConfiguration alloc]init];</div><div class="line">config.preferences = [WKPreferences new];</div><div class="line">config.preferences.minimumFontSize = 20.f;</div><div class="line">config.preferences.javaScriptEnabled = YES; //The default value is YES</div><div class="line">config.preferences.javaScriptCanOpenWindowsAutomatically = NO;//The default value is NO in iOS and YES in OS X.</div><div class="line">//config.preferences.javaEnabled = NO ; //The default value is NO .ä¸åœ¨iphoneä¸­ä½¿ç”¨çš„æ–¹æ³•</div><div class="line">config.userContentController = [WKUserContentController new];  </div><div class="line">self.webView = [[WKWebView alloc]initWithFrame:self.view.bounds configuration:config];</div></pre></td></tr></table></figure>
<p><strong>æ³¨ï¼š</strong>å…¶å®ç¬¬ä¸€ç§æ–¹å¼ï¼Œè™½ç„¶æˆ‘ä»¬å¹¶æ²¡æœ‰æŒ‡å®šåˆå§‹åŒ–çš„é…ç½®ï¼Œä½†Appleä¹Ÿä¸ºæˆ‘ä»¬æŒ‡å®šäº†ä¸€ä¸ªé»˜è®¤çš„é…ç½®ã€‚</p>
<h3 id="3ã€åŠ è½½ç½‘é¡µ"><a href="#3ã€åŠ è½½ç½‘é¡µ" class="headerlink" title="3ã€åŠ è½½ç½‘é¡µ"></a>3ã€åŠ è½½ç½‘é¡µ</h3><p>æ–¹æ³•æœ‰å‡ ç§ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„æ˜¯</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">NSURLRequest *request = [[NSURLRequest alloc]initWithURL:[NSURL URLWithString:@&quot;https://www.baidu.com&quot;]];</div><div class="line">[self.webView loadRequest:request];</div></pre></td></tr></table></figure>
<p>å‰©ä¸‹çš„å‡ ç§ä¸ºï¼š</p>
<pre><code>[self.webView loadHTMLString:(nonnull NSString *) baseURL:(nullable NSURL *)];

[self.webView loadFileURL:(nonnull NSURL *) allowingReadAccessToURL:(nonnull NSURL *)];

[self.webView loadData:(nonnull NSData *) MIMEType:(nonnull NSString *) characterEncodingName:(nonnull NSString *) baseURL:(nonnull NSURL *)];
</code></pre><h3 id="4ã€åŠ è½½jsä»£ç "><a href="#4ã€åŠ è½½jsä»£ç " class="headerlink" title="4ã€åŠ è½½jsä»£ç "></a>4ã€åŠ è½½jsä»£ç </h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">// å›¾ç‰‡ç¼©æ”¾çš„jsä»£ç </div><div class="line">NSString *js = @&quot;var count = document.images.length;for (var i = 0; i &lt; count; i++) &#123;var image = document.images[i];image.style.width=500;image.style.height=600;&#125;;window.alert(&apos;æ‰¾åˆ°&apos; + count + &apos;å¼ å›¾&apos;);&quot;;</div><div class="line">// æ ¹æ®JSå­—ç¬¦ä¸²åˆå§‹åŒ–WKUserScriptå¯¹è±¡</div><div class="line">WKUserScript *script = [[WKUserScript alloc] initWithSource:js injectionTime:WKUserScriptInjectionTimeAtDocumentEnd forMainFrameOnly:YES];</div><div class="line">// æ ¹æ®ç”Ÿæˆçš„WKUserScriptå¯¹è±¡ï¼Œåˆå§‹åŒ–WKWebViewConfiguration</div><div class="line">WKWebViewConfiguration *config = [[WKWebViewConfiguration alloc] init];</div><div class="line">[config.userContentController addUserScript:script];</div><div class="line">_webView = [[WKWebView alloc] initWithFrame:self.view.bounds configuration:config];</div><div class="line">[_webView loadHTMLString:@&quot;&lt;head&gt;&lt;/head&gt;&lt;img src=&apos;http://og3hqoz3g.bkt.clouddn.com/%E5%B9%B8%E7%A6%8F%E9%82%AE%E5%B1%80.jpg&apos; /&gt;&quot;baseURL:nil];</div><div class="line">[self.view addSubview:_webView];</div></pre></td></tr></table></figure>
<h3 id="5ã€ä»£ç†"><a href="#5ã€ä»£ç†" class="headerlink" title="5ã€ä»£ç†"></a>5ã€ä»£ç†</h3><p><code>WKWebView</code>çš„ä»£ç†æœ‰ä¸¤ä¸ªï¼š<code>WKNavigationDelegate</code> å’Œ <code>WKUIDelegate</code></p>
<ul>
<li><strong>5.1ã€ WKNavigationDelegateï¼ˆåŠ è½½ç•Œé¢æ—¶è°ƒç”¨çš„åè®®æ–¹æ³•ï¼‰</strong></li>
</ul>
<p>è¿‡ç¨‹ï¼š</p>
<ol>
<li>åœ¨è¯·æ±‚å‘é€ä¹‹å‰ï¼Œå†³å®šæ˜¯å¦è·³è½¬</li>
<li>é¡µé¢å¼€å§‹åŠ è½½æ—¶è°ƒç”¨</li>
<li>åœ¨æ”¶åˆ°å“åº”åï¼Œå†³å®šæ˜¯å¦è·³è½¬</li>
<li>å†…å®¹å¼€å§‹åŠ è½½æ—¶è°ƒç”¨</li>
<li>æ¥æ”¶åˆ°æœåŠ¡å™¨è·³è½¬è¯·æ±‚ä¹‹åè°ƒç”¨ï¼ˆä¸ä¸€å®šè°ƒç”¨è¯¥æ–¹æ³•ï¼‰</li>
<li>é¡µé¢åŠ è½½å®Œæˆæ—¶è°ƒç”¨</li>
<li>è¯·æ±‚å¤±è´¥æ—¶è°ƒç”¨</li>
</ol>
<p>åè®®æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line">//é¡µé¢å¼€å§‹åŠ è½½æ—¶è°ƒç”¨</div><div class="line">- (void)webView:(WKWebView *)webView didStartProvisionalNavigation:(null_unspecified WKNavigation *)navigation</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;é¡µé¢å¼€å§‹åŠ è½½æ—¶è°ƒç”¨ã€‚   2&quot;);</div><div class="line">&#125;</div><div class="line">//å†…å®¹è¿”å›æ—¶è°ƒç”¨ï¼Œå¾—åˆ°è¯·æ±‚å†…å®¹æ—¶è°ƒç”¨(å†…å®¹å¼€å§‹åŠ è½½) -&gt; viewçš„è¿‡æ¸¡åŠ¨ç”»å¯åœ¨æ­¤æ–¹æ³•ä¸­åŠ è½½</div><div class="line">- (void)webView:(WKWebView *)webView didCommitNavigation:( WKNavigation *)navigation</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;å†…å®¹è¿”å›æ—¶è°ƒç”¨ï¼Œå¾—åˆ°è¯·æ±‚å†…å®¹æ—¶è°ƒç”¨ã€‚ 4&quot;);</div><div class="line">&#125;</div><div class="line">//é¡µé¢åŠ è½½å®Œæˆæ—¶è°ƒç”¨</div><div class="line">- (void)webView:(WKWebView *)webView didFinishNavigation:( WKNavigation *)navigation</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;é¡µé¢åŠ è½½å®Œæˆæ—¶è°ƒç”¨ã€‚ 5&quot;);</div><div class="line">&#125;</div><div class="line">//è¯·æ±‚å¤±è´¥æ—¶è°ƒç”¨</div><div class="line">- (void)webView:(WKWebView *)webView didFailProvisionalNavigation:(WKNavigation *)navigation withError:(NSError *)error</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;error1:%@&quot;,error);</div><div class="line">&#125;</div><div class="line">-(void)webView:(WKWebView *)webView didFailNavigation:(WKNavigation *)navigation withError:(NSError *)error</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;error2:%@&quot;,error);</div><div class="line">&#125;</div><div class="line">//åœ¨è¯·æ±‚å‘é€ä¹‹å‰ï¼Œå†³å®šæ˜¯å¦è·³è½¬ -&gt; è¯¥æ–¹æ³•å¦‚æœä¸å®ç°ï¼Œç³»ç»Ÿé»˜è®¤è·³è½¬ã€‚å¦‚æœå®ç°è¯¥æ–¹æ³•ï¼Œåˆ™éœ€è¦è®¾ç½®å…è®¸è·³è½¬ï¼Œä¸è®¾ç½®åˆ™æŠ¥é”™ã€‚</div><div class="line">//è¯¥æ–¹æ³•æ‰§è¡Œåœ¨åŠ è½½ç•Œé¢ä¹‹å‰</div><div class="line">//Terminating app due to uncaught exception &apos;NSInternalInconsistencyException&apos;, reason: &apos;Completion handler passed to -[ViewController webView:decidePolicyForNavigationAction:decisionHandler:] was not called&apos;</div><div class="line">- (void)webView:(WKWebView *)webView decidePolicyForNavigationAction:(WKNavigationAction *)navigationAction decisionHandler:(void (^)(WKNavigationActionPolicy))decisionHandler</div><div class="line">&#123;</div><div class="line">    //å…è®¸è·³è½¬</div><div class="line">    decisionHandler(WKNavigationActionPolicyAllow);</div><div class="line">    </div><div class="line">    //ä¸å…è®¸è·³è½¬</div><div class="line">//    decisionHandler(WKNavigationActionPolicyCancel);</div><div class="line">    NSLog(@&quot;åœ¨è¯·æ±‚å‘é€ä¹‹å‰ï¼Œå†³å®šæ˜¯å¦è·³è½¬ã€‚  1&quot;);</div><div class="line">&#125;</div><div class="line">//åœ¨æ”¶åˆ°å“åº”åï¼Œå†³å®šæ˜¯å¦è·³è½¬ï¼ˆåŒä¸Šï¼‰</div><div class="line">//è¯¥æ–¹æ³•æ‰§è¡Œåœ¨å†…å®¹è¿”å›ä¹‹å‰</div><div class="line">- (void)webView:(WKWebView *)webView decidePolicyForNavigationResponse:(WKNavigationResponse *)navigationResponse decisionHandler:(void (^)(WKNavigationResponsePolicy))decisionHandler</div><div class="line">&#123;</div><div class="line">    //å…è®¸è·³è½¬</div><div class="line">    decisionHandler(WKNavigationResponsePolicyAllow);</div><div class="line">    //ä¸å…è®¸è·³è½¬</div><div class="line">//    decisionHandler(WKNavigationResponsePolicyCancel);</div><div class="line">    NSLog(@&quot;åœ¨æ”¶åˆ°å“åº”åï¼Œå†³å®šæ˜¯å¦è·³è½¬ã€‚ 3&quot;);</div><div class="line">    </div><div class="line">&#125;</div><div class="line">//æ¥æ”¶åˆ°æœåŠ¡å™¨è·³è½¬è¯·æ±‚ä¹‹åè°ƒç”¨</div><div class="line">- (void)webView:(WKWebView *)webView didReceiveServerRedirectForProvisionalNavigation:(null_unspecified WKNavigation *)navigation</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;æ¥æ”¶åˆ°æœåŠ¡å™¨è·³è½¬è¯·æ±‚ä¹‹åè°ƒç”¨&quot;);</div><div class="line">&#125;</div><div class="line">-(void)webViewWebContentProcessDidTerminate:(WKWebView *)webView</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;webViewWebContentProcessDidTerminate&quot;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><strong>5.2ã€WKUIDelegate</strong></li>
</ul>
<p>è¿™æ–¹é¢åŒ…æ‹¬ï¼šåˆ›å»ºæ–°çš„WebViewã€ç•Œé¢å¼¹å‡ºæç¤ºæ¡†<br><strong><em>åˆ›å»ºæ–°çš„WebView</em></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">// åˆ›å»ºä¸€ä¸ªæ–°çš„WebView</div><div class="line">- (WKWebView *)webView:(WKWebView *)webView createWebViewWithConfiguration:(WKWebViewConfiguration *)configuration forNavigationAction:(WKNavigationAction *)navigationAction windowFeatures:(WKWindowFeatures *)windowFeatures;</div></pre></td></tr></table></figure>
<p><strong><em>ç•Œé¢å¼¹å‡ºæç¤ºæ¡†</em></strong></p>
<p>ç³»ç»Ÿæä¾›äº†ä¸‰ç§å¼¹å‡ºæç¤ºæ¡†çš„æ–¹æ³•ï¼šè­¦å‘Šæ¡†ã€ç¡®è®¤æ¡†ã€è¾“å…¥æ¡†</p>
<p>ç›´æ¥æŸ¥çœ‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line">//è­¦å‘Šæ¡†</div><div class="line">/**</div><div class="line"> webViewç•Œé¢ä¸­æœ‰å¼¹å‡ºè­¦å‘Šæ¡†æ—¶è°ƒç”¨</div><div class="line"> @param webView             webè§†å›¾è°ƒç”¨å§”æ‰˜æ–¹æ³•</div><div class="line"> @param message             è­¦å‘Šæ¡†æç¤ºå†…å®¹</div><div class="line"> @param frame               ä¸»çª—å£</div><div class="line"> @param completionHandler   è­¦å‘Šæ¡†æ¶ˆå¤±è°ƒç”¨</div><div class="line"> */</div><div class="line">- (void)webView:(WKWebView *)webView runJavaScriptAlertPanelWithMessage:(NSString *)message initiatedByFrame:(WKFrameInfo *)frame completionHandler:(void (^)(void))completionHandler</div><div class="line">&#123;</div><div class="line">    completionHandler();</div><div class="line">    NSLog(@&quot;è­¦å‘Šæ¡†&quot;);</div><div class="line">&#125;</div><div class="line">//è¾“å…¥æ¡†</div><div class="line">/**</div><div class="line"> webç•Œé¢ä¸­å¼¹å‡ºè¾“å…¥æ¡†æ—¶è°ƒç”¨</div><div class="line"> @param webView             webè§†å›¾è°ƒç”¨å§”æ‰˜æ–¹æ³•</div><div class="line"> @param prompt              è¾“å…¥æ¶ˆæ¯çš„æ˜¾ç¤º</div><div class="line"> @param defaultText         åˆå§‹åŒ–æ—¶æ˜¾ç¤ºçš„è¾“å…¥æ–‡æœ¬</div><div class="line"> @param frame               ä¸»çª—å£</div><div class="line"> @param completionHandler   è¾“å…¥ç»“æŸåè°ƒç”¨</div><div class="line"> */</div><div class="line">-(void)webView:(WKWebView *)webView runJavaScriptTextInputPanelWithPrompt:(NSString *)prompt defaultText:(NSString *)defaultText initiatedByFrame:(WKFrameInfo *)frame completionHandler:(void (^)(NSString * _Nullable))completionHandler</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;è¾“å…¥æ¡†&quot;);</div><div class="line">    completionHandler(@&quot;http&quot;);</div><div class="line">&#125;</div><div class="line">//ç¡®è®¤æ¡†</div><div class="line">/**</div><div class="line"> æ˜¾ç¤ºä¸€ä¸ªJavaScriptç¡®è®¤é¢æ¿</div><div class="line"> @param webView             webè§†å›¾è°ƒç”¨å§”æ‰˜æ–¹æ³•</div><div class="line"> @param message             æ˜¾ç¤ºçš„ä¿¡æ¯</div><div class="line"> @param frame               ä¸»çª—å£</div><div class="line"> @param completionHandler   ç¡®è®¤åå®Œæˆå¤„ç†ç¨‹åºè°ƒç”¨</div><div class="line"> */</div><div class="line">-(void)webView:(WKWebView *)webView runJavaScriptConfirmPanelWithMessage:(NSString *)message initiatedByFrame:(WKFrameInfo *)frame completionHandler:(void (^)(BOOL))completionHandler</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;ç¡®è®¤æ¡†&quot;);</div><div class="line">    completionHandler(YES);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><em>ä»¥ä¸Šå°±æ˜¯WKWebViewåŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼Œå…¶ä»–çš„ä¸åšæ‰©å±•å’Œè¡¥å……ã€‚ä¹Ÿè®¸ä»¥åå†æ·±å…¥ç ”ç©¶æ—¶ï¼Œä¼šæœ‰ä¸ä¸€æ ·çš„çœ‹æ³•ï¼Œåˆ°æ—¶å†åšæ¨ç¿»æˆ–è¡¥å……ã€‚</em></p>
<p>ä»¥ä¸‹æ˜¯ä¸ªäººçš„ä¸€ç‚¹çœ‹æ³•ï¼š</p>
<ol>
<li><code>WKWebView</code>æ˜¯åœ¨iOS8ä¹‹åå‡ºç°çš„æ–°çš„ç½‘é¡µåŠ è½½æ§ä»¶ï¼Œå°†æ¥ä¹Ÿå¿…å°†å–ä»£<code>UIWebView</code>ï¼Œè¿™æ˜¯æ¯‹åº¸ç½®ç–‘çš„äº‹æƒ…ã€‚</li>
<li>å…³äºé¡¹ç›®ä¼˜åŒ–æ–¹é¢ï¼šå…¶å®å¾ˆå¤šäººå»ºè®®åœ¨é¡¹ç›®ä¸­æ·»åŠ <code>WKWebView</code>å»æ›¿ä»£<code>UIWebView</code>ã€‚ä»¥æœªæ¥çš„å‘å±•è¶‹åŠ¿æ¥çœ‹ï¼Œè¿™ç‚¹æ— å¯åšéã€‚</li>
</ol>
<p>æˆ‘ä¸‹é¢æƒ³è¯´çš„æ˜¯ç«™åœ¨è€é¡¹ç›®å¹¶ä¸”å…¶ä¸­å†…åµŒç½‘é¡µæ¯”è¾ƒå¤šçš„ç«‹åœºçš„ï¼ŒiOS8ä»¥ä¸Šä½¿ç”¨<code>WKWebView</code>ï¼ŒiOS8ä»¥ä¸‹ä½¿ç”¨<code>UIWebView</code>ã€‚è¿™æ˜¯ç›®å‰è§£å†³æ–¹æ¡ˆçš„å¥½åŠæ³•ã€‚ä½†ç»´æŠ¤å’Œä¼˜åŒ–éƒ½éœ€è¦æˆæœ¬ï¼Œæ—¶é—´ä¹Ÿæ˜¯æˆæœ¬çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>è¿™é‡Œé™„ä¸Šdemoä¸€ä»½ï¼š<a href="https://github.com/Wheat-Qin/WKWebView_test" target="_blank" rel="external">WKWebViewä»£ç </a></p>
<p>è¿™é‡Œç»™å‡ºå‡ ä¸ªè®²è§£<code>WKWebView</code>çš„ğŸ”—,å¯¹æˆ‘å¸®åŠ©å¾ˆå¤§ï¼š</p>
<ol>
<li><a href="http://www.brighttj.com/ios/ios-wkwebview-new-features-and-use.html" target="_blank" rel="external">WKWebViewçš„æ–°ç‰¹æ€§ä¸ä½¿ç”¨</a></li>
<li><a href="http://www.jianshu.com/p/6ba2507445e4" target="_blank" rel="external">ä½¿ç”¨WKWebViewæ›¿æ¢UIWebView</a> </li>
<li><a href="http://www.cnblogs.com/junhuawang/p/5759224.html" target="_blank" rel="external">UIWebViewã€WKWebViewä½¿ç”¨è¯¦è§£åŠæ€§èƒ½åˆ†æ</a></li>
<li><a href="http://www.jianshu.com/p/7bb5f15f1daa" target="_blank" rel="external">WKWebViewå­¦ä¹ ç¬”è®°</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h3&gt;&lt;p&gt;ç”±äºä¹‹å‰ä¸€ç›´åœ¨ç”¨&lt;code&gt;UIWebView&lt;/code&gt;,æ‰€ä»¥å¯¹äº&lt;code&gt;WKWebView&lt;/code&gt;åªæ˜¯åœç•™åœ¨çŸ¥é“ï¼Œäº†è§£çš„çŠ¶æ€
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºappæ”¯æŒ64bit</title>
    <link href="https:guohuaden.com/2017/01/15/support-64bit/"/>
    <id>https:guohuaden.com/2017/01/15/support-64bit/</id>
    <published>2017-01-15T07:18:34.000Z</published>
    <updated>2017-01-16T02:13:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>å…³äºiOSåº”ç”¨ï¼Œå…¶å®è‹¹æœå¾ˆæ—©å°±å°±å‘å¸ƒæ¶ˆæ¯ï¼š2015å¹´çš„2æœˆå¼€å§‹ï¼Œæäº¤App Storeçš„åº”ç”¨å¿…é¡»æ”¯æŒ64-bitã€‚è€ŒAppleåœ¨iPhone 5s å°±å·²ç»æ­é…64ä½åŒæ ¸è‹¹æœA7å¤„ç†å™¨ã€‚è¿˜æ˜¯åœ¨15å¹´6æœˆï¼Œè‹¹æœApp Storeä¸­æ‰€æœ‰åº”ç”¨æ›´æ–°éƒ½å¿…é¡»æ”¯æŒ64bitã€‚</p>
<p>ä½†è¿™å¯¹äºä¼ä¸šçº§åº”ç”¨æ¥è¯´ï¼Œå¹¶ä¸èƒ½é™åˆ¶åº”ç”¨å»æ”¯æŒ64bitï¼Œå› ä¸ºä¼ä¸šçº§åº”ç”¨ä¸å¿…æäº¤App Storeå®¡æ ¸ã€‚ä½†Appleåˆæœ‰äº†æ–°çš„å¯¹ç­–ï¼šåœ¨iOS 10.1æµ‹è¯•ç‰ˆä¸­åŠ å…¥äº†ä¸€é¡¹æç¤ºï¼Œå¦‚æœç”¨æˆ·ä¸‹è½½çš„æ˜¯ä¸€ä¸ª32ä½åº”ç”¨ï¼Œç³»ç»Ÿä¼šæç¤º<code>â€œXXXâ€å¯èƒ½ä½¿iPhoneå˜æ…¢ï¼Œåº”ç”¨å¼€å‘è€…éœ€è¦æ›´æ–°æ­¤åº”ç”¨ä»¥æ”¹è¿›å…¶å…¼å®¹æ€§ã€‚</code></p>
<p><img src="http://obzx0h1re.bkt.clouddn.com/64Bit-Prompt.jpg" alt="æç¤ºæ•ˆæœå›¾"><br>ç°åœ¨çœ‹æ¥Appleè¿™ç§æ–¹å¼ï¼Œå¯ç®—æ˜¯æœ€æœ‰æ•ˆçš„æ–¹å¼äº†ï¼Œå› ä¸ºè¿™æ ·ä¼šç›´æ¥å¯¼è‡´ç”¨æˆ·å¯¹ä¸€ä¸ªåº”ç”¨çš„ä¸åŒæ€åº¦ã€‚ç”šè‡³æ˜¯ä¸æ­¢é™ä½ç”¨æˆ·é‡ã€‚å¦‚æœæ˜¯ä¼ä¸šçº§ç”¨æˆ·ï¼Œå¯ä»¥ç›´æ¥å¼•èµ·ç”¨æˆ·çš„å¼ºçƒˆä¸æ»¡ã€‚</p>
<p>ä¸ç®¡æ€ä¹ˆè¯´ï¼Œä½œä¸ºä¸€ä¸ªiOSå¼€å‘è€…ï¼Œæ—¢ç„¶Appleå·²ç»æå‡ºï¼Œè¿˜æ˜¯è¦å»æ”¯æŒ64-bitã€‚</p>
<p>å…·ä½“åšæ³•ï¼š<br><img src="http://obzx0h1re.bkt.clouddn.com/64Bit-Work.png" alt="æ–¹æ³•å¦‚å›¾"></p>
<p>å…³äºXcode <code>â€œBuild Settingâ€</code>ä¸­çš„<code>Architectures</code>å‚æ•°é—®é¢˜ï¼š</p>
<ul>
<li><p><code>Architectures</code>ï¼šä½ æƒ³æ”¯æŒçš„æŒ‡ä»¤é›†ã€‚ï¼ˆæ”¯æŒæŒ‡ä»¤é›†æ˜¯é€šè¿‡ç¼–è¯‘ç”Ÿæˆå¯¹åº”çš„äºŒè¿›åˆ¶æ•°æ®åŒ…å®ç°çš„ï¼Œå¦‚æœæ”¯æŒçš„æŒ‡ä»¤é›†æ•°ç›®æœ‰å¤šä¸ªï¼Œå°±ä¼šç¼–è¯‘å‡ºåŒ…å«å¤šä¸ªæŒ‡ä»¤é›†ä»£ç çš„æ•°æ®åŒ…ï¼Œé€ æˆæœ€ç»ˆç¼–è¯‘çš„åŒ…å¾ˆå¤§ã€‚ï¼‰</p>
</li>
<li><p><code>Valid architectures</code>ï¼šå³å°†ç¼–è¯‘çš„æŒ‡ä»¤é›†ã€‚ï¼ˆ<code>Valid architectures</code> å’Œ <code>Architecture</code>ä¸¤ä¸ªé›†åˆçš„äº¤é›†ä¸ºæœ€ç»ˆç¼–è¯‘ç”Ÿæˆçš„ç‰ˆæœ¬ï¼‰</p>
</li>
<li><p><code>Build Active Architecture Only</code>ï¼šæ˜¯å¦åªç¼–è¯‘å½“å‰è®¾å¤‡é€‚ç”¨çš„æŒ‡ä»¤é›†ï¼ˆå¦‚æœè¿™ä¸ªå‚æ•°è®¾ä¸ºYESï¼Œä½¿ç”¨iPhone 6è°ƒè¯•ï¼Œé‚£ä¹ˆæœ€ç»ˆç”Ÿæˆçš„ä¸€ä¸ªæ”¯æŒARM64æŒ‡ä»¤é›†çš„Binaryã€‚ä¸€èˆ¬åœ¨DEBUGæ¨¡å¼ä¸‹è®¾ä¸ºYESï¼ŒRELEASEè®¾ä¸ºNOï¼‰</p>
</li>
</ul>
<p>å¯¹äºæ”¯æŒ64-bit,æˆ‘ä»¬å¯ä»¥è®¾ç½®<code>Architectures</code>ä¸º <code>Standard architectures</code>ï¼Œå®ƒåŒ…æ‹¬ <code>armv7ã€armv7s å’Œ arm64</code>ã€‚</p>
<p>è€Œæ˜¯å¯¹äºä»£ç ä¸­çš„æ”¹å˜å…¶å®ä¹Ÿå°±åˆ†ä¸ºï¼š<strong>æ•°æ®ç±»å‹å’Œæ–¹æ³•è°ƒç”¨</strong> ä¸¤ä¸ªéƒ¨åˆ†ã€‚</p>
<p>æ¯”å¦‚ï¼š<code>int -&gt; NSInteger</code></p>
<p>ä»¥åŠå¾—åˆ°æ•°ç»„ä¸ªæ•°çš„æ–¹æ³•ï¼š<code>[dataArray count] -&gt; dataArray.count</code></p>
<p>è¿™æ˜¯å…³äºæ•°æ®ç±»å‹æ”¹å˜çš„æ€»ç»“ï¼š<br><img src="http://obzx0h1re.bkt.clouddn.com/64bit-Summary.png" alt="64bit-Summary"><br>ä¸Šå›¾æ‰€è¯´ï¼š</p>
<ul>
<li>é¿å…å°†é•¿æ•´å‹longèµ‹å€¼ç»™æ•´å‹int (64-bitä¸Šä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±)</li>
<li>é¿å…å°†æŒ‡é’ˆç±»å‹pointerèµ‹å€¼ç»™æ•´å‹int (64-bitå¯¼è‡´åœ°å€æ•°æ®ä¸¢å¤±)ã€‚</li>
<li>ç•™æ„æ•°å€¼è®¡ç®—ï¼Œé¿å…æŒ‡é’ˆå’Œé•¿æ•´å‹åœ¨è¿ç®—ä¸Šçš„æˆªæ–­é—®é¢˜(æ©ç è®¡ç®—,æ— ç¬¦å·æ•´æ•°å’Œæœ‰ç¬¦å·æ•´æ•°åŒæ—¶ä½¿ç”¨ç­‰)ã€‚</li>
<li>ç•™æ„å¯¹é½æ–¹æ³•å¸¦æ¥çš„å˜åŒ–ã€‚</li>
<li>32-bitåˆ°64-bitä¹‹é—´æ•°æ®è½¬åŒ–(é€šè¿‡ç½‘ç»œä¼ é€’çš„ç”¨æˆ·æ•°æ®ï¼Œå¯èƒ½åŒæ—¶å­˜åœ¨äº32-bitå’Œ64-bitçš„ç¯å¢ƒä¸‹)ã€‚</li>
<li>é‡å†™æ±‡ç¼–ä»£ç ï¼Œè®©ä½ çš„ä»£ç ä½¿ç”¨æ–°çš„64-bitæ“ä½œç å’Œè¿è¡Œæ—¶ã€‚</li>
<li>ä¸è¦åœ¨å¯å˜å‚æ•°æ–¹æ³•å’Œä¸å¯å˜å‚æ•°æ–¹æ³•ä¹‹å‰è¿›è¡Œå¼ºåˆ¶è½¬åŒ–ã€‚</li>
</ul>
<p>å…·ä½“å¯ä»¥çœ‹ï¼šã€Š<a href="https://developer.apple.com/library/content/documentation/General/Conceptual/CocoaTouch64BitGuide/Major64-BitChanges/Major64-BitChanges.html" target="_blank" rel="external">64-Bit Transition Guide for Cocoa Touch</a>ã€‹</p>
<p>å…³äºiOSåº”ç”¨æ”¯æŒ64ä½çš„ä¸€äº›è¯¦æƒ…ï¼Œå¯ä»¥çœ‹çœ‹è¿™ç¯‡ä¸é”™çš„æ–‡ç« ï¼š<br>ã€Š<a href="http://www.codeceo.com/article/ios-64-bit.html" target="_blank" rel="external">iOSåº”ç”¨å¦‚ä½•å®ç°64ä½çš„æ”¯æŒ</a>ã€‹</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å…³äºiOSåº”ç”¨ï¼Œå…¶å®è‹¹æœå¾ˆæ—©å°±å°±å‘å¸ƒæ¶ˆæ¯ï¼š2015å¹´çš„2æœˆå¼€å§‹ï¼Œæäº¤App Storeçš„åº”ç”¨å¿…é¡»æ”¯æŒ64-bitã€‚è€ŒAppleåœ¨iPhone 5s å°±å·²ç»æ­é…64ä½åŒæ ¸è‹¹æœA7å¤„ç†å™¨ã€‚è¿˜æ˜¯åœ¨15å¹´6æœˆï¼Œè‹¹æœApp Storeä¸­æ‰€æœ‰åº”ç”¨æ›´æ–°éƒ½å¿…é¡»æ”¯æŒ64bitã€‚&lt;/p&gt;
&lt;p
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>iOSä¹‹é¡¹ç›®æ€»ç»“äºŒï¼šå…³äºé¡¹ç›®ä¸­ä¸€äº›åŠŸèƒ½çš„æ”¹è¿›å»ºè®®ï¼ˆä»ä¸€ä¸ªç»´æŠ¤è€…çš„è§’åº¦ï¼‰</title>
    <link href="https:guohuaden.com/2017/01/11/project-summary-two/"/>
    <id>https:guohuaden.com/2017/01/11/project-summary-two/</id>
    <published>2017-01-11T15:38:00.000Z</published>
    <updated>2017-01-14T02:11:44.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€ï¼š"><a href="#å‰è¨€ï¼š" class="headerlink" title="å‰è¨€ï¼š"></a>å‰è¨€ï¼š</h3><p>æœ€è¿‘ä¸€ç›´åœ¨ç»´æŠ¤è€çš„é¡¹ç›®ï¼Œé‡åˆ°çš„é—®é¢˜ä¹Ÿåƒå¥‡ç™¾æ€ªï¼Œéœ€è¦ä¿®è¡¥çš„ï¼Œéœ€è¦ä¼˜åŒ–çš„ï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†çš„ï¼Œæ„Ÿè§‰æ€»æ˜¯é‚£ä¹ˆçš„æ— è¯­ã€‚ä¹Ÿè®¸è¿™æ—¶å€™ä¹Ÿåº”è¯¥æ„Ÿå¹ä¸€å¥ï¼šè·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢å§ã€‚<br>è¿™ç¯‡æ–‡ç« å°±åªæ˜¯è®²è®²è€é¡¹ç›®ä¸­é‡åˆ°çš„ç§ç§ä¸æ•¢è‹ŸåŒçš„ä»£ç å†™æ³•ï¼Œä»¥åŠé‡åˆ°ä¸€äº›é—®é¢˜æ—¶çš„å¤„ç†æ–¹æ³•ã€‚</p>
<h3 id="1ã€å…³äºæŒ‰é’®äº‹ä»¶çš„é‡å¤ç‚¹å‡»é—®é¢˜"><a href="#1ã€å…³äºæŒ‰é’®äº‹ä»¶çš„é‡å¤ç‚¹å‡»é—®é¢˜" class="headerlink" title="1ã€å…³äºæŒ‰é’®äº‹ä»¶çš„é‡å¤ç‚¹å‡»é—®é¢˜"></a>1ã€å…³äºæŒ‰é’®äº‹ä»¶çš„é‡å¤ç‚¹å‡»é—®é¢˜</h3><p>æˆ‘ä»¬å¼€å‘ä¸­å¤§æ¦‚éƒ½ç»å†è¿‡è¿™æ ·çš„äº‹æƒ…ï¼Œæˆ‘çš„ä¸€ä¸ª<code>button</code>è¢«é‡å¤çš„å¿«é€Ÿç‚¹å‡»ï¼Œï¼ˆæˆ‘ä»¬å¼€å‘è€…åº”è¯¥æ›´æ¸…æ¥šçš„çŸ¥é“è¿™æ„å‘³ç€ä»€ä¹ˆï¼‰ã€‚é‚£æˆ‘ä»¬å†æ·±å…¥çš„æƒ³ä¸€ä¸‹ï¼ˆç»™è¿™æ ·çš„äº‹ä»¶å®‰æ’ä¸€ä¸ªç‰¹å®šçš„ç¯å¢ƒï¼‰ï¼šä¾‹å¦‚å½“ç½‘ç»œè¾ƒå·®çš„æƒ…å†µä¸‹ï¼Œå†ä¾‹å¦‚å½“<code>button</code>çš„æ‰§è¡Œäº‹ä»¶è¾ƒä¸ºè€—æ—¶æ—¶ã€‚è¿™æ—¶å°±ä¼šå‡ºç°å¾ˆå¤šçš„é—®é¢˜ï¼šæœ‰æ—¶æ˜¯ç•Œé¢å‡ºç°é—®é¢˜ï¼ˆå½“<code>button</code>æ‰§è¡Œäº‹ä»¶ä¸­å‡ºç°è°ƒèŠ‚ç•Œé¢<code>frame</code>çš„æ—¶å€™ï¼‰ï¼›æœ‰æ—¶åˆ™ä¼šå‡ºç°å¡é¡¿ï¼Œæ›´ç”šè‡³ä¼šå‡ºç°å´©æºƒç°è±¡ã€‚å¯¹äºè¿™ç§é—®é¢˜ï¼Œæˆ‘ä»¬è¦æå‰è€ƒè™‘åˆ°ï¼Œåšå¥½é˜²èŒƒå¤„ç†ï¼šå³ç‚¹å‡»æŒ‰é’®äº‹ä»¶æ—¶,æ·»åŠ é˜²æ­¢é‡å¤ç‚¹å‡»åŠŸèƒ½ã€‚</p>
<p><strong>æ€è·¯æ˜¯</strong>ï¼šé˜²æ­¢æŒ‰é’®é‡å¤ç‚¹å‡»<br>æ¯”è¾ƒæ¨èçš„è§£å†³æ–¹æ³•ä»£ç ï¼š</p>
<pre> - (void)btnClicked:(id)sender {
    //åœ¨è¿™é‡ŒåšæŒ‰é’®çš„æƒ³åšçš„äº‹æƒ…ã€‚
}
- (void)buttonClicked:(id)sender {
   //å…ˆå°†æœªåˆ°æ—¶é—´æ‰§è¡Œå‰çš„ä»»åŠ¡å–æ¶ˆã€‚
    [[self class] cancelPreviousPerformRequestsWithTarget:self selector:@selector(btnClicked:)object:sender];
    [self performSelector:@selector(btnClicked:)withObject:sender afterDelay:0.2f];
}</pre>

<p><strong>åŸç†æ˜¯</strong> ï¼šæˆ‘ä»¬æ¯æ¬¡ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œå…ˆæ‰§è¡Œå–æ¶ˆä¹‹å‰çš„æŒ‰é’®ç‚¹å‡»æ‰§è¡Œäº‹ä»¶ï¼Œç„¶åå†å»æ‰§è¡Œä¸€ä¸ªå»¶è¿Ÿæ‰§è¡Œæ–¹æ³•ï¼ˆæ–¹æ³•ä¸­æ‰§è¡Œçš„æ˜¯æŒ‰é’®æ‰§è¡Œçš„äº‹ä»¶ï¼‰ã€‚</p>
<p>è¿˜æœ‰ä¸€ç§æ–¹æ³•ä¹Ÿæ˜¯å¯ä»¥å®ç°çš„ï¼šå…·ä½“çš„çœ‹ã€Š<a href="http://www.cnblogs.com/LQCQ-Silent/p/6082086.html" target="_blank" rel="external">iOSä¹‹é˜²æ­¢ç”¨æˆ·é‡å¤ç‚¹å‡»Buttonï¼ˆæŒ‰é’®ï¼‰é—®é¢˜</a> ã€‹</p>
<h3 id="2ã€å¾ˆå¤šç•Œé¢å…±ç”¨ä¸€ä¸ªç•Œé¢æ—¶ï¼šä½¿ç”¨æšä¸¾åšç±»å‹åˆ¤æ–­"><a href="#2ã€å¾ˆå¤šç•Œé¢å…±ç”¨ä¸€ä¸ªç•Œé¢æ—¶ï¼šä½¿ç”¨æšä¸¾åšç±»å‹åˆ¤æ–­" class="headerlink" title="2ã€å¾ˆå¤šç•Œé¢å…±ç”¨ä¸€ä¸ªç•Œé¢æ—¶ï¼šä½¿ç”¨æšä¸¾åšç±»å‹åˆ¤æ–­"></a>2ã€å¾ˆå¤šç•Œé¢å…±ç”¨ä¸€ä¸ªç•Œé¢æ—¶ï¼šä½¿ç”¨æšä¸¾åšç±»å‹åˆ¤æ–­</h3><p>è€çš„é¡¹ç›®ä¸­ä¼šå‡ºç°å¾ˆå¤šè¿™æ ·çš„ç°è±¡ï¼šå¾ˆå¤šç•Œé¢é‡å¤ä½¿ç”¨ä¸€ä¸ªç•Œé¢ï¼Œè¿™æ ·å°±è‡ªç„¶è€Œç„¶çš„éœ€è¦åœ¨ä¸åŒçš„ç•Œé¢è·³è½¬åˆ°å¤ç”¨çš„ç•Œé¢æ—¶å»åšåˆ¤æ–­ã€‚è€Œå¥‡æ€ªçš„åœ°æ–¹åœ¨äºï¼šåˆ¤æ–­çš„ä¾æ®æ˜¯<code>self.title</code>ã€‚é‚£ä¹ˆå°±ä¼šå‡ºç°è¿™æ ·ä¸€ç§ç°è±¡ï¼šåœ¨è·³è½¬ç•Œé¢åä¼šæœ‰ä¸€å¤§æ®µ<code>if</code>å»åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ç­‰äº<code>self.title</code> ã€‚</p>
<p><strong>å¦‚æœæˆ‘ä»¬åšä¸€äº›æ”¹å˜ï¼šä½¿ç”¨æšä¸¾æ¥åšç•Œé¢ç±»å‹çš„åˆ¤æ–­ï¼Œä½¿ç”¨<code>switch case</code>è¯­å¥åšåˆ¤æ–­æ‰§è¡Œä»£ç ã€‚è¿™æ ·ä¼šä¸ä¼šæ›´ä¼˜ç¾ï¼Œç®€æ´ä¸€äº›ã€‚</strong></p>
<h3 id="3ã€å…³äºè€é¡¹ç›®ä¸­iOS10ä»¥ä¸Šçš„æƒ…å†µä¸‹ï¼Œå¯¼èˆªæ ä¸­æŒ‰é’®ä¸æ˜¾ç¤ºé—®é¢˜"><a href="#3ã€å…³äºè€é¡¹ç›®ä¸­iOS10ä»¥ä¸Šçš„æƒ…å†µä¸‹ï¼Œå¯¼èˆªæ ä¸­æŒ‰é’®ä¸æ˜¾ç¤ºé—®é¢˜" class="headerlink" title="3ã€å…³äºè€é¡¹ç›®ä¸­iOS10ä»¥ä¸Šçš„æƒ…å†µä¸‹ï¼Œå¯¼èˆªæ ä¸­æŒ‰é’®ä¸æ˜¾ç¤ºé—®é¢˜"></a>3ã€å…³äºè€é¡¹ç›®ä¸­iOS10ä»¥ä¸Šçš„æƒ…å†µä¸‹ï¼Œå¯¼èˆªæ ä¸­æŒ‰é’®ä¸æ˜¾ç¤ºé—®é¢˜</h3><p>å¦‚æœä½ çš„<code>viewController</code>éƒ½ç»§æ‰¿äºåŸºç±»ï¼Œé‚£ä¹ˆåœ¨åŸºç±»ä¸­æ·»åŠ è¿™æ ·ä¸€æ®µä»£ç ï¼ˆè¿™ä¹Ÿæ˜¯ç›®å‰æˆ‘å‘ç°çš„æœ€çœäº‹çš„æ–¹æ³•ï¼‰ï¼š</p>
<pre>- (void)viewWillAppear:(BOOL)animated { 
    [super viewWillAppear:animated];
    [self.navigationController setNavigationBarHidden:YES animated:NO];
    [self.navigationController setNavigationBarHidden:NO animated:NO];
}
- (void)viewWillDisappear:(BOOL)animated {
    [super viewWillDisappear:animated];
    [self.navigationController setNavigationBarHidden:YES animated:NO];
    [self.navigationController setNavigationBarHidden:NO animated:NO];
}</pre>



<h3 id="4ã€äº‹ä»¶æ–¹æ³•è¦æ¯ä¸ªç•Œé¢åŒºåˆ†å¼€"><a href="#4ã€äº‹ä»¶æ–¹æ³•è¦æ¯ä¸ªç•Œé¢åŒºåˆ†å¼€" class="headerlink" title="4ã€äº‹ä»¶æ–¹æ³•è¦æ¯ä¸ªç•Œé¢åŒºåˆ†å¼€"></a>4ã€äº‹ä»¶æ–¹æ³•è¦æ¯ä¸ªç•Œé¢åŒºåˆ†å¼€</h3><p>è€é¡¹ç›®ä¸­ä¼šæœ‰è¿™ç§æƒ…å†µï¼šåœ¨æœ¬ç•Œé¢ commandç‚¹å‡»ä¸€ä¸ª<code>button</code>æ‰§è¡Œäº‹ä»¶æ–¹æ³•æˆ–è€…æ‰‹åŠ¿äº‹ä»¶æ–¹æ³•æ—¶ï¼Œä¼šè«åå…¶å¦™çš„è·³è½¬åˆ°å¦å¤–ä¸€ä¸ªç•Œé¢ã€‚<br>æˆ‘ä»¬åœ¨å¼€å‘æ—¶æœ€å¥½ç»™ä¸åŒç•Œé¢<code>button</code>çš„<code>clicked</code>äº‹ä»¶å‘½åæ˜¯åŒºåˆ†å¼€æ¥ï¼Œä¾‹å¦‚ï¼šç•Œé¢å + <code>ButtonClicked</code></p>
<h3 id="5ã€å¯¹è±¡ä¸ºç©ºç°è±¡"><a href="#5ã€å¯¹è±¡ä¸ºç©ºç°è±¡" class="headerlink" title="5ã€å¯¹è±¡ä¸ºç©ºç°è±¡"></a>5ã€å¯¹è±¡ä¸ºç©ºç°è±¡</h3><p>åœ¨å¼€å‘ä¸­å¦‚æœå­˜åœ¨<code>image</code>ä¸ºç©ºï¼Œæˆ–è€…å¿…é¡»æ˜¾ç¤ºçš„<code>String</code>ä¸ºç©ºç°è±¡ï¼Œ<br>è®°å¾—åœ¨ä»£ç ä¸­ä½œåˆ¤æ–­ï¼Œå›¾ç‰‡å¯ä»¥ç›´æ¥è®¾ç½®é»˜è®¤å›¾ç‰‡ï¼Œå­—ç¬¦ä¸²ä¹Ÿå¯ä»¥è®¾ç½®é»˜è®¤å­—ç¬¦ä¸²<br>è¿™ä¸€ç‚¹å¯ä»¥å­¦ä¸€ä¸‹SDWebImageåº“ä¸­å¯¹äºç½‘ç»œè¯·æ±‚å›¾ç‰‡ä¸å­˜åœ¨çš„å¤„ç†æ–¹æ³•ï¼š</p>
<p><pre>//ç»™ä¸€å¼ é»˜è®¤å›¾ç‰‡ï¼Œå…ˆä½¿ç”¨é»˜è®¤å›¾ç‰‡ï¼Œå½“å›¾ç‰‡åŠ è½½å®Œæˆåå†æ›¿æ¢<br>[self.image1 sd_setImageWithURL:imagePath1 placeholderImage:[UIImage imageNamed:@â€defaultâ€]];</pre>ä¾‹å¦‚ï¼š</p>
<p><pre><br>UIImage *image = [UIImage imageNamed:@â€imageâ€];</pre></p>
<p>UIImage *defaultImage = [UIImage imageNamed:@â€defaultImageâ€];</p>
<p>UIImageView *imageView = [[UIImageView alloc]initWithImage:image==nil ?  image:defaultImage];<br>å­—ç¬¦ä¸²å½“ç„¶ä¹Ÿæ˜¯ç±»ä¼¼ï¼Œå…¶å®çœ‹ä¼¼æœ‰äº›è´¹äº‹ç”šè‡³æœ‰çš„æ˜¾å¾—å¤šä½™çš„å†™æ³•ï¼Œä¼šä½¿ä»¥åçš„ç»´æŠ¤å˜å¾—æ›´åŠ çš„å¦‚æ„ã€‚</p>
<h3 id="6ã€ä¸€ä¸ªç•Œé¢å¤šç½‘ç»œè¯·æ±‚é—®é¢˜ï¼Œè€Œä¸”éœ€è¦å¤šä¸ªè¯·æ±‚éƒ½å®Œæˆåï¼Œå¯¹ç•Œé¢æœ‰ä¸€äº›æ“ä½œã€‚"><a href="#6ã€ä¸€ä¸ªç•Œé¢å¤šç½‘ç»œè¯·æ±‚é—®é¢˜ï¼Œè€Œä¸”éœ€è¦å¤šä¸ªè¯·æ±‚éƒ½å®Œæˆåï¼Œå¯¹ç•Œé¢æœ‰ä¸€äº›æ“ä½œã€‚" class="headerlink" title="6ã€ä¸€ä¸ªç•Œé¢å¤šç½‘ç»œè¯·æ±‚é—®é¢˜ï¼Œè€Œä¸”éœ€è¦å¤šä¸ªè¯·æ±‚éƒ½å®Œæˆåï¼Œå¯¹ç•Œé¢æœ‰ä¸€äº›æ“ä½œã€‚"></a>6ã€ä¸€ä¸ªç•Œé¢å¤šç½‘ç»œè¯·æ±‚é—®é¢˜ï¼Œè€Œä¸”éœ€è¦å¤šä¸ªè¯·æ±‚éƒ½å®Œæˆåï¼Œå¯¹ç•Œé¢æœ‰ä¸€äº›æ“ä½œã€‚</h3><p>è¿™æ˜¯ä¸€ä¸ªè€çš„è¯é¢˜äº†ï¼Œæˆ‘ä¹‹æ‰€ä»¥é‡æ–°æåŠè¿™ä¸ªè¯é¢˜ï¼ŒåŸå› æ˜¯æˆ‘ä»ä¸€äº›æ–‡ç« ä¸­å‘ç°äº†ä¸€ä¸ªä»æ¥æ²¡ä½¿ç”¨è¿‡çš„æ–¹æ³•ï¼Œè¿™ä¸ªä¸‹é¢ä¼šæåˆ°ï¼Œç°åœ¨å°±è®©æˆ‘ä»¬åˆ—ä¸¾å‡ºæ¥æ¯”è¾ƒå¸¸ç”¨çš„æ–¹æ³•ã€‚å°±ä»¥ä¸€ä¸ªç•Œé¢ä¸¤ä¸ªç½‘ç»œè¯·æ±‚ä¸ºä¾‹ Aå’ŒB.</p>
<p><strong>ï¼ˆ1ï¼‰ä¸¤ä¸ªè¯·æ±‚äº’å¥—)(ä¹Ÿæ˜¯æœ€ç¬¨çš„æ–¹æ³•)</strong><br>     å…·ä½“æ˜¯è¿™æ ·çš„ï¼Œæˆ‘åœ¨Aè¯·æ±‚æˆåŠŸåï¼Œå†è¯·æ±‚Bã€‚å½“ç„¶å¦‚æœè¯·æ±‚å¤šçš„è¯ï¼Œè¿™ä¸ªè‚¯å®šæ˜¯ä½œåºŸçš„ã€‚</p>
<p><strong>ï¼ˆ2ï¼‰ä½¿ç”¨GCDä¸­çš„é€šçŸ¥</strong></p>
<p><pre>dispatch_group_t serviceGroup = dispatch_group_create();<br>// å¼€å§‹ç¬¬ä¸€ä¸ªç½‘ç»œè¯·æ±‚<br>servicedispatch_group_enter(serviceGroup);<br>[self.configService startWithCompletion:^(ConfigResponse <em>results, NSError </em>error) {<br> //è¯·æ±‚æˆåŠŸåçš„æ“ä½œ<br>    configError = error;<br>    dispatch_group_leave(serviceGroup);//å®Œæˆåç¦»å¼€åˆ†ç»„<br>}];<br>// å¼€å§‹ç¬¬äºŒä¸ªè¯·æ±‚<br>dispatch_group_enter(serviceGroup);<br>[self.preferenceService startWithCompletion:^(PreferenceResponse <em>results, NSError </em>error) {<br> //è¯·æ±‚æˆåŠŸåçš„æ“ä½œ<br>    preferenceError = error;<br>    dispatch_group_leave(serviceGroup);//å®Œæˆåç¦»å¼€åˆ†ç»„<br>}];<br>dispatch_group_notify(serviceGroup,dispatch_get_main_queue(),^{<br> // Assess any errors<br>     NSError *overallError = nil;<br>    if (configError || preferenceError)  {<br> // åˆ¤æ–­æ—¶å€™è¯·æ±‚æœ‰å¤±è´¥<br>        overallError = configError ?: preferenceError;<br>     }<br>// æœ€åå®Œæˆåæ‰§è¡Œçš„block<br>    completion(overallError);<br>});<br></pre></p>
<p><strong>ï¼ˆ3ï¼‰åˆ©ç”¨GCDä¸­çš„ä¿¡å·é‡</strong></p>
<p>åœ¨GCDä¸­æœ‰ä¸‰ä¸ªå‡½æ•°æ˜¯<code>semaphore</code>çš„æ“ä½œï¼Œåˆ†åˆ«æ˜¯ï¼šã€€ã€€<br><code>dispatch_semaphore_create</code> åˆ›å»ºä¸€ä¸ªsemaphoreã€€ã€€<br><code>dispatch_semaphore_signal</code> å‘é€ä¸€ä¸ªä¿¡å·ã€€<br><code>dispatch_semaphore_wait</code> ç­‰å¾…ä¿¡å·ã€€ã€€<br>ç®€å•çš„ä»‹ç»ä¸€ä¸‹è¿™ä¸‰ä¸ªå‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå‡½æ•°æœ‰ä¸€ä¸ªæ•´å½¢çš„å‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºä¿¡å·çš„æ€»é‡ï¼Œ<code>dispatch_semaphore_signal</code>æ˜¯å‘é€ä¸€ä¸ªä¿¡å·ï¼Œè‡ªç„¶ä¼šè®©ä¿¡å·æ€»é‡åŠ 1ï¼Œ<code>dispatch_semaphore_wait</code>ç­‰å¾…ä¿¡å·ï¼Œå½“ä¿¡å·æ€»é‡å°‘äº0çš„æ—¶å€™å°±ä¼šä¸€ç›´ç­‰å¾…ï¼Œå¦åˆ™å°±å¯ä»¥æ­£å¸¸çš„æ‰§è¡Œï¼Œå¹¶è®©ä¿¡å·æ€»é‡-1ï¼Œæ ¹æ®è¿™æ ·çš„åŸç†ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥å¿«é€Ÿçš„åˆ›å»ºä¸€ä¸ªå¹¶å‘æ§åˆ¶æ¥åŒæ­¥ä»»åŠ¡å’Œæœ‰é™èµ„æºè®¿é—®æ§åˆ¶ã€‚</p>
<p>åˆ©ç”¨è¿™æ ·çš„æœºåˆ¶ï¼Œå½“ä¿¡å·é‡è¾¾åˆ°æˆ‘ä»¬ç½‘ç»œè¯·æ±‚çš„æ•°é‡æ—¶ï¼Œè¯·æ±‚ç»“æŸã€‚</p>
<p><strong>ï¼ˆ4ï¼‰è¿™ä¸ªä¹Ÿæ˜¯æˆ‘ä¸Šé¢è¯´çš„æ— æ„ä¸­çœ‹åˆ°çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä»…æ‹¿å‡ºæ¥ä½œä¸ºå‚è€ƒ</strong></p>
<p><pre>dispatch_async(concurrent_queue, ^{<br>     NSLog(@â€â€”å¹¶å‘ä»»åŠ¡1â€”â€œ);<br>});<br>dispatch_async(concurrent_queue, ^{<br>     NSLog(@â€â€”å¹¶å‘ä»»åŠ¡2â€”â€œ);<br>});<br>dispatch_barrier_async(concurrent_queue, ^{<br>    dispatch_async(dispatch_get_main_queue(), ^{<br>        NSLog(@â€â€”æ‰€æœ‰å¹¶å‘ä»»åŠ¡ç»“æŸåå›åˆ°ä¸»çº¿ç¨‹åˆ·æ–°â€”â€œ);<br>    });<br>}); </pre></p>
<p>ä»¥ä¸Šå°±æ˜¯å…³äºä¸€ç•Œé¢å¤šè¯·æ±‚çš„ä¸åŒè§£å†³æ–¹æ¡ˆã€‚</p>
<h3 id="7ã€ä»£ç è§„èŒƒé—®é¢˜"><a href="#7ã€ä»£ç è§„èŒƒé—®é¢˜" class="headerlink" title="7ã€ä»£ç è§„èŒƒé—®é¢˜"></a>7ã€ä»£ç è§„èŒƒé—®é¢˜</h3><ul>
<li>ä¸ºä»€ä¹ˆè¿™ä¸ªæ™®é€šçš„è¯é¢˜æ”¾åˆ°æœ€åå‘¢ï¼Œå¤§æ¦‚æ˜¯å› ä¸ºæˆ‘è§‰å¾—è¿™ä¸ªå¾ˆé‡è¦çš„é—®é¢˜å§ï¼Œæ¯•ç«ŸæŠ€æœ¯æ°´å¹³ä¸é«˜ï¼Œè¿˜æ˜¯å¯ä»¥æå‡çš„ã€‚ä½†ä»£ç ä¸è§„èŒƒçš„è¯ï¼Œå…»æˆä¹ æƒ¯åå¾ˆéš¾æ”¹çš„ï¼Œæˆ‘è§è¿‡å¤ªå¤šé¡¹ç›®ä¸­ä½¿ç”¨ã€æ‹¼éŸ³å‘½åã€ä¸æ³¨æ„é©¼å³°å‘½åæ³•ã€defineé¢„å¤„ç†æŒ‡ä»¤æ»¡å¤©é£ç­‰ç­‰çš„ä»£ç ã€‘è¿™äº›å‡ºç°åœ¨é¡¹ç›®ä¸­å°±åƒæ—¶æ—¶åˆ»åˆ»åœ¨æé†’ä½ ï¼Œçœ‹è¿™æ ·çš„é¡¹ç›®æ˜¯ä¸€ç§ç…ç†¬ã€‚</li>
<li>å…¶å®ä»£ç è§„èŒƒä¸ä»…ä»…æ˜¯å…¬å¸å¯¹å¼€å‘è€…çš„è¦æ±‚,ä¹Ÿæ˜¯å¼€å‘è€…å¯¹è‡ªå·±çš„ä¸€ä¸ªè¦æ±‚ã€‚å› ä¸ºå¦‚æœç»Ÿä¸€æ¯ä¸ªäººçš„å†™ä½œè§„èŒƒï¼Œæ˜¯ä¸€ä»¶è€—æ—¶ï¼Œè€—æçš„äº‹æƒ…ã€‚å°ä¸€äº›çš„å…¬å¸æ˜¯åšä¸æ¥ï¼Œä¸­å‹çš„å…¬å¸å¤§å¤šæ˜¯ä¸æƒ³åšã€‚è€Œå¤§å‹çš„å…¬å¸æ€»æ˜¯èŠ±è´¹è¿‘å‡ ä¸ªæœˆçš„æ—¶é—´å»åŸ¹å…»å‘˜å·¥çš„ä»£ç è§„èŒƒï¼Œè¿™å°±æ˜¯è´¢å¤§æ°”ç²—å§ã€‚è€Œä¸”å¼€å‘è€…æœ¬èº«å¯¹äºæŠ€æœ¯çš„æå‡ã€è¿½æ±‚ç­‰ï¼Œéƒ½æ— å½¢ä¸­è¦æ±‚è‡ªå·±æ³¨æ„ä»£ç è§„èŒƒé—®é¢˜ã€‚</li>
<li>å¯¹äºè¿™éƒ¨åˆ†ï¼Œå»ºè®®çœ‹çœ‹ã€ŠEffective Objective-C 2.0ã€‹è¿™æœ¬ä¹¦ï¼Œå…¶ä¸­èµ·åˆ°çš„ã€‚</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å‰è¨€ï¼š&quot;&gt;&lt;a href=&quot;#å‰è¨€ï¼š&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€ï¼š&quot;&gt;&lt;/a&gt;å‰è¨€ï¼š&lt;/h3&gt;&lt;p&gt;æœ€è¿‘ä¸€ç›´åœ¨ç»´æŠ¤è€çš„é¡¹ç›®ï¼Œé‡åˆ°çš„é—®é¢˜ä¹Ÿåƒå¥‡ç™¾æ€ªï¼Œéœ€è¦ä¿®è¡¥çš„ï¼Œéœ€è¦ä¼˜åŒ–çš„ï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†çš„ï¼Œæ„Ÿè§‰æ€»æ˜¯é‚£ä¹ˆçš„æ— è¯­ã€‚ä¹Ÿè®¸è¿™æ—¶å€™ä¹Ÿåº”è¯¥æ„Ÿå¹ä¸€å¥ï¼š
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>SVNæäº¤é”™è¯¯ï¼š&quot;XXX&quot; is scheduled for addition, but is missing</title>
    <link href="https:guohuaden.com/2016/12/15/SVN-error/"/>
    <id>https:guohuaden.com/2016/12/15/SVN-error/</id>
    <published>2016-12-15T03:18:00.000Z</published>
    <updated>2017-01-15T07:14:45.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€ï¼š"><a href="#å‰è¨€ï¼š" class="headerlink" title="å‰è¨€ï¼š"></a>å‰è¨€ï¼š</h3><p>æœ€è¿‘åœ¨ç»´æŠ¤è€é¡¹ç›®ï¼Œæ‰€ä»¥å‡ºç°äº†å¾ˆå¤šä»¥å‰æ²¡é‡åˆ°è¿‡çš„é—®é¢˜ã€‚ä¹Ÿç®—è§è¯†ä¸€ç•ªå§ã€‚<br>ç›®å‰æ‰€åœ¨çš„å…¬å¸ä½¿ç”¨SVNä½œä¸ºç‰ˆæœ¬æ§åˆ¶å™¨ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥è¿™ä¸ªé—®é¢˜ä¹Ÿæ˜¯å°±å…³äºSVNçš„ã€‚</p>
<h3 id="æ­£æ–‡ï¼š"><a href="#æ­£æ–‡ï¼š" class="headerlink" title="æ­£æ–‡ï¼š"></a>æ­£æ–‡ï¼š</h3><p>ä»Šå¤©ä½¿ç”¨SVNæäº¤é¡¹ç›®æ—¶ï¼Œå‡ºç°äº†è¿™æ ·çš„æç¤ºï¼š<pre><code>â€œXXXâ€ is scheduled for addition, but is missingã€‚ï¼ˆæ— å…³ç´§è¦çš„ä¸œè¥¿ç”¨XXXä»£æ›¿ï¼‰ã€‚ </code></pre><br>çœ‹æŠ¥é”™è¯´æ˜æ˜¯è¿™æ ·çš„ï¼š<code>â€œXXXâ€å·²ç»è¢«åˆ—ä¸ºæ·»åŠ çŠ¶æ€ï¼Œä½†æˆ‘ä»¬æäº¤æ—¶å´ç¼ºå°‘â€XXXâ€è¿™ä¸ªã€‚</code></p>
<h3 id="åŸå› ï¼š"><a href="#åŸå› ï¼š" class="headerlink" title="åŸå› ï¼š"></a>åŸå› ï¼š</h3><p>ä¹‹å‰ç”¨SVNæäº¤è¿‡çš„æ–‡ä»¶/æ–‡ä»¶å¤¹ï¼Œè¢«æ ‡è®°ä¸ºâ€additionâ€çŠ¶æ€ï¼Œç­‰å¾…è¢«åŠ å…¥åˆ°ä»“åº“ã€‚è™½ç„¶ä½ æŠŠè¿™ä¸ªæ–‡ä»¶åˆ é™¤äº†ï¼ŒSVNæäº¤çš„æ—¶å€™è¿˜æ˜¯ä¼šå°è¯•æäº¤è¿™ä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥å°±ä¼šæç¤ºï¼š<code>â€œbut is missingâ€ã€‚</code><br>å½“ç„¶åˆ é™¤è¿™ä¸ªä¸œè¥¿ï¼Œå°±æ˜¯å› ä¸ºå®ƒå¤šä½™ï¼Œä¸ç„¶ä¹Ÿä¸ä¼šå¤šæ­¤ä¸€ä¸¾ã€‚ç°åœ¨å‡ºç°è¿™ç§é”™è¯¯ï¼Œæˆ‘ä»¬ä¸å¯èƒ½å†å»æ·»åŠ ä¸Šå»ï¼Œæ‰€ä»¥è§£å†³æ–¹æ³•åªèƒ½ä»SVNä¸Šç€æ‰‹äº†ï¼Œé¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯æ›´æ–°SVNé…ç½®æ–‡ä»¶ã€‚<br>æˆ‘çš„â€XXXâ€æ˜¯è¿™æ ·çš„ï¼š<pre><code> /Users/guohua/Desktop/é¡¹ç›®/é¡¹ç›®åå­—XXX/idealservice/idealservice/Classes/External/SDWebImage/FLAnimatedImage  </code></pre>ç¼ºå°‘çš„æ–‡ä»¶å¤¹æ˜¯ï¼š<code>FLAnimatedImage  ã€‚</code><br>æ€è·¯æ˜¯å¯¹çš„ï¼Œé‚£å°±çœ‹è§£å†³æ–¹æ³•å§ï¼š<br><code>å‘½ä»¤è¡Œï¼šsvn revert  å°†â€XXXâ€  revertï¼ˆæ¢å¤ï¼‰ åˆ°å®ƒçš„ä¸Šçº§ç›®å½•</code><br>å…·ä½“è¿™æ ·ï¼š<pre><code><br>svn revert  /Users/guohua/Desktop/é¡¹ç›®/é¡¹ç›®åå­—XXX/idealservice/idealservice/Classes/External/SDWebImage â€“depth infinity </code></pre></p>
<p>å¦‚æœä½ SVNæç¤ºç¼ºå°‘<code>XXX.png</code><br>å¯ä»¥ç›´æ¥å¤åŸåˆ°è¿™ä¸ªå›¾ç‰‡ä½ç½®ï¼š<pre><code>svn revert  /Users/guohua/Desktop/é¡¹ç›®/é¡¹ç›®åå­—XXX/â€¦/XXX.png  </code></pre></p>
<p>ä¸‹é¢æˆ‘ä»¬å»æäº¤ï¼Œå°±æ²¡æœ‰è¿™ç§æŠ¥é”™æç¤ºäº†ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å‰è¨€ï¼š&quot;&gt;&lt;a href=&quot;#å‰è¨€ï¼š&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€ï¼š&quot;&gt;&lt;/a&gt;å‰è¨€ï¼š&lt;/h3&gt;&lt;p&gt;æœ€è¿‘åœ¨ç»´æŠ¤è€é¡¹ç›®ï¼Œæ‰€ä»¥å‡ºç°äº†å¾ˆå¤šä»¥å‰æ²¡é‡åˆ°è¿‡çš„é—®é¢˜ã€‚ä¹Ÿç®—è§è¯†ä¸€ç•ªå§ã€‚&lt;br&gt;ç›®å‰æ‰€åœ¨çš„å…¬å¸ä½¿ç”¨SVNä½œä¸ºç‰ˆæœ¬æ§åˆ¶å™¨ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥è¿™ä¸ªé—®
    
    </summary>
    
    
      <category term="SVN" scheme="https:guohuaden.com/tags/SVN/"/>
    
  </entry>
  
  <entry>
    <title>Swiftä¹‹æ¨¡ç³Šæ•ˆæœï¼ˆæ¯›ç»ç’ƒæ•ˆæœï¼Œè™šåŒ–æ•ˆæœï¼‰çš„å®ç°</title>
    <link href="https:guohuaden.com/2016/11/29/Swift-BlurEffect/"/>
    <id>https:guohuaden.com/2016/11/29/Swift-BlurEffect/</id>
    <published>2016-11-29T06:19:25.000Z</published>
    <updated>2017-03-10T06:55:31.000Z</updated>
    
    <content type="html"><![CDATA[<font color="#FF8000"><strong>å‰è¨€ï¼š</strong></font>

<p>ä¹‹å‰é¡¹ç›®ä¸­æœ‰ç”¨åˆ°è¿‡<code>Objective-C</code>çš„çš„æ¨¡ç³Šæ•ˆæœï¼Œæ„Ÿè§‰å¾ˆæ˜¯ä¸é”™ï¼Œè€Œä¸”iOS8ä¹‹åå®˜æ–¹SDKä¹Ÿç›´æ¥æä¾›äº†å¯ä»¥å®ç°æ¯›ç»ç’ƒæ•ˆæœçš„ä¸‰ä¸ªç±»ï¼š<code>UIBlurEffect</code>ã€<code>UIVibrancyEffect</code> å’Œ <code>UIVisualEffectView</code>ã€‚é€šè¿‡è¿™ä¸‰ä¸ªç±»å¯ä»¥å¾ˆå®¹æ˜“çš„å»å®ç°æ¯›ç»ç’ƒæ•ˆæœã€‚</p>
<p>æœ€è¿‘åœ¨ç†Ÿæ‚‰<code>Swift</code>ï¼Œæ‰€ä»¥ä»Šå¤©è¯´çš„æ˜¯ä½¿ç”¨Swiftå»å®ç°è¿™ç§æ•ˆæœã€‚<br>å‰æï¼š</p>
<p>æˆ‘ä»¬å»å®ç°çš„æ¨¡ç³Šæ•ˆæœæœ‰ä¸ªå‰æï¼Œå°±æ˜¯éœ€è¦èƒŒæ™¯æœ‰ä¸€ä¸ªè‰²è°ƒï¼Œè¿™æ ·æ‰èƒ½ä½¿æ¯›ç»ç’ƒæœ‰ä¸€ä¸ªæ˜æ˜¾çš„æ•ˆæœï¼Œè¿™é‡Œæˆ‘ç›´æ¥åœ¨åº•éƒ¨æ·»åŠ ä¸€ä¸ªèƒŒæ™¯å›¾ç‰‡å§</p>
<p><img src="http://obzx0h1re.bkt.clouddn.com/Swift-BlurImage.png" alt="èƒŒæ™¯å›¾ç‰‡"></p>
<p>æˆ‘ä»¬å°±åœ¨è¿™å¼ èƒŒæ™¯å›¾ç‰‡ä¸Šå»å®ç°æ¨¡ç³Šæ•ˆæœã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">//MARK: ******* åˆ›å»ºèƒŒæ™¯å›¾ç‰‡ *************</div><div class="line">func createBackgroundImageView() &#123;</div><div class="line">    self.imageView1 = UIImageView(frame: self.view.bounds)</div><div class="line">    imageView1.layer.borderColor     = UIColor.black.cgColor</div><div class="line">    imageView1.layer.borderWidth     = 2 </div><div class="line">    imageView1.layer.cornerRadius    = 5</div><div class="line">    imageView1.clipsToBounds         = true</div><div class="line">    imageView1.image = UIImage(named: &quot;05&quot;)</div><div class="line">    self.view.addSubview(imageView1)  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<font color="#0B1746"><strong>1ã€<code>UIBlurEffect</code>ç±»ï¼ˆç”¨ä½œåˆ›å»ºä¸€ä¸ªæ¨¡ç³Šæ•ˆæœï¼‰</strong></font>

<p>SDKä¸­æä¾›çš„æ¨¡ç³Šæ•ˆæœæœ‰5ç§ï¼Œå…¶ä¸­ä¸¤ç§æ˜¯iOS10ä¹‹åæ·»åŠ çš„ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line">     public enum UIBlurEffectStyle : Int &#123;</div><div class="line">     </div><div class="line">     </div><div class="line">     case extraLight</div><div class="line">     </div><div class="line">     case light</div><div class="line">     </div><div class="line">     case dark</div><div class="line">     </div><div class="line">     </div><div class="line">     @available(iOS 10.0, *)</div><div class="line">     case regular // Adapts to user interface style</div><div class="line">     </div><div class="line">     @available(iOS 10.0, *)</div><div class="line">     case prominent // Adapts to user interface style</div><div class="line">     &#125;</div><div class="line">     */</div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å°±ç›´æ¥åˆ›å»ºå¥½äº†ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//åˆ›å»ºä¸€ä¸ªæ¨¡ç³Šæ•ˆæœ</div><div class="line">  let blurEffect = UIBlurEffect(style: .light)</div></pre></td></tr></table></figure>
<p>ä¸Šé¢ä½¿ç”¨çš„æ˜¯æ™®é€šçš„äº®è‰²ã€‚</p>
<font color="#0B1746"><strong>2ã€<code>UIVibrancyEffect</code>ç±»</strong></font>

<p><code>UIVibrancyEffect</code> ä¸»è¦ç”¨äºæ”¾å¤§å’Œè°ƒæ•´ <code>UIVisualEffectView</code> è§†å›¾ä¸‹é¢çš„å†…å®¹çš„é¢œè‰²ï¼ŒåŒæ—¶è®© <code>UIVisualEffectView</code> çš„ <code>contentView</code> ä¸­çš„å†…å®¹çœ‹èµ·æ¥æ›´åŠ ç”ŸåŠ¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//åˆ›å»ºå¹¶æ·»åŠ vibrancy&lt;/code&gt;è§†å›¾</div><div class="line">let vibrancyEffect = UIVibrancyEffect(blurEffect: blurEffect)</div></pre></td></tr></table></figure>
<font color="#0B1746"><strong>3ã€<code>UIVisualEffectView</code>ç±»</strong></font>

<p><code>UIVisualEffectView</code>ï¼šæ¨¡ç³Šè§†å›¾ã€‚å°†å‰é¢åˆ›å»ºçš„ <code>UIBlurEffect</code> ç±»çš„å®ä¾‹åº”ç”¨åˆ°è¿™ä¸ªæ¨¡ç³Šè§†å›¾ä¸Šã€‚å°† <code>UIVisualEffectView</code> ç±»çš„å®ä¾‹ï¼ˆæ¨¡ç³Šè§†å›¾ï¼‰ç½®äºå¾…æ¯›ç»ç’ƒåŒ–çš„è§†å›¾ä¹‹ä¸Šå³å¯ã€‚åœ¨å…¶ä¸‹æ–¹çš„æ‰€æœ‰è§†å›¾éƒ½ä¼šæœ‰æ¨¡ç³Šæ•ˆæœã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼šä¸è¦ç›´æ¥æ·»åŠ å­è§†å›¾å»<code>UIVisualEffectView</code>ï¼Œè€Œæ˜¯è¦æ·»åŠ åˆ°<code>contentView</code>ä¸Šã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//åˆ›å»ºä¸€ä¸ªæ‰¿è½½æ¨¡ç³Šæ•ˆæœçš„è§†å›¾</div><div class="line">let blurView = UIVisualEffectView(effect: blurEffect)</div></pre></td></tr></table></figure>
<font color="#0B1746"><strong>4ã€æ•´ä½“çš„ä»£ç å®ç°</strong></font>

<p>ä¸‹é¢æˆ‘ä»¬ç›´æ¥çœ‹æ•´ä½“çš„ä»£ç å®ç°ï¼š</p>
<p>è¿™éƒ¨åˆ†åˆ†ä¸ºä¸¤ç§ï¼Œæ•ˆæœä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ï¼š</p>
<p>å…ˆçœ‹ä¸€ä¸‹æ•ˆæœå›¾ï¼š<br><img src="http://obzx0h1re.bkt.clouddn.com/Swift-blurEffec.png" alt="Swift-blurEffec"><br>æ¯›ç»ç’ƒæ•ˆæœå›¾</p>
<font color="##87CEEB"><strong>4.1 <code>UIBlurEffect</code> å’Œ <code>UIVisualEffectView</code>ä¸¤è€…é…åˆä½¿ç”¨</strong></font>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">func showBlurEffect() &#123;   </div><div class="line">//åˆ›å»ºä¸€ä¸ªæ¨¡ç³Šæ•ˆæœ</div><div class="line">let blurEffect = UIBlurEffect(style: .light)</div><div class="line">//åˆ›å»ºä¸€ä¸ªæ‰¿è½½æ¨¡ç³Šæ•ˆæœçš„è§†å›¾</div><div class="line">let blurView = UIVisualEffectView(effect: blurEffect)   </div><div class="line">blurView.frame = CGRect(x: 0, y: 64, width: viewWidth+2*space, height: Double(viewHeight))</div><div class="line">let label = UILabel(frame: CGRect(x: 10, y: 100, width: viewWidth - 20, height: 100))   </div><div class="line">label.text = &quot;bfjnecsjdkcmslc,samosacmsacdfvneaui&quot;  </div><div class="line">label.font = UIFont.boldSystemFont(ofSize: 30)</div><div class="line">label.numberOfLines = 0</div><div class="line">label.textAlignment = .center</div><div class="line">label.textColor = UIColor.white    </div><div class="line">blurView.contentView.addSubview(label)   </div><div class="line">self.view.addSubview(blurView)   </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<font color="##87CEEB"><strong>4.2 <code>UIBlurEffect</code>ã€<code>UIVibrancyEffect</code> å’Œ <code>UIVisualEffectView</code></strong></font>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">func showBlurEffectWithUIVibrancyEffect() &#123;</div><div class="line">//åˆ›å»ºä¸€ä¸ªæ¨¡ç³Šæ•ˆæœ</div><div class="line">let blurEffect = UIBlurEffect(style: .light)</div><div class="line">//åˆ›å»ºä¸€ä¸ªæ‰¿è½½æ¨¡ç³Šæ•ˆæœçš„è§†å›¾</div><div class="line">let blurView = UIVisualEffectView(effect: blurEffect)    </div><div class="line">blurView.frame = CGRect(x: 0, y: Double(viewHeight+64), width: viewWidth+2*space, height: Double(viewHeight))    </div><div class="line">self.view.addSubview(blurView)    </div><div class="line">//åˆ›å»ºå¹¶æ·»åŠ vibrancyè§†å›¾</div><div class="line">let vibrancyEffect = UIVibrancyEffect(blurEffect: blurEffect)    </div><div class="line">let vibrancyView = UIVisualEffectView(effect:vibrancyEffect)</div><div class="line">vibrancyView.frame = self.view.bounds       </div><div class="line">let label = UILabel(frame: CGRect(x: 10, y: viewY, width: viewWidth - 20, height: 100))    </div><div class="line">label.text = &quot;bfjnecsjdkcmslc,samosacmsacdfvneaui&quot;    </div><div class="line">label.font = UIFont.boldSystemFont(ofSize: 30)</div><div class="line">label.numberOfLines = 0</div><div class="line">label.textAlignment = .center</div><div class="line">label.textColor = UIColor.white    </div><div class="line">vibrancyView.contentView.addSubview(label)    </div><div class="line">blurView.contentView.addSubview(vibrancyView)   </div><div class="line">self.view.addSubview(blurView)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p> <font color="#6B8E23"><strong>å›¾ç‰‡çš„å‰è€…æ˜¯ï¼š</strong></font><code>UIBlurEffect</code> å’Œ <code>UIVisualEffectView</code>ä¸¤è€…é…åˆä½¿ç”¨</p>
<p><font color="#6B8E23"><strong>åè€…ï¼š</strong></font><code>UIBlurEffect</code>ã€<code>UIVibrancyEffect</code> å’Œ <code>UIVisualEffectView</code></p>
]]></content>
    
    <summary type="html">
    
      &lt;font color=&quot;#FF8000&quot;&gt;&lt;strong&gt;å‰è¨€ï¼š&lt;/strong&gt;&lt;/font&gt;

&lt;p&gt;ä¹‹å‰é¡¹ç›®ä¸­æœ‰ç”¨åˆ°è¿‡&lt;code&gt;Objective-C&lt;/code&gt;çš„çš„æ¨¡ç³Šæ•ˆæœï¼Œæ„Ÿè§‰å¾ˆæ˜¯ä¸é”™ï¼Œè€Œä¸”iOS8ä¹‹åå®˜æ–¹SDKä¹Ÿç›´æ¥æä¾›äº†å¯ä»¥å®ç°æ¯›ç»ç’ƒæ•ˆæœçš„ä¸‰ä¸ªç±»ï¼š&lt;code&gt;
    
    </summary>
    
    
      <category term="Swift" scheme="https:guohuaden.com/tags/Swift/"/>
    
  </entry>
  
  <entry>
    <title>iOSä¹‹ä½¿ç”¨æ¨¡æ‹Ÿå™¨é”™è¯¯ (Code Sign Error:resource fork, Finder information, or similar detritus not allowed)</title>
    <link href="https:guohuaden.com/2016/11/14/Xcode-error-Code%20Sign%20Error/"/>
    <id>https:guohuaden.com/2016/11/14/Xcode-error-Code Sign Error/</id>
    <published>2016-11-14T12:01:31.000Z</published>
    <updated>2017-02-08T02:14:13.000Z</updated>
    
    <content type="html"><![CDATA[<p>å¾ˆå¥‡æ€ªçš„é—®é¢˜ï¼Œä½¿ç”¨çœŸæœºæµ‹è¯•æ²¡æœ‰é—®é¢˜ã€‚ä½†ä½¿ç”¨æ¨¡æ‹Ÿå™¨æµ‹è¯•çš„æ—¶å€™å°±ä¼šæŠ¥è¿™æ ·çš„é”™è¯¯ï¼Œé”™è¯¯ç±»å‹ä¸ºï¼š<code>Code Sign Error</code></p>
<p>é”™è¯¯æç¤ºæ˜¯è¿™æ ·ï¼š<code>resource fork, Finder information, or similar detritus not allowedã€‚</code></p>
<p>æ‰¾äº†å¾ˆå¤šèµ„æ–™ï¼Œè¯´çš„éƒ½æ˜¯ä¸€åŠä¸€åŠï¼Œæœ‰çš„çœ‹äº†ä»æ˜¯æ— ä»ä¸‹æ‰‹ã€‚æœ€åçœ‹åˆ°çš„å¤„ç†æ–¹å¼æ˜¯è¿™æ ·çš„ï¼š</p>
<p>é¦–å…ˆå…³é—­<code>Xcode</code>ï¼Œæ‰“å¼€ç»ˆç«¯ï¼š</p>
<p>è¿›å…¥<code>DerivedData</code>ç›®å½•</p>
<p><code>cd ~/Library/Developer/Xcode/DerivedData/ </code></p>
<p>ç„¶åå†ç»ˆç«¯è¾“å…¥ï¼š<code>xattr -rc .</code> </p>
<p><code>xattr -rc .</code> </p>
<p>å†æ¬¡è¿è¡Œé¡¹ç›®ï¼Œå°±æ²¡æœ‰è¿™æ ·æŠ¥é”™äº†ã€‚ï¼ˆä¹Ÿç®—æ˜¯å¯¹ç—‡ä¸‹è¯å§ï¼‰</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¾ˆå¥‡æ€ªçš„é—®é¢˜ï¼Œä½¿ç”¨çœŸæœºæµ‹è¯•æ²¡æœ‰é—®é¢˜ã€‚ä½†ä½¿ç”¨æ¨¡æ‹Ÿå™¨æµ‹è¯•çš„æ—¶å€™å°±ä¼šæŠ¥è¿™æ ·çš„é”™è¯¯ï¼Œé”™è¯¯ç±»å‹ä¸ºï¼š&lt;code&gt;Code Sign Error&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;é”™è¯¯æç¤ºæ˜¯è¿™æ ·ï¼š&lt;code&gt;resource fork, Finder information, or simil
    
    </summary>
    
    
      <category term="Xcode" scheme="https:guohuaden.com/tags/Xcode/"/>
    
  </entry>
  
  <entry>
    <title>iOSä¹‹é€€å‡ºapp(é¡¹ç›®)çš„å‡ ç§æ–¹æ³•</title>
    <link href="https:guohuaden.com/2016/11/13/Project-Logout/"/>
    <id>https:guohuaden.com/2016/11/13/Project-Logout/</id>
    <published>2016-11-13T03:01:32.000Z</published>
    <updated>2017-03-10T06:55:09.000Z</updated>
    
    <content type="html"><![CDATA[<p>è·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢ã€‚ä¹Ÿç®—æ˜¯å¯¹ç¨‹åºå‘˜çš„ä¸€ç§çœŸå®å†™ç…§äº†å§ã€‚</p>
<p>ä»Šå¤©æƒ³ç ”ç©¶ä¸€ä¸‹iOSä¸­é€€å‡ºé¡¹ç›®çš„æ–¹æ³•ï¼Œè¯´æ˜¯ä»Šå¤©ï¼Œå…¶å®ä¹Ÿå…³æ³¨å¹¶å»äº†è§£å¾ˆä¹…äº†ã€‚åªæ˜¯å§‹ç»ˆæ‰¾ä¸åˆ°è‡ªå·±è®¤ä¸ºå¾ˆå¥½çš„æ–¹æ³•ã€‚ä»Šå¤©å°±å…ˆæŠŠè‡ªå·±äº†è§£çš„åˆ—ä¸¾ä¸€ä¸‹ï¼Œä»¥åå¦‚æœè¿˜èƒ½æ‰¾åˆ°è®¤ä¸ºæ›´å¥½çš„ï¼Œå°±åœ¨è¡¥å……å§ã€‚</p>
<p>è¿™é‡Œæ˜¯æˆ‘ä»¬åœ¨é¡¹ç›®çš„<code>AppDelegate</code>ä¸­æ™®éå†™åˆ°çš„ä¸€å¥ä»£ç ï¼ˆè‡³äºæ‰©å±•å’Œä¸°å¯Œï¼Œæˆ‘ä»¬æš‚ä¸å»æ·±ç©¶ï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions &#123; </div><div class="line">	LoginViewController *loginVC = [[LoginViewController alloc] init];</div><div class="line">//    UINavigationController *homeNavigationView = [[UINavigationController alloc] initWithRootViewController:loginVC];</div><div class="line">//    self.window.rootViewController = 	homeNavigationView;</div><div class="line">	self.window.rootViewController = loginVC;</div><div class="line">    return YES;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä¸‹é¢æˆ‘ä»¬å°±å›´ç»•<code>LoginViewController</code>è¿™ä¸ªç™»å½•ç•Œé¢å±•å¼€æˆ‘ä»¬çš„è®¨è®ºã€‚æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œç™»å½•çš„æ–¹å¼ä¸åŒï¼Œæ‰ä¼šå¯¼è‡´é€€å‡ºçš„æ–¹å¼å·®å¼‚ï¼Œæœ‰ç™»å½•æ‰æœ‰é€€å‡ºï¼Œè¿™æ˜¯å› æœå…³ç³»ã€‚</p>
<p>è€Œæˆ‘ä»¬çš„ç™»å½•æ–¹å¼æ— å¤–ä¹è¿™å‡ ç§ï¼šåˆ©ç”¨ <code>Modal</code> å½¢å¼å±•ç¤ºæ§åˆ¶å™¨ ï¼›åˆ©ç”¨å¯¼èˆªæ§åˆ¶å™¨<code>UINavigationController</code>è·³è½¬ï¼›å½“ç„¶ä¹Ÿå¯ä»¥æ›´æ”¹ <code>UIWindow</code> çš„ <code>rootViewController</code>ã€‚ä¸‹é¢æˆ‘ä»¬å°±ä»‹ç»ä¸€ä¸‹è¿™å‡ ç§ç™»å½•æ–¹å¼å§ã€‚</p>
<font color="#228B22"><strong>1ã€ç™»å½•é€€å‡ºA</strong></font>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">- (void)login</div><div class="line">&#123;</div><div class="line">	HomeViewController *homeVC = [[HomeViewController alloc]init];  </div><div class="line">	[self presentViewController:homeVC animated:YES completion:nil];</div><div class="line">&#125; </div><div class="line">- (void)exit</div><div class="line">&#123;</div><div class="line">	[self dismissViewControllerAnimated:YES completion:nil];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™æ˜¯åˆ©ç”¨<code>model</code>å½¢å¼ç™»å½•å’Œé€€å‡ºappçš„ã€‚å½“ç„¶ç™»å½•çš„åŠ¨ç”»å½¢å¼æ˜¯å¤šé€‰çš„ï¼Œä½ å¯ä»¥æŒ‘é€‰ä¸€ç§å–œæ¬¢çš„æ–¹å¼ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰è½¬åœºåŠ¨ç”»ï¼Œè¿™æ˜¯ä½ çš„è‡ªç”±ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line">     UIModalTransitionStyleCoverVertical = 0,</div><div class="line">     UIModalTransitionStyleFlipHorizontal __TVOS_PROHIBITED,</div><div class="line">     UIModalTransitionStyleCrossDissolve,</div><div class="line">     UIModalTransitionStylePartialCurl NS_ENUM_AVAILABLE_IOS(3_2) __TVOS_PROHIBITED,</div><div class="line">     */</div></pre></td></tr></table></figure>
<p>è¿™é‡Œæˆ‘åšäº†ä¸ªgifåŠ¨ç”»ï¼Œæ˜¯å…³äºç³»ç»Ÿè‡ªå¸¦çš„ï¼Œå¯ä»¥çœ‹ä¸‹ï¼š<br><img src="http://obzx0h1re.bkt.clouddn.com/%E8%BD%AC%E5%9C%BA%E5%8A%A8%E7%94%BB.gif" alt="logout_gif"></p>
<font color="#228B22"><strong>2ã€ç™»å½•é€€å‡ºB</strong></font>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">- (void)login</div><div class="line">&#123;</div><div class="line">	HomeViewController *homeVC = [[HomeViewController alloc]init];</div><div class="line">	[self.navigationController pushViewController:homeVC animated:YES];</div><div class="line">&#125;</div><div class="line">- (void)exit</div><div class="line">&#123;</div><div class="line">	[self.navigationController popViewControllerAnimated:YES];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™æ˜¯åˆ©ç”¨å¯¼èˆªæ§åˆ¶å™¨<code>UINavigationController</code>è·³è½¬ã€‚ä¹Ÿæ˜¯æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ç»å¸¸ç”¨åˆ°çš„ä¸€ç§æ–¹å¼ï¼Œå½“ç„¶ï¼Œç™»å½•é€€å‡ºä¹Ÿæ˜¯å¸¸ç”¨è¿™ç§æ–¹å¼çš„ã€‚è¿™é‡Œå°±ä¸è¿‡å¤šå»è¿°ã€‚</p>
<font color="#228B22"><strong>3ã€æ›´æ”¹ <code>UIWindow</code> çš„ <code>rootViewController</code></strong></font>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">- (void)login&#123;</div><div class="line">    HomeViewController *homeVC = [[HomeViewController alloc]init];</div><div class="line">    self.window.rootViewController = homeVC;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ˜¯å†™åœ¨AppDelegateä¸­çš„ï¼Œé€€å‡ºæ—¶å†è°ƒç”¨è¯¥æ–¹æ³•ã€‚</p>
<font color="#228B22"><strong>4ã€é€€å‡ºappç¨‹åºï¼ˆä¸æ¨èä½¿ç”¨ï¼Œè¿™ç§æ–¹å¼ä¼šè®©ç”¨æˆ·è§‰å¾—appé—ªé€€ï¼‰</strong></font>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">- (void)exitApplication &#123;</div><div class="line">    UIWindow *window =  [UIApplication sharedApplication].keyWindow;</div><div class="line">    [UIView animateWithDuration:1.0f animations:^&#123;</div><div class="line">        window.alpha = 0;</div><div class="line">        window.frame = CGRectMake(0, window.bounds.size.width, 0, 0);</div><div class="line">    &#125; completion:^(BOOL finished) &#123;</div><div class="line">        exit(0);</div><div class="line">    &#125;];  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p> <font color="#E3170D"><strong>è­¦å‘Šï¼š</strong></font>ä¸è¦ä½¿ç”¨<code>exit</code>å‡½æ•°ï¼Œè°ƒç”¨<code>exit</code>ä¼šè®©ç”¨æˆ·æ„Ÿè§‰ç¨‹åºå´©æºƒäº†ï¼Œä¸ä¼šæœ‰æŒ‰<code>Home</code>é”®è¿”å›æ—¶çš„å¹³æ»‘è¿‡æ¸¡å’ŒåŠ¨ç”»æ•ˆæœã€‚</p>
<p> å¦å¤–ï¼Œä½¿ç”¨<code>exit</code>å¯èƒ½ä¼šä¸¢å¤±æ•°æ®ï¼Œå› ä¸ºè°ƒç”¨<code>exit</code>å¹¶ä¸ä¼šè°ƒç”¨<code>-applicationWillTerminate:</code>æ–¹æ³•å’Œ<code>UIApplicationDelegate</code>æ–¹æ³•ï¼› </p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢ã€‚ä¹Ÿç®—æ˜¯å¯¹ç¨‹åºå‘˜çš„ä¸€ç§çœŸå®å†™ç…§äº†å§ã€‚&lt;/p&gt;
&lt;p&gt;ä»Šå¤©æƒ³ç ”ç©¶ä¸€ä¸‹iOSä¸­é€€å‡ºé¡¹ç›®çš„æ–¹æ³•ï¼Œè¯´æ˜¯ä»Šå¤©ï¼Œå…¶å®ä¹Ÿå…³æ³¨å¹¶å»äº†è§£å¾ˆä¹…äº†ã€‚åªæ˜¯å§‹ç»ˆæ‰¾ä¸åˆ°è‡ªå·±è®¤ä¸ºå¾ˆå¥½çš„æ–¹æ³•ã€‚ä»Šå¤©å°±å…ˆæŠŠè‡ªå·±äº†è§£çš„åˆ—ä¸¾ä¸€ä¸‹ï¼Œä»¥åå¦‚æœè¿˜èƒ½æ‰¾åˆ°è®¤ä¸ºæ›´å¥½çš„ï¼Œå°±åœ¨è¡¥å……å§ã€‚&lt;/p&gt;
&lt;p
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>Base64åŠ å¯†å’ŒDESåŠ å¯†ã€ä»¥åŠJAVAå’ŒiOSä¸­DESåŠ å¯†ç»Ÿä¸€æ€§é—®é¢˜</title>
    <link href="https:guohuaden.com/2016/10/06/DES-encryption/"/>
    <id>https:guohuaden.com/2016/10/06/DES-encryption/</id>
    <published>2016-10-06T14:14:00.000Z</published>
    <updated>2017-01-14T13:07:16.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p><em>æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ä¸ºäº†å®‰å…¨æ–¹é¢çš„è€ƒè™‘ï¼Œé€šå¸¸æƒ…å†µä¸‹ä¼šé€‰æ‹©ä¸€ç§åŠ å¯†æ–¹å¼å¯¹éœ€è¦å®‰å…¨æ€§çš„æ–‡æœ¬è¿›è¡ŒåŠ å¯†ï¼Œè€ŒBase64åŠ å¯†å’ŒDES64åŠ å¯†æ˜¯å¸¸ç”¨çš„åŠ å¯†ç®—æ³•ã€‚æˆ‘è®°å¾—æˆ‘åœ¨å‰ä¸€ä¸ªé¡¹ç›®ä¸­ä½¿ç”¨çš„å°±æ˜¯è¿™ä¸¤ç§åŠ å¯†ç®—æ³•çš„ç»“åˆï¼šBase64 ï¼‹ DESåŠ å¯†ã€‚å½“ç„¶è¿™éœ€è¦ç§»åŠ¨ç«¯å’Œåå°æœåŠ¡å™¨åšä¸€ä¸ªç»Ÿä¸€ã€‚</em></p>
<h3 id="1ã€Base64åŠ è§£å¯†"><a href="#1ã€Base64åŠ è§£å¯†" class="headerlink" title="1ã€Base64åŠ è§£å¯†"></a>1ã€Base64åŠ è§£å¯†</h3><p>å€¼å¾—ä¸€æçš„æ˜¯ï¼šappleæä¾›äº†åŸºç¡€çš„Base64åŠ è§£å¯†ç®—æ³•ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç›´æ¥ä½¿ç”¨æ–¹æ³•å»å®ç°Base64åŠ è§£å¯†ã€‚å…ˆçœ‹ä¸€ä¸‹appleéƒ½æä¾›äº†å“ªäº›æ–¹æ³•ï¼š<br><pre>@interface NSData (NSDataBase64Encoding)<br>-(nullable instancetype)initWithBase64EncodedString:(NSString <em> )base64String options:(NSDataBase64DecodingOptions)options NS_AVAILABLE(10_9, 7_0);<br>-(NSString </em> )base64EncodedStringWithOptions:(NSDataBase64EncodingOptions)options NS_AVAILABLE(10_9, 7_0);<br>-(nullable instancetype)initWithBase64EncodedData:(NSData <em> )base64Data options:(NSDataBase64DecodingOptions)options NS_AVAILABLE(10_9, 7_0);<br>-(NSData </em> )base64EncodedDataWithOptions:(NSDataBase64EncodingOptions)options NS_AVAILABLE(10_9, 7_0);<br>@end</pre> </p>
<p>æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªNSDataï¼Œå†å»ä¸€æ¡ä¸€æ¡çš„åˆ†æä»¥ä¸Šçš„æ–¹æ³•</p>
<pre>NSData *data = [@"Base64 encoding string" dataUsingEncoding:NSUTF8StringEncoding];</pre>

<ul>
<li><p>ï¼ˆ1ï¼‰åˆ›å»ºä¸€ä¸ªDataï¼ˆä»ä¸€ä¸ªBase64ç¼–ç å­—ç¬¦ä¸²ä½¿ç”¨ç»™å‡ºçš„è®¾ç½®åˆ›å»ºä¸€ä¸ªDataï¼‰</p>
<pre>NSData *dataFromBase64String = [[NSData alloc]initWithBase64EncodedString:base64String options:0];</pre>
</li>
<li><p>(2)åˆ›å»ºä¸€ä¸ªBase64ç¼–ç å­—ç¬¦ä¸²ï¼ˆä»æ¥å—è€…å†…å®¹åˆ›å»ºï¼‰</p>
<pre>NSString *base64String = [data base64EncodedStringWithOptions:0];</pre>
</li>
<li><p>(3)åˆ›å»ºä¸€ä¸ªDataï¼ˆä»ä¸€ä¸ªBase64ã€UTF-8ç¼–ç çš„Dataåˆ›å»ºï¼‰</p>
<pre>NSData *base64AndUTFData = [base64Data initWithBase64EncodedData:base64Data options:0];</pre>
</li>
<li><p>(4)åˆ›å»ºä¸€ä¸ªBase64ã€UTF-8ç¼–ç çš„Dataï¼ˆä»æ¥å—è€…å†…å®¹åˆ›å»ºï¼‰</p>
<pre>NSData *base64Data = [data base64EncodedDataWithOptions:0];</pre>


</li>
</ul>
<p><strong>å½“ç„¶ï¼Œæˆ‘ä»¬æœ€åä¹Ÿå¯ä»¥å°†Dataè½¬åŒ–æˆStringç±»å‹ã€‚</strong></p>
<pre>NSString *base64Decoded = [[NSString alloc]initWithData:dataFromBase64String encoding:NSUTF8StringEncoding];</pre>



<p><em>ä»¥ä¸Šæ˜¯Base64åŠ è§£å¯†æ–¹æ³•ã€‚ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹DESçš„åŠ è§£å¯†ã€‚</em></p>
<h3 id="2ã€DESåŠ è§£å¯†"><a href="#2ã€DESåŠ è§£å¯†" class="headerlink" title="2ã€DESåŠ è§£å¯†"></a>2ã€DESåŠ è§£å¯†</h3><p>æˆ‘ä»¬éƒ½çŸ¥é“å®‰å“å’Œåå°å¯ä»¥ä½¿ç”¨ç»Ÿä¸€çš„ä»£ç å»è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¿™ä¹Ÿæ˜¯javaçš„ä¼˜åŠ¿ä¹‹ä¸€å§ã€‚è¿™é‡Œæˆ‘ä¼šé™„ä¸€æ®µjavaçš„ä»£ç ã€‚ä¸»è¦æ˜¯ä¸ºäº†ä¸‹é¢è¯´æ˜javaå’ŒiOSç«¯å®ç°ä¸­éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼ˆä¹Ÿæ˜¯ä¸åŒç‚¹ï¼‰ã€‚<br>ä¸ºäº†ä½¿è¯´æ˜æ›´æ–¹ä¾¿ä¸€äº›ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹javaçš„DESåŠ å¯†æ–¹æ³•ï¼š</p>
<pre>// EDSåŠ å¯†
 public static String Encrypt(String originalStr) {
   String result = null;
   byte[] tmpOriginalStr = null;
   try {
       if (!Tools.isEmpty(originalStr)) {
           tmpOriginalStr = originalStr.getBytes("utf-8");
           SecretKeyFactory keyFactory = SecretKeyFactory.getInstance("DES");
           DESKeySpec dks = new DESKeySpec(KEY);
           SecretKey secretKey = keyFactory.generateSecret(dks);
           IvParameterSpec param = new IvParameterSpec(IV);
           Cipher cipher = Cipher.getInstance("DES/CBC/PKCS5Padding");
           cipher.init(Cipher.ENCRYPT_MODE, secretKey,param);
           byte[] tmpEncypt = cipher.doFinal(tmpOriginalStr);
           if (tmpEncypt != null) {
               result = Base64.encodeToString(tmpEncypt,Base64.NO_WRAP);
            }
         }
      } catch (Exception e) {
            Log.e("Erro",e.getMessage());
      }
     return result;
  }
}
</pre>

<p>æˆ‘ä»¬å¯ä»¥çœ‹å‡ºJavaé’ˆå¯¹DESåŠ å¯†ç®—æ³•é»˜è®¤ä½¿ç”¨çš„æ˜¯<code>CBCæ¨¡å¼</code>ï¼Œå¯¹é½æ–¹å¼é‡‡ç”¨çš„æ˜¯:<code>PKCS5Padding</code>ã€‚</p>
<p>è€ŒOCä¸­çš„åŠ å¯†å¹¶ä¸æ˜¯javaä¸­çš„å½¢å¼å®ç°åŠ å¯†çš„ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€çœ‹OCä¸­å®ç°DESåŠ å¯†çš„ä»£ç ï¼š</p>
<pre>+(NSString *) encryptUseDES:(NSString *)plainText {
    NSString * ciphertext = nil;
    NSData * textData = [plainText dataUsingEncoding:NSUTF8StringEncoding];
    NSUInteger dataLength = [textData length];
    unsigned char buffer[1024 * 5];
    memset(buffer, 0, sizeof(char));
    size_t numBytesEncrypted = 0;
    CCCryptorStatus cryptStatus = CCCrypt(kCCEncrypt, kCCAlgorithmDES,
                                          kCCOptionPKCS7Padding,
                                          [key UTF8String], kCCKeySizeDES,
                                          [iv UTF8String],
                                          [textData bytes], dataLength,
                                          buffer, 1024,
                                          &numBytesEncrypted);
    if (cryptStatus == kCCSuccess) {
        NSData *data = [NSData dataWithBytes:buffer length:(NSUInteger)numBytesEncrypted];
        ciphertext = [data base64EncodedStringWithOptions:0];
    }
    return ciphertext;
}
</pre>

<p>å…ˆè¯´ä¸€ä¸‹ä»£ç ä¸­çš„<strong>keyå’Œiv</strong> ã€‚<code>key</code>ï¼šæ˜¯DESåŠ å¯†çš„å…¬é’¥ã€‚è€Œ<code>iv</code>ï¼šæ˜¯åˆå§‹åŒ–çš„çŸ¢é‡ã€‚ä¸¤è€…éƒ½æ˜¯DESåŠ å¯†çš„å…³é”®å‚æ•°ã€‚è¿™ä¸ªæ˜¯å¿…é¡»è¦å’ŒAndroidã€åå°æœ‰ä¸ªç»Ÿä¸€çš„ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹å‡ºOCä½¿ç”¨çš„æ˜¯<code>kCCOptionPKCS7Padding</code>å¯¹é½æ–¹å¼ã€‚è€Œjavaä¸­å¾ˆæ˜ç¡®çš„æŒ‡å‡ºä½¿ç”¨çš„æ˜¯<code>PKCS5Padding</code>ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ç‚¹è¿›å»çœ‹çœ‹OCä¸­ç»™å‡ºçš„å¯¹é½é€‰æ‹©æœ‰å“ªäº›ï¼Œæˆ‘ç›´æ¥ä»¥ä»£ç çš„å½¢å¼å±•ç¤ºå‡ºæ¥ï¼š</p>
<p><pre>@constant   kCCOptionPKCS7Padding   Perform PKCS7 padding.<br>@constant   kCCOptionECBMode        Electronic Code Book Mode.<br>                                    Default is CBC.<br>enum {<br>    /<em> options for block ciphers </em>/<br>    kCCOptionPKCS7Padding   = 0x0001,<br>    kCCOptionECBMode        = 0x0002<br>    /<em> stream ciphers currently have no options </em>/<br>};</pre></p>
<p> OCä¸­ç»™å‡ºçš„æ˜¯<code>kCCOptionECBMode</code> å’Œ<code> kCCOptionPKCS7Padding</code>è¿™ä¸¤ç§é€‰æ‹©ã€‚é‚£ä¹ˆï¼Œé—®é¢˜ç°åœ¨å‡ºç°äº†ã€‚javaä¸­çš„DESåŠ å¯†ç®—æ³•æœ‰å¾ˆå¤šç§ï¼Œä¾‹å¦‚ï¼š<code>ECBï¼ŒCBCï¼ŒOFBï¼ŒCFB</code>ç­‰ã€‚</p>
<p>java å’Œ OCçš„DESåŠ å¯†æ€æ ·æ‰èƒ½å®ç°ä¸€è‡´æ€§å‘¢ï¼Ÿï¼ˆè¿™ä¹Ÿæ˜¯æˆ‘åœ¨é¡¹ç›®ä¸­é‡åˆ°çš„é—®é¢˜ï¼‰ã€‚</p>
<p>æŸ¥é˜…å¾ˆå¤šèµ„æ–™ï¼Œå†åŠ ä¸Šè‡ªå·±çš„å¾ˆå¤šæ¬¡æµ‹è¯•ï¼Œå¾—å‡ºçš„ç»“æœå¦‚ä¸‹ï¼š</p>
<p><strong>åœ¨JAVAä¸­ä½¿ç”¨è¿™ç§æ–¹å¼åŠ å¯†ï¼š<code>DES/CBC/PKCS5Padding</code> å¯¹åº”çš„Object-Cçš„æ˜¯ <code>kCCOptionPKCS7Padding</code>.<br>è€Œä½¿ç”¨<code>DES/ECB/PKCS5Padding</code> å¯¹åº”çš„Object-Cçš„æ˜¯   <code>kCCOptionPKCS7Padding | kCCOptionECBMod</code><br>è§‰å¾—ä¼¼ä¹OCç›®å‰åªæ”¯æŒè¿™ä¸¤ç§æ–¹å¼çš„åŠ å¯†ã€‚å½“ç„¶ç»“æœæ˜¯å·²ç»å¾—åˆ°éªŒè¯çš„ã€‚</strong></p>
<p><strong>æ³¨æ„ï¼šmd5åŠ å¯†ï¼ˆiOS SDKä¸­è‡ªå¸¦äº†CommonCryptoï¼‰å‡ºç°è­¦å‘Šâš ï¸ ã€‚è§£å†³æ–¹æ³•æ·»åŠ ï¼šå¼•å…¥å‡½æ•°å®šä¹‰çš„å¤´æ–‡ä»¶</strong> :<code>#import &lt;CommonCrypto/CommonDigest.h&gt;</code></p>
<p>å…¶ä»–é“¾æ¥ï¼š</p>
<p>ã€Š<a href="http://www.tuicool.com/articles/UJJrAj" target="_blank" rel="external">Objective Cä¸Javaä¹‹é—´çš„DESåŠ è§£å¯†å®ç°</a>ã€‹</p>
<p>ã€Š<a href="http://iosdevelopertips.com/core-services/encode-decode-using-base64.html" target="_blank" rel="external">iOS 7: Base64 Encode and Decode NSData and NSString Objects</a>ã€‹</p>
<p> è¿™é‡Œé™„ä¸Šdemoï¼š<a href="https://github.com/Wheat-Qin/Base64-DES" target="_blank" rel="external">https://github.com/Wheat-Qin/Base64-DES</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h3&gt;&lt;p&gt;&lt;em&gt;æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ä¸ºäº†å®‰å…¨æ–¹é¢çš„è€ƒè™‘ï¼Œé€šå¸¸æƒ…å†µä¸‹ä¼šé€‰æ‹©ä¸€ç§åŠ å¯†æ–¹å¼å¯¹éœ€è¦å®‰å…¨æ€§çš„æ–‡æœ¬è¿›è¡ŒåŠ å¯†ï¼Œè€ŒBase64åŠ å¯†å’ŒDES64åŠ å¯†æ˜¯å¸¸ç”¨çš„åŠ 
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>block å’Œ weakçš„äº†è§£</title>
    <link href="https:guohuaden.com/2016/09/27/block-and-weak/"/>
    <id>https:guohuaden.com/2016/09/27/block-and-weak/</id>
    <published>2016-09-27T01:45:07.000Z</published>
    <updated>2017-03-10T02:40:33.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœç„¶è¿˜æ˜¯å¯¹æœ€åŸºç¡€çš„çŸ¥è¯†äº†è§£ä¸é€å½»ï¼Œä»Šå¤©çœ‹ä¸€çœ‹iOSä¸­çš„ä¸¤ä¸ªä¿®é¥°ç¬¦ï¼š<code>__block</code>å’Œ<code>__weak</code> ã€‚ä¹Ÿæ˜¯åšä¸€ä¸‹æ¸©ä¹ å§ã€‚</p>
<p><strong>ä¸€ã€å…ˆè¯´<code>weak</code>ï¼Œ&lt;å¼±å¼•ç”¨&gt;</strong></p>
<p>æˆ‘ä»¬çŸ¥é“<code>weak</code>çš„ä½¿ç”¨ï¼Œæ¯”å¦‚å£°æ˜ä¸€ä¸ªæ§ä»¶å±æ€§ï¼Œå°±ä¼šç”¨åˆ°<code>weak</code>ã€‚</p>
<p>çœ‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@property(nonatomic,weak)UILabel *label;</div></pre></td></tr></table></figure>
<p>å½“ç„¶è¿™å¹¶ä¸æ˜¯è¯´å£°æ˜æ§ä»¶å°±ä¸€å®šä½¿ç”¨<code>weak</code>ï¼Œç›¸åçš„æˆ‘åœ¨æ‰‹åŠ¨åˆ›å»ºæ§ä»¶æ˜¯å¤§å¤šæ•°ä¼šä½¿ç”¨<code>strong</code>ã€‚ä½†å¦‚æœä½ æ¯”è¾ƒç»†å¿ƒçš„è¯ï¼Œä½ ä¼šå‘ç°æˆ‘ä»¬ä½¿ç”¨xibæ—¶ï¼Œä½¿ç”¨çš„å´æ˜¯<code>weak</code>è¿™ä¸€å±æ€§ã€‚é‚£é—®é¢˜æ¥äº†ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>strong</code> å’Œ <code>weak</code> çš„æ—¶æœºæ˜¯ä½•æ—¶å‘¢ï¼Ÿå’±ä»¬æ¥ç€å¾€ä¸‹çœ‹ã€‚<br>ä»<code>storyboard</code> æˆ–è€… <code>xib</code>ä¸Šåˆ›å»ºæ§ä»¶ </p>
<p>åœ¨æ§ä»¶æ”¾åœ¨view<code>ä¸Šçš„æ—¶å€™ï¼Œå·²ç»å½¢æˆäº†å¦‚ä¸‹çš„å¼•ç”¨å…³ç³»,ä»¥<code>UILabel</code>ä¸ºä¾‹ï¼š<code>UIViewController-&gt;UIView-&gt;subView-&gt; UILabel</code> ï¼Œç„¶åä½ ä¸ºè¿™ä¸ª<code>UILabel</code>å£°æ˜ä¸€ä¸ª<code>weak</code>å±æ€§ã€‚</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@property(nonatomic,weak) IBOOutlet UILabel * label;</div></pre></td></tr></table></figure>
<p>ç›¸å½“äº<code>xib</code>å¯¹è¿™ä¸ª<code>label</code>æ˜¯å¼ºå¼•ç”¨ï¼Œä½ å£°æ˜çš„å±æ€§å¯¹å®ƒæ˜¯å¼±å¼•ç”¨ã€‚<br>æ‰‹åŠ¨åˆ›å»ºæ§ä»¶ </p>
<ul>
<li><strong>a). å°†æ§ä»¶å£°æ˜æˆ<code>strong</code></strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@property(nonatomic,strong) UIlabel * label;</div></pre></td></tr></table></figure>
<p>é‚£ä¹ˆä½ åœ¨å®ç°è¿™ä¸ªæ§ä»¶æ—¶åªéœ€è¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">_label = [[UIlabel alloc]init];</div><div class="line">[self.view addSubview:_label];</div></pre></td></tr></table></figure>
<ul>
<li><strong>b). å°†æ§ä»¶å£°æ˜æˆweak</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@property(nonatomic,weak) UIlabel * label;</div></pre></td></tr></table></figure>
<p>é‚£ä¹ˆä½ åœ¨å®ç°è¿™ä¸ªæ§ä»¶æ—¶éœ€è¦è¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">UIlabel *label = [[UIlabel alloc]init];</div><div class="line">_label = label;</div><div class="line">[self.view addSubview:_btn];</div></pre></td></tr></table></figure>
<p>å…³äº<code>block</code>å¾ªç¯å¼•ç”¨çš„é—®é¢˜</p>
<p>ç”±äº<code>block</code>ä¼šå¤åˆ¶å¤–éƒ¨çš„å˜é‡ï¼Œæ‰€ä»¥å¦‚æœä¸æ³¨æ„ï¼Œå°±ä¼šé€ æˆå¾ªç¯å¼•ç”¨ã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œéœ€è¦å°†å¼•ç”¨çš„ä¸€æ–¹å˜æˆ<code>weak</code>ï¼Œä»è€Œé¿å…å¾ªç¯å¼•ç”¨ã€‚</p>
<p>çœ‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">BlocksViewController *blockVC  = [[BlocksViewController alloc]init];</div><div class="line">__weak ViewController *weekSelf = self;</div><div class="line">/**</div><div class="line">*  1ã€ä½¿ç”¨å¼±å¼•ç”¨æ¥è§£å†³blockå¾ªç¯å¼•ç”¨é—®é¢˜</div><div class="line">*</div><div class="line">*  2ã€blockèƒ½æˆªå–è‡ªåŠ¨å˜é‡ï¼Œå¹¶ä¸”æ˜¯ä¸èƒ½åœ¨blockå—ä¸­è¿›è¡Œä¿®æ”¹çš„ï¼ˆé™¤éç”¨ __blockä¿®é¥°ç¬¦ï¼‰è¿™é‡Œçš„ weekSelf.textField.text çš„å€¼æ˜¯è¢«ä¿®æ”¹äº†ï¼Œå¹¶ä¸”æ²¡æœ‰ä½¿ç”¨ __blockä¿®é¥°ç¬¦ã€‚åŸå› æ˜¯å› ä¸ºtextFieldæ˜¯å…¨å±€å˜é‡ï¼Œå¦‚æœå®šä¹‰ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œæ¯”å¦‚ï¼šå®šä¹‰ä¸ª â€œtextâ€æ˜¯ä¸èƒ½è¢«ä¿®æ”¹çš„ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼Œ</div><div class="line">*/</div><div class="line">//blockå›è°ƒä¼ å€¼</div><div class="line">[blockVC returnValue:^(NSString *content) &#123;</div><div class="line">weekSelf.textField.text = content;</div><div class="line">// text = content;//è¿™é‡Œä¼šæç¤ºé”™å¤±__block;</div><div class="line">&#125;];</div></pre></td></tr></table></figure>
<p><strong>äºŒã€<code>strong</code>å’Œ<code>weak</code>çš„åŒºåˆ«</strong></p>
<ul>
<li><p><strong>strong</strong>ï¼šå¼ºå¼•ç”¨ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬é€šå¸¸è¯´çš„å¼•ç”¨ï¼Œå…¶å­˜äº¡ç›´æ¥å†³å®šäº†æ‰€æŒ‡å‘å¯¹è±¡çš„å­˜äº¡ã€‚å¦‚æœä¸å­˜åœ¨æŒ‡å‘ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶ä¸”æ­¤å¯¹è±¡ä¸å†æ˜¾ç¤ºåœ¨åˆ—è¡¨ä¸­ï¼Œåˆ™æ­¤å¯¹è±¡ä¼šè¢«ä»å†…å­˜ä¸­é‡Šæ”¾ã€‚</p>
</li>
<li><p><strong>weak</strong>ï¼šå¼±å¼•ç”¨ï¼Œä¸å†³å®šå¯¹è±¡çš„å­˜äº¡ã€‚å³ä½¿ä¸€ä¸ªå¯¹è±¡è¢«æŒæœ‰æ— æ•°ä¸ªå¼±å¼•ç”¨ï¼Œåªè¦æ²¡æœ‰å¼ºå¼•ç”¨æŒ‡å‘å®ƒï¼Œé‚£ä¹ˆè¿˜æ˜¯ä¼šè¢«æ¸…é™¤ã€‚</p>
</li>
<li><p><strong>strong</strong>å’Œ<strong>copy</strong>æ˜¯ç”¨æ¥ä¿®é¥°å¼ºå¼•ç”¨çš„å±æ€§ï¼Œweak ç”¨æ¥ä¿®é¥°å¼±å¼•ç”¨çš„å±æ€§ï¼›</p>
</li>
<li><p><strong>strong</strong>ã€<strong>weak</strong> éœ€è¦ARCæ”¯æŒæ‰èƒ½ä½¿ç”¨ï¼Œ<strong>copy</strong>ä¸éœ€è¦ARCæ”¯æŒ</p>
</li>
<li><p><strong>strong</strong>ä¸<strong>retain</strong>åŠŸèƒ½ç›¸ä¼¼ï¼›<strong>weak</strong>ä¸<strong>assign</strong>ç›¸ä¼¼ï¼Œåªæ˜¯å½“å¯¹è±¡æ¶ˆå¤±åweakä¼šè‡ªåŠ¨æŠŠæŒ‡é’ˆå˜ä¸ºnil;</p>
</li>
</ul>
<p><strong>ä¸‰ã€å…³äº<code>__block</code></strong></p>
<p>å…ˆçœ‹ä¸€æ®µä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">@autoreleasepool &#123;</div><div class="line">__block NSInteger value = 0;</div><div class="line">void (^block)(void) = ^&#123;</div><div class="line">value = 1;</div><div class="line">&#125;;</div><div class="line">block();</div><div class="line">NSLog(@&quot;val = %ld&quot;, value);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬ç°åœ¨çœ‹ç€å¯èƒ½å¾—ä¸å‡ºä»€ä¹ˆç»“è®ºï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬å†çœ‹ä¸‹é¢çš„ä»£ç ï¼Œä¸ºäº†ç›´è§‚ï¼Œæˆ‘ä»¥å›¾ç‰‡çš„å½¢å¼å‘ˆç°ï¼š</p>
<p><img src="http://obzx0h1re.bkt.clouddn.com/__blocktest.png" alt="block_picture1"></p>
<p><img src="http://obzx0h1re.bkt.clouddn.com/__blocktest1.png" alt="block_picture2"></p>
<p>ç°åœ¨å¯¹æ¯”å°±æ˜æ˜¾äº†ã€‚</p>
<p>ä¸‹é¢æ€»ç»“ä¸€ä¸‹ï¼š</p>
<ol>
<li><p>a) <code>__block</code>å¯¹è±¡åœ¨<code>block</code>ä¸­æ˜¯å¯ä»¥è¢«ä¿®æ”¹ã€é‡æ–°èµ‹å€¼çš„ã€‚</p>
</li>
<li><p>b)<code>__block</code>å¯¹è±¡åœ¨<code>block</code>ä¸­ä¸ä¼šè¢«<code>block</code>å¼ºå¼•ç”¨ä¸€æ¬¡ï¼Œä»è€Œä¸ä¼šå‡ºç°å¾ªç¯å¼•ç”¨é—®é¢˜ã€‚</p>
</li>
<li><p>c) <code>block</code>å¯ä»¥è®¿é—®å±€éƒ¨å˜é‡ï¼Œä½†æ˜¯ä¸èƒ½ä¿®æ”¹ã€‚å¦‚æœä¿®æ”¹å±€éƒ¨å˜é‡ï¼Œéœ€è¦åŠ <code>__block</code> ,æ‰€ä»¥<code>__block</code>æ˜¯è®©ä¿®æ”¹å¤–éƒ¨å˜é‡çš„å€¼.</p>
</li>
</ol>
<p>å¯¹äº block å¤–çš„å˜é‡å¼•ç”¨ï¼Œ<code>block</code> é»˜è®¤æ˜¯å°†å…¶å¤åˆ¶åˆ°å…¶æ•°æ®ç»“æ„ä¸­æ¥å®ç°è®¿é—®çš„</p>
<p><img src="http://obzx0h1re.bkt.clouddn.com/const-non-local-variables.png" alt="const-non-local-variables"></p>
<p>å¯¹äºç”¨ <code>__block</code> ä¿®é¥°çš„å¤–éƒ¨å˜é‡å¼•ç”¨ï¼Œ<code>block</code> æ˜¯å¤åˆ¶å…¶å¼•ç”¨åœ°å€æ¥å®ç°è®¿é—®çš„</p>
<p><img src="http://obzx0h1re.bkt.clouddn.com/mutable-non-local-variables.png" alt="mutable-non-local-variables"></p>
<p><strong>å››ã€<strong>block å’Œ </strong>weakä¿®é¥°ç¬¦çš„åŒºåˆ«</strong></p>
<ol>
<li><p><code>__block</code>ä¸ç®¡æ˜¯ARCè¿˜æ˜¯MRCæ¨¡å¼ä¸‹éƒ½å¯ä»¥ä½¿ç”¨ï¼Œå¯ä»¥ä¿®é¥°å¯¹è±¡ï¼Œè¿˜å¯ä»¥ä¿®é¥°åŸºæœ¬æ•°æ®ç±»å‹ã€‚</p>
</li>
<li><p><code>__weak</code>åªèƒ½åœ¨ARCæ¨¡å¼ä¸‹ä½¿ç”¨ï¼Œä¹Ÿåªèƒ½ä¿®é¥°å¯¹è±¡<code>ï¼ˆNSStringï¼‰</code>ï¼Œä¸èƒ½ä¿®é¥°åŸºæœ¬æ•°æ®ç±»å‹<code>ï¼ˆintï¼‰</code>ã€‚</p>
</li>
<li><p><code>__block</code>å¯¹è±¡å¯ä»¥åœ¨<code>block</code>ä¸­è¢«é‡æ–°èµ‹å€¼ï¼Œ<code>__weak</code>ä¸å¯ä»¥ã€‚</p>
</li>
</ol>
<hr>
<p> <strong>é“¾æ¥ï¼š</strong></p>
<p><a href="http://blog.devtang.com/2013/07/28/a-look-inside-blocks/" target="_blank" rel="external">è°ˆObjective-C blockçš„å®ç°</a></p>
<p><a href="http://rypress.com/tutorials/objective-c/blocks" target="_blank" rel="external">Blocks are Objective-C`s</a></p>
<p><a href="http://www.cnblogs.com/luoxiaofu/p/5445327.html" target="_blank" rel="external">iOSå¼€å‘-ç”±æµ…è‡³æ·±å­¦ä¹ block</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœç„¶è¿˜æ˜¯å¯¹æœ€åŸºç¡€çš„çŸ¥è¯†äº†è§£ä¸é€å½»ï¼Œä»Šå¤©çœ‹ä¸€çœ‹iOSä¸­çš„ä¸¤ä¸ªä¿®é¥°ç¬¦ï¼š&lt;code&gt;__block&lt;/code&gt;å’Œ&lt;code&gt;__weak&lt;/code&gt; ã€‚ä¹Ÿæ˜¯åšä¸€ä¸‹æ¸©ä¹ å§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸€ã€å…ˆè¯´&lt;code&gt;weak&lt;/code&gt;ï¼Œ&amp;lt;å¼±å¼•ç”¨&amp;gt;&lt;/st
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>iOSæ¨¡ç³Šæ•ˆæœ(æ¯›ç»ç’ƒæ•ˆæœ)çš„å®ç°</title>
    <link href="https:guohuaden.com/2016/09/23/BlurEffect/"/>
    <id>https:guohuaden.com/2016/09/23/BlurEffect/</id>
    <published>2016-09-23T02:42:42.000Z</published>
    <updated>2017-03-10T06:57:24.000Z</updated>
    
    <content type="html"><![CDATA[<p>ã€€å‰ä¸€æ®µæ—¶é—´é¡¹ç›®ä¸­ç”¨åˆ°æ¯›ç»ç’ƒæ•ˆæœï¼Œé‚£æ—¶å¯¹<code>UIBlurEffect</code>ç±»å’Œ <code>UIVisualEffectView</code>è¿™ä¸¤ä¸ªç±»åšäº†ä¸€éƒ¨åˆ†äº†è§£ã€‚ä½†å½“æ—¶å¹¶æ²¡æœ‰å»ç‰¹åˆ«çš„æ·±å…¥ç ”ç©¶ï¼Œç›´åˆ°é¡¹ç›®åšå®Œåï¼Œæ‰é™ä¸‹å¿ƒæ¥å¥½å¥½ç ”ç©¶äº†ä¸€ç•ªã€‚è®°å½•ä¸€ä¸‹ã€‚</p>
<p>ã€€ã€€iOS8ä¹‹åï¼ŒAppleæ–°æ·»åŠ <code>UIBlurEffect</code>ç±»ã€<code>UIVibrancyEffect</code>ç±» å’Œ <code>UIVisualEffectView</code>ç±»è¿™ä¸‰ç§ç±»ï¼Œç”¨é€”å°±æ˜¯å¯¹èƒŒæ™¯è‰²è¿›è¡Œæ¨¡ç³ŠåŒ–ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ç§°çš„ â€œæ¯›ç»ç’ƒæ•ˆæœâ€ã€‚æ¥ä¸‹æ¥å°±å¯¹å…·ä½“çš„ä½¿ç”¨åšä¸€ä¸‹åˆ†æå§ã€‚</p>
<p>ã€€ã€€å…¶å®ç»†çœ‹ä¸‹æ¥ï¼ŒAppleå¯¹è¿™ç§ç‰¹æ•ˆå°è£…çš„å¾ˆå¥½ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨èµ·æ¥çš„å¹¶ä¸éœ€è¦ä»€ä¹ˆæ­¥éª¤ã€‚ä¸å¾—ä¸ä½©æœAppleçš„å¼ºå¤§å•Šã€‚</p>
<p>1ã€å…³äº<code>UIBlurEffect</code>ç±»</p>
<p>æˆ‘ä»¬é¦–å…ˆçœ‹UIBlurEffectç±»ï¼ŒAppleæ–‡æ¡£ä¸­åªç»™å‡ºäº†ä¸€ä¸ªæ–¹æ³•ï¼š</p>
<p>`</p>
<ul>
<li>(UIBlurEffect *)effectWithStyle:(UIBlurEffectStyle)style;<br>`<br>æˆ‘ä»¬å®ç°ä¹Ÿæ˜¯è¿™æ ·ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> *   æ¨¡ç³Šæ•ˆæœçš„ä¸‰ç§é£æ ¼</div><div class="line"> *</div><div class="line"> *  @param UIBlurEffectStyle</div><div class="line">   UIBlurEffectStyleExtraLight,//é¢å¤–äº®åº¦ï¼Œï¼ˆé«˜äº®é£æ ¼ï¼‰</div><div class="line">   UIBlurEffectStyleLight,//äº®é£æ ¼</div><div class="line">   UIBlurEffectStyleDark//æš—é£æ ¼</div><div class="line"> *</div><div class="line"> */</div><div class="line">//å®ç°æ¨¡ç³Šæ•ˆæœ</div><div class="line">UIBlurEffect *blurEffrct =[UIBlurEffect effectWithStyle:UIBlurEffectStyleLight];</div></pre></td></tr></table></figure>
<p> 2ã€å…³äº<code>UIVibrancyEffect</code>ç±»</p>
<p>æ–‡æ¡£ä¸­ç»™å‡ºçš„ä¹Ÿæ˜¯ä¸€ä¸ªæ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">+ (UIVibrancyEffect *)effectForBlurEffect:(UIBlurEffect *)blurEffect;</div></pre></td></tr></table></figure>
<p>å®˜æ–¹ç»™å‡ºçš„è§£é‡Šæ˜¯è¿™æ ·çš„</p>
<p><pre><br>UIVibrancyEffect amplifies and adjusts the color of content layered behind the view, allowing content placed inside the contentView to become more vivid.</pre></p>
<p>It is intended to be placed over, or as a subview of, a UIVisualEffectView that has been configured with a UIBlurEffect.</p>
<p>This effect only affects content added to the contentView. Because the vibrancy effect is color dependent, subviews added to the contentView need to be tintColorDidChange aware and must be prepared to update themselves accordingly. </p>
<p>UIImageView will need its image to have a rendering mode of UIImageRenderingModeAlwaysTemplate to receive the proper effect.</p>
<p><br>ç¿»è¯‘å¦‚ä¸‹ï¼š</p>
<p><code>UIVibrancyEffect</code>çš„ä½œç”¨æ˜¯æ”¾å¤§å’Œè°ƒæ•´<code>UIVisualEffectView</code>å†…å®¹è§†å›¾çš„å†…å®¹çš„é¢œè‰²,è®©<code>UIVisualEffectView</code>çš„<code>contentView</code>ä¸­çš„å†…å®¹çœ‹èµ·æ¥æ›´åŠ ç”ŸåŠ¨ã€‚å®ƒä½œä¸ºä¸€ä¸ªå­è§†å›¾è¢«æ”¾ç½®åœ¨<code>UIVisualEffectView</code>ä¸Šé¢ï¼Œå»è¿æ¥<code>UIBlurEffect</code>ã€‚è¿™ç§æ•ˆæœåªä¼šå½±å“æ·»åŠ åˆ°<code>UIVisualEffectView</code>çš„<code>contentView</code>ä¸Šçš„å†…å®¹ã€‚å› ä¸ºæ´»åŠ›å½±å“æ˜¯å—é¢œè‰²ä¾èµ–çš„â€¦..</p>
<p><font color="#FF8000"><strong>æˆ‘ä»¬å¯ä»¥çœ‹å‡º</strong></font>ï¼šé€šå¸¸<code>UIVibrancyEffect</code>å¯¹è±¡æ˜¯ä¸<code>UIBlurEffect</code>ä¸€èµ·ä½¿ç”¨ï¼Œä¸»è¦ç”¨äºå¤„ç†åœ¨<code>UIBlurEffect</code>ç‰¹æ•ˆä¸Šçš„ä¸€äº›æ˜¾ç¤ºæ•ˆæœã€‚</p>
<p>ä¸‹é¢çœ‹çœ‹å®ç°ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">//å®ç°æ¨¡ç³Šæ•ˆæœ</div><div class="line">UIBlurEffect *blurEffrct =[UIBlurEffect effectWithStyle:UIBlurEffectStyleLight];   </div><div class="line">UIVibrancyEffect *vibrancyEffect = [UIVibrancyEffect effectForBlurEffect:blurEffrct];  </div><div class="line">UIVisualEffectView *visualEffectView = [[UIVisualEffectView alloc]initWithEffect:vibrancyEffect];</div><div class="line">// visualEffectView.backgroundColor = [ UIColor grayColor ];</div><div class="line">visualEffectView.contentView.frame = CGRectMake(10, 100, 300, 500);</div><div class="line">[self.view addSubview:visualEffectView];</div></pre></td></tr></table></figure>
<p>ä¸‹é¢æˆ‘ä»¬å¾€ <figure class="highlight plain"><figcaption><span>çš„`contentView`ä¸Šæ·»åŠ ä¸ª`view`çœ‹çœ‹æ•ˆæœ</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure></p>
<p>UILabel *label = [[UILabel alloc]initWithFrame:CGRectMake(10, 300, 280, 90)];<br>label.text = @â€æ›¾ç»æ’’æ¬¡è€ƒè¯•äº†hhhhhhhhhhhhhhhâ€;<br>label.textAlignment = NSTextAlignmentLeft;<br>label.font = [UIFont systemFontOfSize:30];<br>label.tintColor = [UIColor yellowColor];<br>label.numberOfLines = 0;<br>[visualEffectView.contentView addSubview:label];<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"> </div><div class="line"></div><div class="line">ä¸Šé¢ä»£ç ä¸­å¯ä»¥çœ‹åˆ°ï¼Œ æˆ‘æ”¹å˜`Label`ä¸­`text`çš„é¢œè‰²æ˜¯ä½¿ç”¨çš„ï¼š`tintColor` ï¼Œè¿™ä¹Ÿæ˜¯ç‰¹åˆ«è¦æ³¨æ„çš„åœ°æ–¹ï¼Œæ–‡æ¡£ä¸­ä¹Ÿæœ‰ä¸“é—¨æå‡ºï¼Œå¹¶ç»™å‡ºäº†è§£é‡Šï¼š</div><div class="line">`Because the vibrancy effect is color dependent, subviews added to the contentView need to be tintColorDidChange aware and must be prepared to update themselves accordingly`</div><div class="line">æ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨ `label.textColor`å»æ”¹å˜é¢œè‰²æ˜¯å®Œå…¨ä¸èµ·ä½œç”¨çš„ã€‚</div><div class="line"></div><div class="line">è¿è¡Œæ•ˆæœå›¾å¦‚ä¸‹ï¼š(åªå‰ªåˆ‡å‡ºæ•ˆæœéƒ¨åˆ†)</div><div class="line">![VisualEffect](http://obzx0h1re.bkt.clouddn.com/VisualEffect.png)</div><div class="line">è‡³äºé¢œè‰²ä¸æ˜¯è®¾ç½®çš„`yellowColor`ï¼Œæˆ‘æƒ³ä¸éœ€è¦å¤šè¯´äº†å§ï¼Œè¿™å°±æ˜¯`UIVibrancyEffect`çš„åŠŸèƒ½ã€‚</div><div class="line"></div><div class="line">**ä¸‰ã€`UIVisualEffectView`ç±»**</div><div class="line"></div><div class="line">è€è§„çŸ©å…ˆçœ‹æ–‡æ¡£ï¼šä¹Ÿæ˜¯å¯¥å¯¥çš„å››ç§ï¼Œå…¶ä¸­å€¼å¾—ä¸€æçš„æ˜¯ï¼š`contentView`ã€‚è¿™é‡Œæ˜ç¡®å‘Šè¯‰æˆ‘ä»¬ï¼šä¸è¦ç›´æ¥æ·»åŠ å­è§†å›¾å»`UIVisualEffectView`ï¼Œè€Œæ˜¯è¦æ·»åŠ åˆ°`contentView`ä¸Šã€‚</div></pre></td></tr></table></figure></p>
<p>@property (nonatomic, strong, readonly) UIView <em>contentView; // Do not add subviews directly to UIVisualEffectView, use this view instead.<br>@property (nonatomic, copy, nullable) UIVisualEffect </em>effect;</p>
<ul>
<li>(instancetype)initWithEffect:(nullable UIVisualEffect *)effect NS_DESIGNATED_INITIALIZER;</li>
<li>(nullable instancetype)initWithCoder:(NSCoder *)aDecoder NS_DESIGNATED_INITIALIZER;<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"> </div><div class="line">è¿™é‡Œæˆ‘å°±ç»™å‡ºä¸€ä¸ªæ¯”è¾ƒå®Œæ•´çš„ä»£ç ï¼ˆæˆ‘ä»¬çœ‹ä¸€çœ‹`UIBlurEffect`ç±» å’Œ `UIVisualEffectView`ç±» çš„æ•ˆæœï¼‰ï¼š</div></pre></td></tr></table></figure>
</li>
</ul>
<p>self.view.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@â€6.jpgâ€]];<br>/**</p>
<ul>
<li>æ¨¡ç³Šæ•ˆæœçš„ä¸‰ç§é£æ ¼<br>*</li>
<li>@param UIBlurEffectStyle<br>UIBlurEffectStyleExtraLight,//é¢å¤–äº®åº¦ï¼Œï¼ˆé«˜äº®é£æ ¼ï¼‰<br>UIBlurEffectStyleLight,//äº®é£æ ¼<br>UIBlurEffectStyleDark//æš—é£æ ¼<br><em>
</em>/<br>//å®ç°æ¨¡ç³Šæ•ˆæœ<br>UIBlurEffect <em>blurEffrct =[UIBlurEffect effectWithStyle:UIBlurEffectStyleLight];<br>//æ¯›ç»ç’ƒè§†å›¾<br>UIVisualEffectView </em>visualEffectView = [[UIVisualEffectView alloc]initWithEffect:blurEffrct];<br>visualEffectView.frame = CGRectMake(60, 100, 300, 500);<br>visualEffectView.alpha = 0.9;<br>[self.view addSubview:visualEffectView];<br>```</li>
</ul>
<p>çœ‹çœ‹æ•ˆæœå›¾æ˜¯ä¸æ˜¯ä½ æƒ³è¦çš„ï¼š<br><img src="http://obzx0h1re.bkt.clouddn.com/BlurEffect.png" alt="BlurEffect"><br>å…³äºiOS8ä¹‹å‰çš„å®ç°ï¼Œå¯ä»¥å»githubä¸Šçœ‹çœ‹ä¸€äº›å°è£…åº“ã€‚æœ‰å¾ˆå¤šä¸é”™çš„ä¸‰æ–¹åº“ä¸é”™ï¼Œè¿™é‡Œå°±ä¸åˆ—å‡ºäº†ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€€å‰ä¸€æ®µæ—¶é—´é¡¹ç›®ä¸­ç”¨åˆ°æ¯›ç»ç’ƒæ•ˆæœï¼Œé‚£æ—¶å¯¹&lt;code&gt;UIBlurEffect&lt;/code&gt;ç±»å’Œ &lt;code&gt;UIVisualEffectView&lt;/code&gt;è¿™ä¸¤ä¸ªç±»åšäº†ä¸€éƒ¨åˆ†äº†è§£ã€‚ä½†å½“æ—¶å¹¶æ²¡æœ‰å»ç‰¹åˆ«çš„æ·±å…¥ç ”ç©¶ï¼Œç›´åˆ°é¡¹ç›®åšå®Œåï¼Œæ‰é™ä¸‹å¿ƒæ¥å¥½å¥½ç ”ç©¶äº†ä¸€ç•ªã€‚è®°å½•ä¸€ä¸‹ã€‚&lt;/p&gt;

    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>iOSä¹‹é¡¹ç›®æ€»ç»“ï¼ï¼šé¡¹ç›®ä¸­é‡åˆ°çš„å„ç§çš„é—®é¢˜å’Œè§£å†³æ–¹æ³•</title>
    <link href="https:guohuaden.com/2016/08/16/project-summary-one/"/>
    <id>https:guohuaden.com/2016/08/16/project-summary-one/</id>
    <published>2016-08-16T10:28:00.000Z</published>
    <updated>2017-01-14T18:00:46.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€ï¼š"><a href="#å‰è¨€ï¼š" class="headerlink" title="å‰è¨€ï¼š"></a>å‰è¨€ï¼š</h3><p> ä¸€åˆ°å…¬å¸æŠ¥é“é‚£æ—¶ï¼Œä¾¿ç€æ‰‹ç‹¬ç«‹çš„å»å®Œæˆäº†ä¸€ä¸ªé¡¹ç›®ï¼Œå…¶ä¸­çš„è¾›é…¸æ³ªä¹Ÿæ˜¯ä¸è¶³ä¸ºå¤–äººé“ä¹Ÿã€‚è¿™æ¬¡ç®—æ˜¯ä¸€ä¸ªæ–°å‹çš„appï¼Œä»ç„¶æ˜¯ç‹¬ç«‹å¼€å‘ï¼Œä½†å¿ƒå¢ƒå’Œæƒ³æ³•å´æ˜¯å®Œå…¨çš„ä¸åŒã€‚ä¸‹é¢è¯´ä¸€æ¬¡ä»¥å‰åšå¼€å‘æ—¶å¸¸å¸¸å¿½ç•¥çš„çŸ¥è¯†ï¼Œä¹Ÿç®—æ˜¯ä¸€ç§å¤ä¹ äº†å§ã€‚ä¸‹é¢è¨€å½’æ­£ä¼ ï¼š</p>
<h3 id="1ã€è‡ªå¸¦é”®ç›˜çš„nextç”¨æ³•"><a href="#1ã€è‡ªå¸¦é”®ç›˜çš„nextç”¨æ³•" class="headerlink" title="1ã€è‡ªå¸¦é”®ç›˜çš„nextç”¨æ³•"></a>1ã€è‡ªå¸¦é”®ç›˜çš„nextç”¨æ³•</h3><p>è¿™ç®—æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„äº†å§ï¼Œåªè¦æˆ‘ä»¬æƒ³åˆ°ç™»å½•å’Œæ³¨å†Œç•Œé¢ï¼Œå°±åº”è¯¥è‡ªç„¶è€Œç„¶çš„æƒ³åˆ° - é”®ç›˜çš„nextç”¨æ³•ï¼ˆå½“ç„¶ä¸æ’é™¤ç›¸å½“å¤šçš„è½¯ä»¶å¹¶æ²¡æœ‰å®ç°è¿™ä¸ªåŠŸèƒ½ï¼‰ã€‚</p>
<p>æƒ³æ³•ä¹Ÿå°±æ˜¯ï¼šç”¨æˆ·åœ¨è¾“å…¥ç”¨æˆ·ååï¼Œç‚¹å‡»nextè·³è½¬åˆ°ä¸‹ä¸€ä¸ªè¾“å…¥æ¡†ã€‚å…¶å®ä¹Ÿä¸ç”¨æƒ³çš„å¦‚æ­¤å¤æ‚ï¼Œåœ¨ç™»å½•ç•Œé¢ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥ç”¨ä¸€ä¸ª if è¯­å¥åšåˆ¤æ–­ï¼Œå»å®ç°é”®ç›˜çš„å“åº”å’Œæ³¨é”€å“åº”ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š <pre>- (BOOL)textFieldShouldReturn:(UITextField <em> )textField {<br>  UITextField </em> passTextFiled = (UITextField *)[self.view viewWithTag:201];<br>  if (textField.tag == 200) {<br>          [passTextFiled becomeFirstResponder];<br>   }else{<br>           [passTextFiled resignFirstResponder];<br>    }<br>   return YES;<br>}</pre></p>
<p>è¿™æ ·å°±ç®€å•çš„åœ¨å˜æˆå“åº”å’Œæ³¨é”€å“åº”ä¹‹é—´å®ç°äº†è¾“å…¥æ¡†çš„åˆ‡æ¢ã€‚</p>
<p>ä½†è¿˜æ˜¯å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæˆ‘å®ç°æ³¨å†Œç•Œé¢çš„è·³è½¬è¾“å…¥æ¡†ï¼Œå¹¶ä¸”åœ¨è¾“å…¥æ¡†å¾ˆå¤šçš„æƒ…å†µä¸‹ï¼Œæ˜¾ç„¶å¦‚æœæˆ‘ä»æ˜¯è¿™æ ·åˆ¤æ–­ï¼Œä¼šæ˜¾å¾—å•°å—¦å’Œå†—ä½™ã€‚</p>
<p>æˆ‘æ›¾æƒ³è¿‡ä½¿ç”¨è®¡æ•°çš„æ–¹å¼ï¼Œè®°å½•æ¯ä¸€æ¬¡çš„ç‚¹å‡»nextåçš„tagï¼Œä½†å®è·µä¸­å¤±è´¥äº†ï¼Œå› ä¸ºå½“æˆ‘ä¸é€šè¿‡nextè€Œæ˜¯ç›´æ¥ç”¨æ‰‹å»è§¦æ‘¸é€‰æ‹©è¾“å…¥æ¡†æ—¶ï¼Œåˆ™æ— æ³•è®¡æ•°ã€‚</p>
<p> è¿™é‡Œå…ˆç•™ä¸ªç©ºç™½ï¼Œç­‰æŠŠæ‰‹é‡Œçš„é¡¹ç›®å®Œæˆæ—¶å†ç ”ç©¶è¿™ä¸ªé—®é¢˜</p>
<h3 id="2ã€UITextFieldçš„çº é”™å’Œé¦–å­—æ¯å¤§å°å†™é—®é¢˜"><a href="#2ã€UITextFieldçš„çº é”™å’Œé¦–å­—æ¯å¤§å°å†™é—®é¢˜" class="headerlink" title="2ã€UITextFieldçš„çº é”™å’Œé¦–å­—æ¯å¤§å°å†™é—®é¢˜"></a>2ã€UITextFieldçš„çº é”™å’Œé¦–å­—æ¯å¤§å°å†™é—®é¢˜</h3><p>è¿™ä¸ªé—®é¢˜åªæ˜¯ç®€å•çš„å±æ€§é—®é¢˜ï¼Œåœ¨å¼€å‘æ—¶å¦‚æœå¿˜è®°ï¼Œå»ºè®®å¤šç‚¹è¿›å»çœ‹çœ‹ï¼Œï¼ˆå¦‚ï¼šcommand + UITextFieldï¼‰   </p>
<pre>
 //è¾“å…¥æ¡†ä¸­æ˜¯å¦æœ‰ä¸ªå‰å·ï¼Œåœ¨ä»€ä¹ˆæ—¶å€™æ˜¾ç¤ºï¼Œç”¨äºä¸€æ¬¡æ€§åˆ é™¤è¾“å…¥æ¡†ä¸­çš„å†…å®¹    
self.clearButtonMode = UITextFieldViewModeWhileEditing;    
//æ˜¯å¦çº é”™,æœ¬äººæ„Ÿè§‰çº é”™æ˜¯ä¸€ä¸ªå¾ˆåæ„Ÿçš„ä¸œè¥¿ï¼Œä½†UITextFieldé»˜è®¤æ˜¯ YES,è¿™é‡Œæˆ‘æ”¹æˆäº†NO      
self.autocorrectionType = UITextAutocorrectionTypeNo;       
 //å†æ¬¡ç¼–è¾‘å°±æ¸…ç©º      
self.clearsOnBeginEditing = YES;       
//è®¾ç½®è‡ªåŠ¨ç¼©å°æ˜¾ç¤ºçš„æœ€å°å­—ä½“å¤§å°      
self.minimumFontSize = 15;        
//è®¾ç½®é”®ç›˜çš„æ ·å¼ï¼Œæœ¬äººæ„Ÿè§‰è¿™ä¸ªè®¾ç½®å¯¹ç”¨æˆ·ä½“éªŒæœ‰å½±å“ã€‚æ¯”å¦‚è¯´æˆ‘æƒ³æ‰“ç”µè¯ï¼ŒTypeä¸ºUIKeyboardTypeNumberPad,è€Œä¸æ˜¯å…¶ä»–     
self.keyboardType = UIKeyboardTypeNamePhonePad;</pre>

<h3 id="3ã€iOSä¸­å›¾ç‰‡çš„å‡ ç§æ‹‰ä¼¸æ–¹æ³•çš„ä½¿ç”¨"><a href="#3ã€iOSä¸­å›¾ç‰‡çš„å‡ ç§æ‹‰ä¼¸æ–¹æ³•çš„ä½¿ç”¨" class="headerlink" title="3ã€iOSä¸­å›¾ç‰‡çš„å‡ ç§æ‹‰ä¼¸æ–¹æ³•çš„ä½¿ç”¨"></a>3ã€iOSä¸­å›¾ç‰‡çš„å‡ ç§æ‹‰ä¼¸æ–¹æ³•çš„ä½¿ç”¨</h3><p>ä»¥ä¸‹æ˜¯Apple SDKç»™å‡ºçš„3ç§æ–¹æ³•:</p>
<pre>UIImage *image = [UIImage imageNamed:@"picture"];        
//iOS5ä¹‹å‰     
// å·¦ç«¯ç›–å®½åº¦        
NSInteger leftCapWidth = image.size.width * 0.5f;       
NSInteger topCapHeight = image.size.height * 0.8f;        

image = [image stretchableImageWithLeftCapWidth:leftCapWidth topCapHeight:topCapHeight];        

//iOS5ä¹‹å       
UIEdgeInsets insets = UIEdgeInsetsMake(image.size.height * 0.8f,image.size.width * 0.5f, 40, 40);       

image = [image resizableImageWithCapInsets:insets];      
//iOS6ä¹‹å        
UIEdgeInsets insets = UIEdgeInsetsMake(image.size.height * 0.8f,image.size.width * 0.5f, 40, 40);       
image = [image resizableImageWithCapInsets:insets resizingMode:UIImageResizingModeStretch]; </pre>  

<p>ä¸‹é¢æ˜¯ä½¿ç”¨çš„è§£é‡Šï¼š<br><img src="http://obzx0h1re.bkt.clouddn.com/pictureStretch.png" alt="pictureStretch"></p>
<pre>
/**   
 *  - (UIImage *)stretchableImageWithLeftCapWidth:(NSInteger)leftCapWidth topCapHeight:(NSInteger)topCapHeight;    
 *  
 *  leftCapWidthä»£è¡¨å·¦ç«¯ç›–å®½åº¦ï¼ŒtopCapHeightä»£è¡¨é¡¶ç«¯ç›–é«˜åº¦ã€‚ç³»ç»Ÿä¼šè‡ªåŠ¨è®¡ç®—å‡ºå³ç«¯ç›–å®½åº¦(rightCapWidth)å’Œåº•ç«¯ç›–é«˜åº¦(bottomCapHeight)    

 * ç®—æ³•å¦‚ä¸‹ï¼š    
 * widthä¸ºå›¾ç‰‡å®½åº¦  rightCapWidth = width - leftCapWidth - 1;       
 * heightä¸ºå›¾ç‰‡é«˜åº¦ bottomCapHeight = height - topCapHeight - 1    
 *    
 *ç»è¿‡è®¡ç®—ï¼Œä½ ä¼šå‘ç°ä¸­é—´çš„å¯æ‹‰ä¼¸åŒºåŸŸåªæœ‰1x1    
 *   

* stretchWidthä¸ºä¸­é—´å¯æ‹‰ä¼¸åŒºåŸŸçš„å®½åº¦        stretchWidth = width - leftCapWidth - rightCapWidth = 1;       
* stretchHeightä¸ºä¸­é—´å¯æ‹‰ä¼¸åŒºåŸŸçš„é«˜åº¦        stretchHeight = height - topCapHeight - bottomCapHeight = 1;    
*    
* å› æ­¤ï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•åªä¼šæ‹‰ä¼¸å›¾ç‰‡ä¸­é—´1x1çš„åŒºåŸŸï¼Œå¹¶ä¸ä¼šå½±å“åˆ°è¾¹ç¼˜å’Œè§’è½ã€‚    
*/

/**   
 * - (UIImage * )resizableImageWithCapInsets:(UIEdgeInsets)capInsets    
 *  è¿™ä¸ªæ–¹æ³•åªæ¥æ”¶ä¸€ä¸ªUIEdgeInsetsç±»å‹çš„å‚æ•°ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®UIEdgeInsetsçš„leftã€rightã€topã€bottomæ¥åˆ†åˆ«æŒ‡å®šå·¦ç«¯ç›–å®½åº¦ã€å³ç«¯ç›–å®½åº¦ã€é¡¶ç«¯ç›–é«˜åº¦ã€åº•ç«¯ç›–é«˜åº¦    
 * */       

/**    
 *- (UIImage * )resizableImageWithCapInsets:(UIEdgeInsets)capInsets resizingMode:(UIImageResizingMode)resizingMode  

å¯¹æ¯”iOS5.0ä¸­çš„æ–¹æ³•ï¼Œåªå¤šäº†ä¸€ä¸ª<code>UIImageResizingMode</code>å‚æ•°ï¼Œç”¨æ¥æŒ‡å®šæ‹‰ä¼¸çš„æ¨¡å¼ï¼š
    UIImageResizingModeStretchï¼šæ‹‰ä¼¸æ¨¡å¼ï¼Œé€šè¿‡æ‹‰ä¼¸
    UIEdgeInsets:æŒ‡å®šçš„çŸ©å½¢åŒºåŸŸæ¥å¡«å……å›¾ç‰‡    
    UIImageResizingModeTileï¼šå¹³é“ºæ¨¡å¼ï¼Œé€šè¿‡é‡å¤æ˜¾ç¤º
    UIEdgeInsetsæŒ‡å®šçš„çŸ©å½¢åŒºåŸŸæ¥å¡«å……å›¾ç‰‡   
**/</pre>

<p>å›¾ç‰‡æ‹‰ä¼¸çš„ä»¥ä¸Šå†…å®¹å‚è€ƒæ–‡ç«  ã€Š<a href="http://blog.csdn.net/q199109106q/article/details/8615661" target="_blank" rel="external">iOSå›¾ç‰‡æ‹‰ä¼¸æŠ€å·§</a>ã€‹è®²çš„å¾ˆå¥½ï¼Œå»ºè®®å¤§å®¶å¤šçœ‹çœ‹ã€‚</p>
<h3 id="4ã€iOSä¸­å”¤èµ·è‡ªå¸¦æµè§ˆå™¨ï¼ˆsafariï¼‰çš„æ–¹æ³•"><a href="#4ã€iOSä¸­å”¤èµ·è‡ªå¸¦æµè§ˆå™¨ï¼ˆsafariï¼‰çš„æ–¹æ³•" class="headerlink" title="4ã€iOSä¸­å”¤èµ·è‡ªå¸¦æµè§ˆå™¨ï¼ˆsafariï¼‰çš„æ–¹æ³•"></a>4ã€iOSä¸­å”¤èµ·è‡ªå¸¦æµè§ˆå™¨ï¼ˆsafariï¼‰çš„æ–¹æ³•</h3><p>ä¹Ÿæ˜¯ä¸€ä¸ªç®€å•çš„ä¸€å¥ä»£ç  ï¼Œè¿™ç§ä¹Ÿå°±æ˜¯çŸ¥é“äº†å°±çŸ¥é“äº†ï¼Œä¸çŸ¥é“å°±æ˜¯æŠ“è€³æŒ è…®å§ </p>
<pre>NSURL *url = [NSURL URLWithString:urlStr]; 

[[UIApplication sharedApplication] openURL:url]; </pre>

<h3 id="5ã€iOSä¸­å”¤èµ·ç”µè¯ç•Œé¢"><a href="#5ã€iOSä¸­å”¤èµ·ç”µè¯ç•Œé¢" class="headerlink" title="5ã€iOSä¸­å”¤èµ·ç”µè¯ç•Œé¢"></a>5ã€iOSä¸­å”¤èµ·ç”µè¯ç•Œé¢</h3><p>appå†…éƒ¨å”¤èµ·ç”µè¯ç•Œé¢çš„å®ç°ï¼Œæ˜¯æ‰¾äº†å¾ˆå¤šèµ„æ–™æ‰æœ‰çš„ä¸€ä¸ªç»“è®ºï¼ˆå®‰å…¨ï¼Œå¹¶ä¸”æ‹¨æ‰“å®Œä¹‹åå¯ä»¥è¿”å›appï¼‰</p>
<p>å®ç°çš„æ–¹æ³•æ˜¯ä½¿ç”¨UIWebView åŠ è½½ç”µè¯ï¼Œç›®å‰è¿™ç§æ–¹æ³•æ˜¯åˆæ³•çš„ï¼ŒApp Storeä¹Ÿå…è®¸é€šè¿‡çš„ã€‚  </p>
<pre>NSURL *phoneURL = [NSURL URLWithString:[NSString stringWithFormat:@"tel:%@",newPhoneString]];    
 if (_phoneCallWebView) { 
   [_phoneCallWebView loadRequest:[NSURLRequest requestWithURL:phoneURL]];  

 }</pre>

<p>ä½†å¦‚æœä½¿ç”¨ä¸‹é¢çš„è¿™ç§æ–¹æ³•ï¼Œåˆ™å¯èƒ½ä¸å…è®¸é€šè¿‡å®¡æ ¸  </p>
<pre>[[UIApplication sharedApplication] openURL:phoneURL];</pre>

<h3 id="6ã€iOS-è°ƒç”¨åœ°å›¾çš„æ–¹æ³•"><a href="#6ã€iOS-è°ƒç”¨åœ°å›¾çš„æ–¹æ³•" class="headerlink" title="6ã€iOS è°ƒç”¨åœ°å›¾çš„æ–¹æ³•"></a>6ã€iOS è°ƒç”¨åœ°å›¾çš„æ–¹æ³•</h3><p>appå†…éƒ¨è°ƒç”¨ç¬¬ä¸‰æ–¹appï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªè¯¦ç»†çš„æ–‡ç« ã€Š<a href="http://blog.csdn.net/a416863220/article/details/51220739" target="_blank" rel="external">IOSå®ç°åº”ç”¨å†…æ‰“å¼€ç¬¬ä¸‰æ–¹åœ°å›¾appè¿›è¡Œå¯¼èˆª</a>ã€‹</p>
<ul>
<li>appå†…éƒ¨è°ƒç”¨åœ°å›¾ï¼Œéœ€è¦å…ˆæ£€æµ‹ç”¨æˆ·æ‰‹æœºä¸Šæ˜¯å¦å·²ç»å®‰è£…åœ°å›¾appã€‚</li>
</ul>
<p>æˆ‘ä»¬å¸¸ç”¨çš„åœ°å›¾appæœ‰ï¼šé«˜å¾·ã€ç™¾åº¦ï¼›å›½å¤–æœ‰ï¼šè°·æ­Œï¼ˆGoogle Map ï¼‰ã€‚å½“ç„¶è¿˜æœ‰è‹¹æœè‡ªå¸¦çš„åœ°å›¾ï¼Œéšç€iOS10çš„å‘å¸ƒï¼Œè‹¹æœåœ°å›¾è¿™å—ä¹Ÿæœ‰å¾ˆå¤§çš„å®Œå–„å’Œè¿›æ­¥ã€‚</p>
<p>æˆ‘ä½¿ç”¨Xcodeæ¨¡æ‹Ÿå™¨å®ç°æ—¶ï¼Œä¼šæç¤º:</p>
<pre>1ã€canOpenURL: failed for URL: "iosamap://" error: "(null)" ã€‚</pre>

<p><strong>åŸå› æ˜¯</strong>ï¼šæ¨¡æ‹Ÿå™¨ä¸Šæ²¡æœ‰é«˜å¾·åœ°å›¾ã€‚</p>
<pre>
2ã€canOpenURL: failed for URL:"comgooglemaps://" error: "This app is not allowed to query for scheme comgooglemaps"ã€‚</pre>

<p><strong>åŸå› æ˜¯</strong>ï¼š<code>LSApplicationQueriesSchemes</code>æˆ‘è‡ªå·±é©¬è™è®¾æˆäº†å­—å…¸ç±»å‹ã€‚</p>
<p>é¦–å…ˆiOS9ä»¥åï¼Œæˆ‘ä»¬åœ¨appå†…éƒ¨è¦è·³è½¬åˆ°å…¶ä»–è½¯ä»¶æ—¶ï¼Œéœ€è¦åœ¨ <code>Info.plist</code> ä¸­æ·»åŠ ç™½åå•ã€‚</p>
<p>æ–¹æ³•ä¸ºï¼šåœ¨<code>Info.plist</code>ä¸­æ·»åŠ  <code>key : LSApplicationQueriesSchemes </code> ç±»å‹ä¸ºï¼š<code>Array</code>ã€‚</p>
<p>å°†é«˜å¾·ã€ç™¾åº¦ã€è°·æ­Œçš„å€¼å¡«è¿›å»åˆ†åˆ«æ˜¯ï¼š<code>iosamap</code>ã€<code>baidumap</code>ã€ <code>comgooglemaps</code></p>
<p>å›¾ç‰‡ï¼š<br><img src="http://obzx0h1re.bkt.clouddn.com/LSApplicationQueriesSchemes.png" alt="LSApplicationQueriesSchemes"></p>
<p>è‡³äºä¸‹é¢ä»£ç ä¸­çš„<code>URLScheme</code> å’Œ<code>appName </code> æ˜¯åœ¨<code>Info.plist</code> çš„<code>URL types</code>ä¸­æ·»åŠ   <code>URL Scheme</code>(URL Schemesæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå…è®¸åº”ç”¨å®šä¹‰å¤šä¸ªURL schemes)å’Œ<code>URL identifier</code>ï¼ˆå»ºè®®é‡‡ç”¨åè½¬åŸŸåçš„æ–¹æ³•ä¿è¯è¯¥åå­—çš„å”¯ä¸€æ€§ï¼Œæ¯”å¦‚ <code>com.yourApp.www</code>ï¼‰</p>
<p>å›¾ç‰‡å¦‚ä¸‹ï¼š</p>
<p><img src="http://obzx0h1re.bkt.clouddn.com/URLTypes.png" alt="URLTypes"></p>
<p>ä¸‹é¢æ˜¯å…·ä½“çš„ä»£ç ï¼š</p>
 <pre>__block NSString *urlScheme = urlScheme;   

 __block NSString *appName = appName;    

__block CLLocationCoordinate2D coordinate = self.coordinate;        

UIAlertController *alert = [UIAlertController alertControllerWithTitle:@"é€‰æ‹©åœ°å›¾" message:nil preferredStyle:UIAlertControllerStyleActionSheet];          

//appleè‡ªå¸¦çš„åœ°å›¾ä¸éœ€è¦åˆ¤æ–­        

UIAlertAction * action = [UIAlertAction actionWithTitle:@"è‹¹æœåœ°å›¾" style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) {      

       MKMapItem *currentLocation = [MKMapItem mapItemForCurrentLocation]; 

     MKMapItem *toLocation = [[MKMapItem alloc] initWithPlacemark:[[MKPlacemark alloc] initWithCoordinate:coordinate addressDictionary:nil]];                      

     [MKMapItem openMapsWithItems:@[currentLocation, toLocation]                           launchOptions:@{

MKLaunchOptionsDirectionsModeKey:     MKLaunchOptionsDirectionsModeDriving,MKLaunchOptionsShowsTrafficKey: [NSNumber numberWithBool:YES]}];        

}];        

 [alert addAction:action];        

 //åˆ¤æ–­ç™¾åº¦åœ°å›¾   

 if ( [[UIApplication sharedApplication] canOpenURL:[NSURL URLWithString:@"baidumap://"]])      

{        UIAlertAction * action = [UIAlertAction actionWithTitle:@"ç™¾åº¦åœ°å›¾" style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) {                       

 NSString *urlString = [[NSString stringWithFormat:@"baidumap://map/direction?origin=&destination=latlng:%f,%f|name=ç›®çš„åœ°&mode=driving&coord_type=gcj02",coordinate.latitude, coordinate.longitude] stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];

  [[UIApplication sharedApplication] openURL:[NSURL URLWithString:urlString]];         

 }];        

[alert addAction:action];      

}     

 //åˆ¤æ–­é«˜å¾·åœ°å›¾     

 if ( [[UIApplication sharedApplication] canOpenURL:[NSURL URLWithString:@"iosamap://"]])      

 {        

UIAlertAction * action = [UIAlertAction actionWithTitle:@"é«˜å¾·åœ°å›¾" style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) {                        

NSString *urlString = [[NSString stringWithFormat:@"iosamap://navi?sourceApplication=%@&backScheme=%@&lat=%f&lon=%f&dev=0&style=2",appName,urlScheme,coordinate.latitude, coordinate.longitude] stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];  

        [[UIApplication sharedApplication] openURL:[NSURL URLWithString:urlString]];                    }];       

 [alert addAction:action];    

}        

 //åˆ¤æ–­è°·æ­Œåœ°å›¾   

 if ( [[UIApplication sharedApplication] canOpenURL:[NSURL URLWithString:@"comgooglemaps://"]])    {       

 UIAlertAction * action = [UIAlertAction actionWithTitle:@"è°·æ­Œåœ°å›¾" style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) {                       

 NSString *urlString = [[NSString stringWithFormat:@"comgooglemaps://?x-source=%@&x-success=%@&saddr=&daddr=%f,%f&directionsmode=driving",appName,urlScheme,coordinate.latitude, coordinate.longitude] stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];                       
 [[UIApplication sharedApplication] openURL:[NSURL URLWithString:urlString]];          

}];                

[alert addAction:action];    

}        

UIAlertAction *action = [UIAlertAction actionWithTitle:@"å–æ¶ˆ" style:UIAlertActionStyleCancel handler:nil];    [alert addAction:action];        

[self presentViewController:alert animated:YES completion:^{          

}];    

}</pre>

]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å‰è¨€ï¼š&quot;&gt;&lt;a href=&quot;#å‰è¨€ï¼š&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€ï¼š&quot;&gt;&lt;/a&gt;å‰è¨€ï¼š&lt;/h3&gt;&lt;p&gt; ä¸€åˆ°å…¬å¸æŠ¥é“é‚£æ—¶ï¼Œä¾¿ç€æ‰‹ç‹¬ç«‹çš„å»å®Œæˆäº†ä¸€ä¸ªé¡¹ç›®ï¼Œå…¶ä¸­çš„è¾›é…¸æ³ªä¹Ÿæ˜¯ä¸è¶³ä¸ºå¤–äººé“ä¹Ÿã€‚è¿™æ¬¡ç®—æ˜¯ä¸€ä¸ªæ–°å‹çš„appï¼Œä»ç„¶æ˜¯ç‹¬ç«‹å¼€å‘ï¼Œä½†å¿ƒå¢ƒå’Œ
    
    </summary>
    
    
      <category term="iOS" scheme="https:guohuaden.com/tags/iOS/"/>
    
  </entry>
  
</feed>
